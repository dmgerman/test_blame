multiline_comment|/*&n; * Universal Interface for Intel High Definition Audio Codec&n; *&n; * HD audio interface patch for Realtek ALC codecs&n; *&n; * Copyright (c) 2004 Kailang Yang &lt;kailang@realtek.com.tw&gt;&n; *                    PeiSen Hou &lt;pshou@realtek.com.tw&gt;&n; *                    Takashi Iwai &lt;tiwai@suse.de&gt;&n; *                    Jonathan Woithe &lt;jwoithe@physics.adelaide.edu.au&gt;&n; *&n; *  This driver is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This driver is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; */
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &lt;sound/jack.h&gt;
macro_line|#include &quot;hda_codec.h&quot;
macro_line|#include &quot;hda_local.h&quot;
macro_line|#include &quot;hda_beep.h&quot;
multiline_comment|/* unsol event tags */
macro_line|#define ALC_FRONT_EVENT&t;&t;0x01
macro_line|#define ALC_DCVOL_EVENT&t;&t;0x02
macro_line|#define ALC_HP_EVENT&t;&t;0x04
macro_line|#define ALC_MIC_EVENT&t;&t;0x08
multiline_comment|/* for GPIO Poll */
macro_line|#define GPIO_MASK&t;0x03
multiline_comment|/* extra amp-initialization sequence types */
r_enum
(brace
"&t;"
id|ALC_INIT_NONE
comma
"&t;"
id|ALC_INIT_DEFAULT
comma
"&t;"
id|ALC_INIT_GPIO1
comma
"&t;"
id|ALC_INIT_GPIO2
comma
"&t;"
id|ALC_INIT_GPIO3
comma
)brace
suffix:semicolon
r_struct
id|alc_customize_define
(brace
"&t;"
r_int
r_int
id|sku_cfg
suffix:semicolon
"&t;"
r_int
r_char
id|port_connectivity
suffix:semicolon
"&t;"
r_int
r_char
id|check_sum
suffix:semicolon
"&t;"
r_int
r_char
id|customization
suffix:semicolon
"&t;"
r_int
r_char
id|external_amp
suffix:semicolon
"&t;"
r_int
r_int
id|enable_pcbeep
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|platform_type
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|swap
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|override
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|fixup
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* Means that this sku is set by driver, not read from hw */
)brace
suffix:semicolon
r_struct
id|alc_fixup
suffix:semicolon
r_struct
id|alc_multi_io
(brace
"&t;"
id|hda_nid_t
id|pin
suffix:semicolon
"&t;&t;"
multiline_comment|/* multi-io widget pin NID */
"&t;"
id|hda_nid_t
id|dac
suffix:semicolon
"&t;&t;"
multiline_comment|/* DAC to be connected */
"&t;"
r_int
r_int
id|ctl_in
suffix:semicolon
"&t;"
multiline_comment|/* cached input-pin control value */
)brace
suffix:semicolon
r_enum
(brace
"&t;"
id|ALC_AUTOMUTE_PIN
comma
"&t;"
multiline_comment|/* change the pin control */
"&t;"
id|ALC_AUTOMUTE_AMP
comma
"&t;"
multiline_comment|/* mute/unmute the pin AMP */
"&t;"
id|ALC_AUTOMUTE_MIXER
comma
"&t;"
multiline_comment|/* mute/unmute mixer widget AMP */
)brace
suffix:semicolon
r_struct
id|alc_spec
(brace
"&t;"
multiline_comment|/* codec parameterization */
"&t;"
r_const
r_struct
id|snd_kcontrol_new
op_star
id|mixers
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
multiline_comment|/* mixer arrays */
"&t;"
r_int
r_int
id|num_mixers
suffix:semicolon
"&t;"
r_const
r_struct
id|snd_kcontrol_new
op_star
id|cap_mixer
suffix:semicolon
"&t;"
multiline_comment|/* capture mixer */
"&t;"
r_int
r_int
id|beep_amp
suffix:semicolon
"&t;"
multiline_comment|/* beep amp value, set via set_beep_amp() */
"&t;"
r_const
r_struct
id|hda_verb
op_star
id|init_verbs
(braket
l_int|10
)braket
suffix:semicolon
"&t;"
multiline_comment|/* initialization verbs&n;&t;&t;&t;&t;&t;&t; * don&squot;t forget NULL&n;&t;&t;&t;&t;&t;&t; * termination!&n;&t;&t;&t;&t;&t;&t; */
"&t;"
r_int
r_int
id|num_init_verbs
suffix:semicolon
"&t;"
r_char
id|stream_name_analog
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
multiline_comment|/* analog PCM stream */
"&t;"
r_const
r_struct
id|hda_pcm_stream
op_star
id|stream_analog_playback
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_pcm_stream
op_star
id|stream_analog_capture
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_pcm_stream
op_star
id|stream_analog_alt_playback
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_pcm_stream
op_star
id|stream_analog_alt_capture
suffix:semicolon
"&t;"
r_char
id|stream_name_digital
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
multiline_comment|/* digital PCM stream */
"&t;"
r_const
r_struct
id|hda_pcm_stream
op_star
id|stream_digital_playback
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_pcm_stream
op_star
id|stream_digital_capture
suffix:semicolon
"&t;"
multiline_comment|/* playback */
"&t;"
r_struct
id|hda_multi_out
id|multiout
suffix:semicolon
"&t;"
multiline_comment|/* playback set-up&n;&t;&t;&t;&t;&t; * max_channels, dacs must be set&n;&t;&t;&t;&t;&t; * dig_out_nid and hp_nid are optional&n;&t;&t;&t;&t;&t; */
"&t;"
id|hda_nid_t
id|alt_dac_nid
suffix:semicolon
"&t;"
id|hda_nid_t
id|slave_dig_outs
(braket
l_int|3
)braket
suffix:semicolon
"&t;"
multiline_comment|/* optional - for auto-parsing */
"&t;"
r_int
id|dig_out_type
suffix:semicolon
"&t;"
multiline_comment|/* capture */
"&t;"
r_int
r_int
id|num_adc_nids
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
op_star
id|adc_nids
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
op_star
id|capsrc_nids
suffix:semicolon
"&t;"
id|hda_nid_t
id|dig_in_nid
suffix:semicolon
"&t;&t;"
multiline_comment|/* digital-in NID; optional */
"&t;"
id|hda_nid_t
id|mixer_nid
suffix:semicolon
"&t;&t;"
multiline_comment|/* analog-mixer NID */
"&t;"
id|DECLARE_BITMAP
c_func
(paren
id|vol_ctls
comma
l_int|0x20
op_lshift
l_int|1
)paren
suffix:semicolon
"&t;"
id|DECLARE_BITMAP
c_func
(paren
id|sw_ctls
comma
l_int|0x20
op_lshift
l_int|1
)paren
suffix:semicolon
"&t;"
multiline_comment|/* capture setup for dynamic dual-adc switch */
"&t;"
id|hda_nid_t
id|cur_adc
suffix:semicolon
"&t;"
r_int
r_int
id|cur_adc_stream_tag
suffix:semicolon
"&t;"
r_int
r_int
id|cur_adc_format
suffix:semicolon
"&t;"
multiline_comment|/* capture source */
"&t;"
r_int
r_int
id|num_mux_defs
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_input_mux
op_star
id|input_mux
suffix:semicolon
"&t;"
r_int
r_int
id|cur_mux
(braket
l_int|3
)braket
suffix:semicolon
"&t;"
id|hda_nid_t
id|ext_mic_pin
suffix:semicolon
"&t;"
id|hda_nid_t
id|dock_mic_pin
suffix:semicolon
"&t;"
id|hda_nid_t
id|int_mic_pin
suffix:semicolon
"&t;"
multiline_comment|/* channel model */
"&t;"
r_const
r_struct
id|hda_channel_mode
op_star
id|channel_mode
suffix:semicolon
"&t;"
r_int
id|num_channel_mode
suffix:semicolon
"&t;"
r_int
id|need_dac_fix
suffix:semicolon
"&t;"
r_int
id|const_channel_count
suffix:semicolon
"&t;"
r_int
id|ext_channel_count
suffix:semicolon
"&t;"
multiline_comment|/* PCM information */
"&t;"
r_struct
id|hda_pcm
id|pcm_rec
(braket
l_int|3
)braket
suffix:semicolon
"&t;"
multiline_comment|/* used in alc_build_pcms() */
"&t;"
multiline_comment|/* dynamic controls, init_verbs and input_mux */
"&t;"
r_struct
id|auto_pin_cfg
id|autocfg
suffix:semicolon
"&t;"
r_struct
id|alc_customize_define
id|cdefine
suffix:semicolon
"&t;"
r_struct
id|snd_array
id|kctls
suffix:semicolon
"&t;"
r_struct
id|hda_input_mux
id|private_imux
(braket
l_int|3
)braket
suffix:semicolon
"&t;"
id|hda_nid_t
id|private_dac_nids
(braket
id|AUTO_CFG_MAX_OUTS
)braket
suffix:semicolon
"&t;"
id|hda_nid_t
id|private_adc_nids
(braket
id|AUTO_CFG_MAX_OUTS
)braket
suffix:semicolon
"&t;"
id|hda_nid_t
id|private_capsrc_nids
(braket
id|AUTO_CFG_MAX_OUTS
)braket
suffix:semicolon
"&t;"
id|hda_nid_t
id|imux_pins
(braket
id|HDA_MAX_NUM_INPUTS
)braket
suffix:semicolon
"&t;"
r_int
r_int
id|dyn_adc_idx
(braket
id|HDA_MAX_NUM_INPUTS
)braket
suffix:semicolon
"&t;"
r_int
id|int_mic_idx
comma
id|ext_mic_idx
comma
id|dock_mic_idx
suffix:semicolon
multiline_comment|/* for auto-mic */
"&t;"
multiline_comment|/* hooks */
"&t;"
r_void
(paren
op_star
id|init_hook
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
suffix:semicolon
"&t;"
r_void
(paren
op_star
id|unsol_event
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|res
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_void
(paren
op_star
id|power_hook
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
suffix:semicolon
macro_line|#endif
"&t;"
r_void
(paren
op_star
id|shutup
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
suffix:semicolon
"&t;"
r_void
(paren
op_star
id|automute_hook
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
suffix:semicolon
"&t;"
multiline_comment|/* for pin sensing */
"&t;"
r_int
r_int
id|hp_jack_present
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|line_jack_present
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|master_mute
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|auto_mic
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|auto_mic_valid_imux
suffix:colon
l_int|1
suffix:semicolon
"&t;"
multiline_comment|/* valid imux for auto-mic */
"&t;"
r_int
r_int
id|automute_speaker
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* automute speaker outputs */
"&t;"
r_int
r_int
id|automute_lo
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* automute LO outputs */
"&t;"
r_int
r_int
id|detect_hp
suffix:colon
l_int|1
suffix:semicolon
"&t;"
multiline_comment|/* Headphone detection enabled */
"&t;"
r_int
r_int
id|detect_lo
suffix:colon
l_int|1
suffix:semicolon
"&t;"
multiline_comment|/* Line-out detection enabled */
"&t;"
r_int
r_int
id|automute_speaker_possible
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* there are speakers and either LO or HP */
"&t;"
r_int
r_int
id|automute_lo_possible
suffix:colon
l_int|1
suffix:semicolon
"&t;"
multiline_comment|/* there are line outs and HP */
"&t;"
multiline_comment|/* other flags */
"&t;"
r_int
r_int
id|no_analog
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* digital I/O only */
"&t;"
r_int
r_int
id|dyn_adc_switch
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* switch ADCs (for ALC275) */
"&t;"
r_int
r_int
id|single_input_src
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|vol_in_capsrc
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* use capsrc volume (ADC has no vol) */
"&t;"
r_int
r_int
id|parse_flags
suffix:semicolon
multiline_comment|/* passed to snd_hda_parse_pin_defcfg() */
"&t;"
multiline_comment|/* auto-mute control */
"&t;"
r_int
id|automute_mode
suffix:semicolon
"&t;"
id|hda_nid_t
id|automute_mixer_nid
(braket
id|AUTO_CFG_MAX_OUTS
)braket
suffix:semicolon
"&t;"
r_int
id|init_amp
suffix:semicolon
"&t;"
r_int
id|codec_variant
suffix:semicolon
"&t;"
multiline_comment|/* flag for other variants */
"&t;"
multiline_comment|/* for virtual master */
"&t;"
id|hda_nid_t
id|vmaster_nid
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_struct
id|hda_loopback_check
id|loopback
suffix:semicolon
macro_line|#endif
"&t;"
multiline_comment|/* for PLL fix */
"&t;"
id|hda_nid_t
id|pll_nid
suffix:semicolon
"&t;"
r_int
r_int
id|pll_coef_idx
comma
id|pll_coef_bit
suffix:semicolon
"&t;"
r_int
r_int
id|coef0
suffix:semicolon
"&t;"
multiline_comment|/* fix-up list */
"&t;"
r_int
id|fixup_id
suffix:semicolon
"&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fixup_list
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|fixup_name
suffix:semicolon
"&t;"
multiline_comment|/* multi-io */
"&t;"
r_int
id|multi_ios
suffix:semicolon
"&t;"
r_struct
id|alc_multi_io
id|multi_io
(braket
l_int|4
)braket
suffix:semicolon
"&t;"
multiline_comment|/* bind volumes */
"&t;"
r_struct
id|snd_array
id|bind_ctls
suffix:semicolon
)brace
suffix:semicolon
macro_line|#define ALC_MODEL_AUTO&t;&t;0&t;/* common for all chips */
r_bool
id|check_amp_caps
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
"&t;&t;&t;"
r_int
id|dir
comma
r_int
r_int
id|bits
)paren
(brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;"
r_return
l_bool|false
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
op_amp
(paren
l_int|1
op_lshift
(paren
id|dir
op_plus
l_int|1
)paren
)paren
)paren
"&t;&t;"
r_if
c_cond
(paren
id|query_amp_caps
c_func
(paren
id|codec
comma
id|nid
comma
id|dir
)paren
op_amp
id|bits
)paren
"&t;&t;&t;"
r_return
l_bool|true
suffix:semicolon
"&t;"
r_return
l_bool|false
suffix:semicolon
)brace
macro_line|#define nid_has_mute(codec, nid, dir) &bslash;&n;&t;check_amp_caps(codec, nid, dir, AC_AMPCAP_MUTE)
macro_line|#define nid_has_volume(codec, nid, dir) &bslash;&n;&t;check_amp_caps(codec, nid, dir, AC_AMPCAP_NUM_STEPS)
multiline_comment|/*&n; * input MUX handling&n; */
r_int
id|alc_mux_enum_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|mux_idx
op_assign
id|snd_ctl_get_ioffidx
c_func
(paren
id|kcontrol
comma
op_amp
id|uinfo-&gt;id
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|mux_idx
op_ge
id|spec-&gt;num_mux_defs
)paren
"&t;&t;"
id|mux_idx
op_assign
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;input_mux
(braket
id|mux_idx
)braket
dot
id|num_items
op_logical_and
id|mux_idx
OG
l_int|0
)paren
"&t;&t;"
id|mux_idx
op_assign
l_int|0
suffix:semicolon
"&t;"
r_return
id|snd_hda_input_mux_info
c_func
(paren
op_amp
id|spec-&gt;input_mux
(braket
id|mux_idx
)braket
comma
id|uinfo
)paren
suffix:semicolon
)brace
r_int
id|alc_mux_enum_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|adc_idx
op_assign
id|snd_ctl_get_ioffidx
c_func
(paren
id|kcontrol
comma
op_amp
id|ucontrol-&gt;id
)paren
suffix:semicolon
"&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
id|spec-&gt;cur_mux
(braket
id|adc_idx
)braket
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_bool
id|alc_dyn_adc_pcm_resetup
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|cur
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|new_adc
op_assign
id|spec-&gt;adc_nids
(braket
id|spec-&gt;dyn_adc_idx
(braket
id|cur
)braket
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;cur_adc
op_logical_and
id|spec-&gt;cur_adc
op_ne
id|new_adc
)paren
(brace
"&t;&t;"
multiline_comment|/* stream is running, let&squot;s swap the current ADC */
"&t;&t;"
id|__snd_hda_codec_cleanup_stream
c_func
(paren
id|codec
comma
id|spec-&gt;cur_adc
comma
l_int|1
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;cur_adc
op_assign
id|new_adc
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_setup_stream
c_func
(paren
id|codec
comma
id|new_adc
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;cur_adc_stream_tag
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;cur_adc_format
)paren
suffix:semicolon
"&t;&t;"
r_return
l_bool|true
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_bool|false
suffix:semicolon
)brace
id|hda_nid_t
id|get_capsrc
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_int
id|idx
)paren
(brace
"&t;"
r_return
id|spec-&gt;capsrc_nids
ques
c_cond
"&t;&t;"
id|spec-&gt;capsrc_nids
(braket
id|idx
)braket
suffix:colon
id|spec-&gt;adc_nids
(braket
id|idx
)braket
suffix:semicolon
)brace
multiline_comment|/* select the given imux item; either unmute exclusively or select the route */
r_int
id|alc_mux_select
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|adc_idx
comma
"&t;&t;&t;"
r_int
r_int
id|idx
comma
r_bool
id|force
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_input_mux
op_star
id|imux
suffix:semicolon
"&t;"
r_int
r_int
id|mux_idx
suffix:semicolon
"&t;"
r_int
id|i
comma
id|type
comma
id|num_conns
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
id|mux_idx
op_assign
id|adc_idx
op_ge
id|spec-&gt;num_mux_defs
ques
c_cond
l_int|0
suffix:colon
id|adc_idx
suffix:semicolon
"&t;"
id|imux
op_assign
op_amp
id|spec-&gt;input_mux
(braket
id|mux_idx
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|imux-&gt;num_items
op_logical_and
id|mux_idx
OG
l_int|0
)paren
"&t;&t;"
id|imux
op_assign
op_amp
id|spec-&gt;input_mux
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|imux-&gt;num_items
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|idx
op_ge
id|imux-&gt;num_items
)paren
"&t;&t;"
id|idx
op_assign
id|imux-&gt;num_items
l_int|1
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;cur_mux
(braket
id|adc_idx
)braket
op_eq
id|idx
op_logical_and
op_logical_neg
id|force
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
id|spec-&gt;cur_mux
(braket
id|adc_idx
)braket
op_assign
id|idx
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dyn_adc_switch
)paren
(brace
"&t;&t;"
id|alc_dyn_adc_pcm_resetup
c_func
(paren
id|codec
comma
id|idx
)paren
suffix:semicolon
"&t;&t;"
id|adc_idx
op_assign
id|spec-&gt;dyn_adc_idx
(braket
id|idx
)braket
suffix:semicolon
"&t;"
)brace
"&t;"
id|nid
op_assign
id|get_capsrc
c_func
(paren
id|spec
comma
id|adc_idx
)paren
suffix:semicolon
"&t;"
multiline_comment|/* no selection? */
"&t;"
id|num_conns
op_assign
id|snd_hda_get_conn_list
c_func
(paren
id|codec
comma
id|nid
comma
l_int|NULL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|num_conns
op_le
l_int|1
)paren
"&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;"
id|type
op_assign
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|type
op_eq
id|AC_WID_AUD_MIX
)paren
(brace
"&t;&t;"
multiline_comment|/* Matrix-mixer style (e.g. ALC882) */
"&t;&t;"
r_int
id|active
op_assign
id|imux-&gt;items
(braket
id|idx
)braket
dot
id|index
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num_conns
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
r_int
r_int
id|v
op_assign
(paren
id|i
op_eq
id|active
)paren
ques
c_cond
l_int|0
suffix:colon
id|HDA_AMP_MUTE
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_amp_stereo
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_INPUT
comma
id|i
comma
"&t;&t;&t;&t;&t;&t;"
id|HDA_AMP_MUTE
comma
id|v
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
r_else
(brace
"&t;&t;"
multiline_comment|/* MUX style (e.g. ALC880) */
"&t;&t;"
id|snd_hda_codec_write_cache
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_CONNECT_SEL
comma
"&t;&t;&t;&t;&t;"
id|imux-&gt;items
(braket
id|idx
)braket
dot
id|index
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
r_int
id|alc_mux_enum_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_int
r_int
id|adc_idx
op_assign
id|snd_ctl_get_ioffidx
c_func
(paren
id|kcontrol
comma
op_amp
id|ucontrol-&gt;id
)paren
suffix:semicolon
"&t;"
r_return
id|alc_mux_select
c_func
(paren
id|codec
comma
id|adc_idx
comma
"&t;&t;&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
comma
l_bool|false
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * set up the input pin config (depending on the given auto-pin type)&n; */
r_void
id|alc_set_input_pin
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
"&t;&t;&t;"
r_int
id|auto_pin_type
)paren
(brace
"&t;"
r_int
r_int
id|val
op_assign
id|PIN_IN
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|auto_pin_type
op_eq
id|AUTO_PIN_MIC
)paren
(brace
"&t;&t;"
r_int
r_int
id|pincap
suffix:semicolon
"&t;&t;"
r_int
r_int
id|oldval
suffix:semicolon
"&t;&t;"
id|oldval
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_GET_PIN_WIDGET_CONTROL
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|pincap
op_assign
id|snd_hda_query_pin_caps
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;&t;"
id|pincap
op_assign
(paren
id|pincap
op_amp
id|AC_PINCAP_VREF
)paren
op_rshift
id|AC_PINCAP_VREF_SHIFT
suffix:semicolon
"&t;&t;"
multiline_comment|/* if the default pin setup is vref50, we give it priority */
"&t;&t;"
r_if
c_cond
(paren
(paren
id|pincap
op_amp
id|AC_PINCAP_VREF_80
)paren
op_logical_and
id|oldval
op_ne
id|PIN_VREF50
)paren
"&t;&t;&t;"
id|val
op_assign
id|PIN_VREF80
suffix:semicolon
"&t;&t;"
r_else
r_if
c_cond
(paren
id|pincap
op_amp
id|AC_PINCAP_VREF_50
)paren
"&t;&t;&t;"
id|val
op_assign
id|PIN_VREF50
suffix:semicolon
"&t;&t;"
r_else
r_if
c_cond
(paren
id|pincap
op_amp
id|AC_PINCAP_VREF_100
)paren
"&t;&t;&t;"
id|val
op_assign
id|PIN_VREF100
suffix:semicolon
"&t;&t;"
r_else
r_if
c_cond
(paren
id|pincap
op_amp
id|AC_PINCAP_VREF_GRD
)paren
"&t;&t;&t;"
id|val
op_assign
id|PIN_VREFGRD
suffix:semicolon
"&t;"
)brace
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|val
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Append the given mixer and verb elements for the later use&n; * The mixer array is referred in build_controls(), and init_verbs are&n; * called in init().&n; */
r_void
id|add_mixer
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_const
r_struct
id|snd_kcontrol_new
op_star
id|mix
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|snd_BUG_ON
c_func
(paren
id|spec-&gt;num_mixers
op_ge
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;mixers
)paren
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
op_increment
)braket
op_assign
id|mix
suffix:semicolon
)brace
r_void
id|add_verb
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_const
r_struct
id|hda_verb
op_star
id|verb
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|snd_BUG_ON
c_func
(paren
id|spec-&gt;num_init_verbs
op_ge
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;init_verbs
)paren
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|spec-&gt;init_verbs
(braket
id|spec-&gt;num_init_verbs
op_increment
)braket
op_assign
id|verb
suffix:semicolon
)brace
multiline_comment|/*&n; * GPIO setup tables, used in initialization&n; */
multiline_comment|/* Enable GPIO mask and set output */
r_const
r_struct
id|hda_verb
id|alc_gpio1_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x01
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_const
r_struct
id|hda_verb
id|alc_gpio2_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x02
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x02
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x02
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_const
r_struct
id|hda_verb
id|alc_gpio3_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x03
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x03
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x03
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * Fix hardware PLL issue&n; * On some codecs, the analog PLL gating control must be off while&n; * the default value is 1.&n; */
r_void
id|alc_fix_pll
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|val
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;pll_nid
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|spec-&gt;pll_nid
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
"&t;&t;&t;"
id|spec-&gt;pll_coef_idx
)paren
suffix:semicolon
"&t;"
id|val
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|spec-&gt;pll_nid
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|spec-&gt;pll_nid
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
"&t;&t;&t;"
id|spec-&gt;pll_coef_idx
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|spec-&gt;pll_nid
comma
l_int|0
comma
id|AC_VERB_SET_PROC_COEF
comma
"&t;&t;&t;"
id|val
op_amp
op_complement
(paren
l_int|1
op_lshift
id|spec-&gt;pll_coef_bit
)paren
)paren
suffix:semicolon
)brace
r_void
id|alc_fix_pll_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
"&t;&t;&t;"
r_int
r_int
id|coef_idx
comma
r_int
r_int
id|coef_bit
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|spec-&gt;pll_nid
op_assign
id|nid
suffix:semicolon
"&t;"
id|spec-&gt;pll_coef_idx
op_assign
id|coef_idx
suffix:semicolon
"&t;"
id|spec-&gt;pll_coef_bit
op_assign
id|coef_bit
suffix:semicolon
"&t;"
id|alc_fix_pll
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Jack-reporting via input-jack layer&n; */
multiline_comment|/* initialization of jacks; currently checks only a few known pins */
r_int
id|alc_init_jacks
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
macro_line|#ifdef CONFIG_SND_HDA_INPUT_JACK
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
r_int
r_int
id|hp_nid
op_assign
id|spec-&gt;autocfg.hp_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_int
r_int
id|mic_nid
op_assign
id|spec-&gt;ext_mic_pin
suffix:semicolon
"&t;"
r_int
r_int
id|dock_nid
op_assign
id|spec-&gt;dock_mic_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|hp_nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_input_jack_add
c_func
(paren
id|codec
comma
id|hp_nid
comma
"&t;&t;&t;&t;&t;"
id|SND_JACK_HEADPHONE
comma
l_int|NULL
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
id|snd_hda_input_jack_report
c_func
(paren
id|codec
comma
id|hp_nid
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|mic_nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_input_jack_add
c_func
(paren
id|codec
comma
id|mic_nid
comma
"&t;&t;&t;&t;&t;"
id|SND_JACK_MICROPHONE
comma
l_int|NULL
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
id|snd_hda_input_jack_report
c_func
(paren
id|codec
comma
id|mic_nid
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|dock_nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_input_jack_add
c_func
(paren
id|codec
comma
id|dock_nid
comma
"&t;&t;&t;&t;&t;"
id|SND_JACK_MICROPHONE
comma
l_int|NULL
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
id|snd_hda_input_jack_report
c_func
(paren
id|codec
comma
id|dock_nid
)paren
suffix:semicolon
"&t;"
)brace
macro_line|#endif /* CONFIG_SND_HDA_INPUT_JACK */
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Jack detections for HP auto-mute and mic-switch&n; */
multiline_comment|/* check each pin in the given array; returns true if any of them is plugged */
r_bool
id|detect_jacks
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|num_pins
comma
id|hda_nid_t
op_star
id|pins
)paren
(brace
"&t;"
r_int
id|i
comma
id|present
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num_pins
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
id|snd_hda_input_jack_report
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;&t;"
id|present
op_or_assign
id|snd_hda_jack_detect
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
id|present
suffix:semicolon
)brace
multiline_comment|/* standard HP/line-out auto-mute helper */
r_void
id|do_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|num_pins
comma
id|hda_nid_t
op_star
id|pins
comma
"&t;&t;&t;"
r_bool
id|mute
comma
r_bool
id|hp_out
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|mute_bits
op_assign
id|mute
ques
c_cond
id|HDA_AMP_MUTE
suffix:colon
l_int|0
suffix:semicolon
"&t;"
r_int
r_int
id|pin_bits
op_assign
id|mute
ques
c_cond
l_int|0
suffix:colon
(paren
id|hp_out
ques
c_cond
id|PIN_HP
suffix:colon
id|PIN_OUT
)paren
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num_pins
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_switch
c_cond
(paren
id|spec-&gt;automute_mode
)paren
(brace
"&t;&t;"
r_case
id|ALC_AUTOMUTE_PIN
suffix:colon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|pin_bits
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
id|ALC_AUTOMUTE_AMP
suffix:colon
"&t;&t;&t;"
id|snd_hda_codec_amp_stereo
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|HDA_AMP_MUTE
comma
id|mute_bits
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
id|ALC_AUTOMUTE_MIXER
suffix:colon
"&t;&t;&t;"
id|nid
op_assign
id|spec-&gt;automute_mixer_nid
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_amp_stereo
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_INPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|HDA_AMP_MUTE
comma
id|mute_bits
)paren
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_amp_stereo
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_INPUT
comma
l_int|1
comma
"&t;&t;&t;&t;&t;&t;"
id|HDA_AMP_MUTE
comma
id|mute_bits
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
)brace
multiline_comment|/* Toggle outputs muting */
r_void
id|update_outputs
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|on
suffix:semicolon
"&t;"
multiline_comment|/* Control HP pins/amps depending on master_mute state;&n;&t; * in general, HP pins/amps control should be enabled in all cases,&n;&t; * but currently set only for master_mute, just to be safe&n;&t; */
"&t;"
id|do_automute
c_func
(paren
id|codec
comma
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;autocfg.hp_pins
)paren
comma
"&t;&t;"
id|spec-&gt;autocfg.hp_pins
comma
id|spec-&gt;master_mute
comma
l_bool|true
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;automute_speaker
)paren
"&t;&t;"
id|on
op_assign
l_int|0
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|on
op_assign
id|spec-&gt;hp_jack_present
op_or
id|spec-&gt;line_jack_present
suffix:semicolon
"&t;"
id|on
op_or_assign
id|spec-&gt;master_mute
suffix:semicolon
"&t;"
id|do_automute
c_func
(paren
id|codec
comma
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;autocfg.speaker_pins
)paren
comma
"&t;&t;"
id|spec-&gt;autocfg.speaker_pins
comma
id|on
comma
l_bool|false
)paren
suffix:semicolon
"&t;"
multiline_comment|/* toggle line-out mutes if needed, too */
"&t;"
multiline_comment|/* if LO is a copy of either HP or Speaker, don&squot;t need to handle it */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.line_out_pins
(braket
l_int|0
)braket
op_eq
id|spec-&gt;autocfg.hp_pins
(braket
l_int|0
)braket
op_logical_or
"&t;"
id|spec-&gt;autocfg.line_out_pins
(braket
l_int|0
)braket
op_eq
id|spec-&gt;autocfg.speaker_pins
(braket
l_int|0
)braket
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;automute_lo
)paren
"&t;&t;"
id|on
op_assign
l_int|0
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|on
op_assign
id|spec-&gt;hp_jack_present
suffix:semicolon
"&t;"
id|on
op_or_assign
id|spec-&gt;master_mute
suffix:semicolon
"&t;"
id|do_automute
c_func
(paren
id|codec
comma
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;autocfg.line_out_pins
)paren
comma
"&t;&t;"
id|spec-&gt;autocfg.line_out_pins
comma
id|on
comma
l_bool|false
)paren
suffix:semicolon
)brace
r_void
id|call_update_outputs
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_hook
)paren
"&t;&t;"
id|spec
op_member_access_from_pointer
id|automute_hook
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|update_outputs
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/* standard HP-automute helper */
r_void
id|alc_hp_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|spec-&gt;hp_jack_present
op_assign
"&t;&t;"
id|detect_jacks
c_func
(paren
id|codec
comma
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;autocfg.hp_pins
)paren
comma
"&t;&t;&t;"
id|spec-&gt;autocfg.hp_pins
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;detect_hp
op_logical_or
(paren
op_logical_neg
id|spec-&gt;automute_speaker
op_logical_and
op_logical_neg
id|spec-&gt;automute_lo
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|call_update_outputs
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/* standard line-out-automute helper */
r_void
id|alc_line_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
multiline_comment|/* check LO jack only when it&squot;s different from HP */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.line_out_pins
(braket
l_int|0
)braket
op_eq
id|spec-&gt;autocfg.hp_pins
(braket
l_int|0
)braket
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|spec-&gt;line_jack_present
op_assign
"&t;&t;"
id|detect_jacks
c_func
(paren
id|codec
comma
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;autocfg.line_out_pins
)paren
comma
"&t;&t;&t;"
id|spec-&gt;autocfg.line_out_pins
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;automute_speaker
op_logical_or
op_logical_neg
id|spec-&gt;detect_lo
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|call_update_outputs
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
macro_line|#define get_connection_index(codec, mux, nid) &bslash;&n;&t;snd_hda_get_conn_index(codec, mux, nid, 0)
multiline_comment|/* standard mic auto-switch helper */
r_void
id|alc_mic_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
op_star
id|pins
op_assign
id|spec-&gt;imux_pins
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;auto_mic
op_logical_or
op_logical_neg
id|spec-&gt;auto_mic_valid_imux
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|snd_BUG_ON
c_func
(paren
op_logical_neg
id|spec-&gt;adc_nids
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|snd_BUG_ON
c_func
(paren
id|spec-&gt;int_mic_idx
OL
l_int|0
op_logical_or
id|spec-&gt;ext_mic_idx
OL
l_int|0
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|snd_hda_jack_detect
c_func
(paren
id|codec
comma
id|pins
(braket
id|spec-&gt;ext_mic_idx
)braket
)paren
)paren
"&t;&t;"
id|alc_mux_select
c_func
(paren
id|codec
comma
l_int|0
comma
id|spec-&gt;ext_mic_idx
comma
l_bool|false
)paren
suffix:semicolon
"&t;"
r_else
r_if
c_cond
(paren
id|spec-&gt;dock_mic_idx
op_ge
l_int|0
op_logical_and
"&t;&t;"
id|snd_hda_jack_detect
c_func
(paren
id|codec
comma
id|pins
(braket
id|spec-&gt;dock_mic_idx
)braket
)paren
)paren
"&t;&t;"
id|alc_mux_select
c_func
(paren
id|codec
comma
l_int|0
comma
id|spec-&gt;dock_mic_idx
comma
l_bool|false
)paren
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|alc_mux_select
c_func
(paren
id|codec
comma
l_int|0
comma
id|spec-&gt;int_mic_idx
comma
l_bool|false
)paren
suffix:semicolon
"&t;"
id|snd_hda_input_jack_report
c_func
(paren
id|codec
comma
id|pins
(braket
id|spec-&gt;ext_mic_idx
)braket
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dock_mic_idx
op_ge
l_int|0
)paren
"&t;&t;"
id|snd_hda_input_jack_report
c_func
(paren
id|codec
comma
id|pins
(braket
id|spec-&gt;dock_mic_idx
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* unsolicited event for HP jack sensing */
r_void
id|alc_sku_unsol_event
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|res
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0880
)paren
"&t;&t;"
id|res
op_rshift_assign
l_int|28
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|res
op_rshift_assign
l_int|26
suffix:semicolon
"&t;"
r_switch
c_cond
(paren
id|res
)paren
(brace
"&t;"
r_case
id|ALC_HP_EVENT
suffix:colon
"&t;&t;"
id|alc_hp_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
id|ALC_FRONT_EVENT
suffix:colon
"&t;&t;"
id|alc_line_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
id|ALC_MIC_EVENT
suffix:colon
"&t;&t;"
id|alc_mic_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/* call init functions of standard auto-mute helpers */
r_void
id|alc_inithook
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc_hp_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_line_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_mic_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/* additional initialization for ALC888 variants */
r_void
id|alc888_coef_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_int
r_int
id|tmp
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|tmp
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|tmp
op_amp
l_int|0xf0
)paren
op_eq
l_int|0x20
)paren
"&t;&t;"
multiline_comment|/* alc888S-VC */
"&t;&t;"
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x830
)paren
suffix:semicolon
"&t;"
r_else
"&t;&t;"
multiline_comment|/* alc888-VB */
"&t;&t;"
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x3030
)paren
suffix:semicolon
)brace
multiline_comment|/* additional initialization for ALC889 variants */
r_void
id|alc889_coef_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_int
r_int
id|tmp
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;"
id|tmp
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_PROC_COEF
comma
id|tmp
op_or
l_int|0x2010
)paren
suffix:semicolon
)brace
multiline_comment|/* turn on/off EAPD control (only if available) */
r_void
id|set_eapd
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
r_int
id|on
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
)paren
op_ne
id|AC_WID_PIN
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|snd_hda_query_pin_caps
c_func
(paren
id|codec
comma
id|nid
)paren
op_amp
id|AC_PINCAP_EAPD
)paren
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_EAPD_BTLENABLE
comma
"&t;&t;&t;&t;"
id|on
ques
c_cond
l_int|2
suffix:colon
l_int|0
)paren
suffix:semicolon
)brace
multiline_comment|/* turn on/off EAPD controls of the codec */
r_void
id|alc_auto_setup_eapd
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_bool
id|on
)paren
(brace
"&t;"
multiline_comment|/* We currently only handle front, HP */
"&t;"
id|hda_nid_t
id|pins
(braket
)braket
op_assign
(brace
"&t;&t;"
l_int|0x0f
comma
l_int|0x10
comma
l_int|0x14
comma
l_int|0x15
comma
l_int|0
"&t;"
)brace
suffix:semicolon
"&t;"
id|hda_nid_t
op_star
id|p
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|p
op_assign
id|pins
suffix:semicolon
op_star
id|p
suffix:semicolon
id|p
op_increment
)paren
"&t;&t;"
id|set_eapd
c_func
(paren
id|codec
comma
op_star
id|p
comma
id|on
)paren
suffix:semicolon
)brace
multiline_comment|/* generic shutup callback;&n; * just turning off EPAD and a little pause for avoiding pop-noise&n; */
r_void
id|alc_eapd_shutup
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc_auto_setup_eapd
c_func
(paren
id|codec
comma
l_bool|false
)paren
suffix:semicolon
"&t;"
id|msleep
c_func
(paren
l_int|200
)paren
suffix:semicolon
)brace
multiline_comment|/* generic EAPD initialization */
r_void
id|alc_auto_init_amp
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|type
)paren
(brace
"&t;"
r_int
r_int
id|tmp
suffix:semicolon
"&t;"
id|alc_auto_setup_eapd
c_func
(paren
id|codec
comma
l_bool|true
)paren
suffix:semicolon
"&t;"
r_switch
c_cond
(paren
id|type
)paren
(brace
"&t;"
r_case
id|ALC_INIT_GPIO1
suffix:colon
"&t;&t;"
id|snd_hda_sequence_write
c_func
(paren
id|codec
comma
id|alc_gpio1_init_verbs
)paren
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
id|ALC_INIT_GPIO2
suffix:colon
"&t;&t;"
id|snd_hda_sequence_write
c_func
(paren
id|codec
comma
id|alc_gpio2_init_verbs
)paren
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
id|ALC_INIT_GPIO3
suffix:colon
"&t;&t;"
id|snd_hda_sequence_write
c_func
(paren
id|codec
comma
id|alc_gpio3_init_verbs
)paren
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
id|ALC_INIT_DEFAULT
suffix:colon
"&t;&t;"
r_switch
c_cond
(paren
id|codec-&gt;vendor_id
)paren
(brace
"&t;&t;"
r_case
l_int|0x10ec0260
suffix:colon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;&t;&t;"
id|tmp
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_PROC_COEF
comma
"&t;&t;&t;&t;&t;"
id|tmp
op_or
l_int|0x2010
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x10ec0262
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0880
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0882
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0883
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0885
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0887
suffix:colon
"&t;&t;"
multiline_comment|/*case 0x10ec0889:*/
multiline_comment|/* this causes an SPDIF problem */
"&t;&t;&t;"
id|alc889_coef_init
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x10ec0888
suffix:colon
"&t;&t;&t;"
id|alc888_coef_init
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
macro_line|#if 0 /* XXX: This may cause the silent output on speaker on some machines */
"&t;&t;"
r_case
l_int|0x10ec0267
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0268
suffix:colon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;&t;&t;"
id|tmp
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_PROC_COEF
comma
"&t;&t;&t;&t;&t;"
id|tmp
op_or
l_int|0x3000
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
macro_line|#endif /* XXX */
"&t;&t;"
)brace
"&t;&t;"
r_break
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/*&n; * Auto-Mute mode mixer enum support&n; */
r_int
id|alc_automute_mode_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_char
op_star
r_const
id|texts2
(braket
)braket
op_assign
(brace
"&t;&t;"
l_string|&quot;Disabled&quot;
comma
l_string|&quot;Enabled&quot;
"&t;"
)brace
suffix:semicolon
"&t;"
r_const
r_char
op_star
r_const
id|texts3
(braket
)braket
op_assign
(brace
"&t;&t;"
l_string|&quot;Disabled&quot;
comma
l_string|&quot;Speaker Only&quot;
comma
l_string|&quot;Line-Out+Speaker&quot;
"&t;"
)brace
suffix:semicolon
"&t;"
r_const
r_char
op_star
r_const
op_star
id|texts
suffix:semicolon
"&t;"
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_ENUMERATED
suffix:semicolon
"&t;"
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_speaker_possible
op_logical_and
id|spec-&gt;automute_lo_possible
)paren
(brace
"&t;&t;"
id|uinfo-&gt;value.enumerated.items
op_assign
l_int|3
suffix:semicolon
"&t;&t;"
id|texts
op_assign
id|texts3
suffix:semicolon
"&t;"
)brace
r_else
(brace
"&t;&t;"
id|uinfo-&gt;value.enumerated.items
op_assign
l_int|2
suffix:semicolon
"&t;&t;"
id|texts
op_assign
id|texts2
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|uinfo-&gt;value.enumerated.item
op_ge
id|uinfo-&gt;value.enumerated.items
)paren
"&t;&t;"
id|uinfo-&gt;value.enumerated.item
op_assign
id|uinfo-&gt;value.enumerated.items
l_int|1
suffix:semicolon
"&t;"
id|strcpy
c_func
(paren
id|uinfo-&gt;value.enumerated.name
comma
"&t;"
id|texts
(braket
id|uinfo-&gt;value.enumerated.item
)braket
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_automute_mode_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_speaker
)paren
"&t;&t;"
id|val
op_increment
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_lo
)paren
"&t;&t;"
id|val
op_increment
suffix:semicolon
"&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
id|val
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_automute_mode_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_switch
c_cond
(paren
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
)paren
(brace
"&t;"
r_case
l_int|0
suffix:colon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;automute_speaker
op_logical_and
op_logical_neg
id|spec-&gt;automute_lo
)paren
"&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;&t;"
id|spec-&gt;automute_speaker
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
id|spec-&gt;automute_lo
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
l_int|1
suffix:colon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_speaker_possible
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;automute_lo
op_logical_and
id|spec-&gt;automute_speaker
)paren
"&t;&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;automute_speaker
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;automute_lo
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
)brace
r_else
r_if
c_cond
(paren
id|spec-&gt;automute_lo_possible
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_lo
)paren
"&t;&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;automute_lo
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
)brace
r_else
"&t;&t;&t;"
r_return
id|EINVAL
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
l_int|2
suffix:colon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;automute_lo_possible
op_logical_or
op_logical_neg
id|spec-&gt;automute_speaker_possible
)paren
"&t;&t;&t;"
r_return
id|EINVAL
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_speaker
op_logical_and
id|spec-&gt;automute_lo
)paren
"&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;&t;"
id|spec-&gt;automute_speaker
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
id|spec-&gt;automute_lo
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_default
suffix:colon
"&t;&t;"
r_return
id|EINVAL
suffix:semicolon
"&t;"
)brace
"&t;"
id|call_update_outputs
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
r_const
r_struct
id|snd_kcontrol_new
id|alc_automute_mode_enum
op_assign
(brace
"&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;"
dot
id|name
op_assign
l_string|&quot;Auto-Mute Mode&quot;
comma
"&t;"
dot
id|info
op_assign
id|alc_automute_mode_info
comma
"&t;"
dot
id|get
op_assign
id|alc_automute_mode_get
comma
"&t;"
dot
id|put
op_assign
id|alc_automute_mode_put
comma
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
op_star
id|alc_kcontrol_new
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
)paren
(brace
"&t;"
id|snd_array_init
c_func
(paren
op_amp
id|spec-&gt;kctls
comma
r_sizeof
(paren
r_struct
id|snd_kcontrol_new
)paren
comma
l_int|32
)paren
suffix:semicolon
"&t;"
r_return
id|snd_array_new
c_func
(paren
op_amp
id|spec-&gt;kctls
)paren
suffix:semicolon
)brace
r_int
id|alc_add_automute_mode_enum
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|snd_kcontrol_new
op_star
id|knew
suffix:semicolon
"&t;"
id|knew
op_assign
id|alc_kcontrol_new
c_func
(paren
id|spec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
op_star
id|knew
op_assign
id|alc_automute_mode_enum
suffix:semicolon
"&t;"
id|knew-&gt;name
op_assign
id|kstrdup
c_func
(paren
l_string|&quot;Auto-Mute Mode&quot;
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew-&gt;name
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Check the availability of HP/line-out auto-mute;&n; * Set up appropriately if really supported&n; */
r_void
id|alc_init_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
r_int
id|present
op_assign
l_int|0
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;hp_pins
(braket
l_int|0
)braket
)paren
"&t;&t;"
id|present
op_increment
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_out_pins
(braket
l_int|0
)braket
)paren
"&t;&t;"
id|present
op_increment
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;speaker_pins
(braket
l_int|0
)braket
)paren
"&t;&t;"
id|present
op_increment
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|present
OL
l_int|2
)paren
multiline_comment|/* need two different output types */
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|cfg-&gt;speaker_pins
(braket
l_int|0
)braket
op_logical_and
"&t;"
id|cfg-&gt;line_out_type
op_eq
id|AUTO_PIN_SPEAKER_OUT
)paren
(brace
"&t;&t;"
id|memcpy
c_func
(paren
id|cfg-&gt;speaker_pins
comma
id|cfg-&gt;line_out_pins
comma
"&t;&t;"
r_sizeof
(paren
id|cfg-&gt;speaker_pins
)paren
)paren
suffix:semicolon
"&t;&t;"
id|cfg-&gt;speaker_outs
op_assign
id|cfg-&gt;line_outs
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|cfg-&gt;hp_pins
(braket
l_int|0
)braket
op_logical_and
"&t;"
id|cfg-&gt;line_out_type
op_eq
id|AUTO_PIN_HP_OUT
)paren
(brace
"&t;&t;"
id|memcpy
c_func
(paren
id|cfg-&gt;hp_pins
comma
id|cfg-&gt;line_out_pins
comma
"&t;&t;"
r_sizeof
(paren
id|cfg-&gt;hp_pins
)paren
)paren
suffix:semicolon
"&t;&t;"
id|cfg-&gt;hp_outs
op_assign
id|cfg-&gt;line_outs
suffix:semicolon
"&t;"
)brace
"&t;"
id|spec-&gt;automute_mode
op_assign
id|ALC_AUTOMUTE_PIN
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;hp_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|cfg-&gt;hp_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|is_jack_detectable
c_func
(paren
id|codec
comma
id|nid
)paren
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|snd_printdd
c_func
(paren
l_string|&quot;realtek: Enable HP auto-muting on NID 0x%x&bslash;n&quot;
comma
"&t;&t;&t;"
id|nid
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write_cache
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_UNSOLICITED_ENABLE
comma
"&t;&t;&t;&t;"
id|AC_USRSP_EN
op_or
id|ALC_HP_EVENT
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;detect_hp
op_assign
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_out_type
op_eq
id|AUTO_PIN_LINE_OUT
op_logical_and
id|cfg-&gt;line_outs
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;speaker_outs
)paren
"&t;&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|cfg-&gt;line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|is_jack_detectable
c_func
(paren
id|codec
comma
id|nid
)paren
)paren
"&t;&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;&t;"
id|snd_printdd
c_func
(paren
l_string|&quot;realtek: Enable Line-Out &quot;
"&t;&t;&t;&t;&t;"
l_string|&quot;auto-muting on NID 0x%x&bslash;n&quot;
comma
id|nid
)paren
suffix:semicolon
"&t;&t;&t;&t;"
id|snd_hda_codec_write_cache
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|AC_VERB_SET_UNSOLICITED_ENABLE
comma
"&t;&t;&t;&t;&t;&t;"
id|AC_USRSP_EN
op_or
id|ALC_FRONT_EVENT
)paren
suffix:semicolon
"&t;&t;&t;&t;"
id|spec-&gt;detect_lo
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|spec-&gt;automute_lo_possible
op_assign
id|spec-&gt;detect_hp
suffix:semicolon
"&t;"
)brace
"&t;"
id|spec-&gt;automute_speaker_possible
op_assign
id|cfg-&gt;speaker_outs
op_logical_and
"&t;&t;"
(paren
id|spec-&gt;detect_hp
op_logical_or
id|spec-&gt;detect_lo
)paren
suffix:semicolon
"&t;"
id|spec-&gt;automute_lo
op_assign
id|spec-&gt;automute_lo_possible
suffix:semicolon
"&t;"
id|spec-&gt;automute_speaker
op_assign
id|spec-&gt;automute_speaker_possible
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;automute_speaker_possible
op_logical_or
id|spec-&gt;automute_lo_possible
)paren
(brace
"&t;&t;"
multiline_comment|/* create a control for automute mode */
"&t;&t;"
id|alc_add_automute_mode_enum
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;unsol_event
op_assign
id|alc_sku_unsol_event
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/* return the position of NID in the list, or -1 if not found */
r_int
id|find_idx_in_nid_list
c_func
(paren
id|hda_nid_t
id|nid
comma
r_const
id|hda_nid_t
op_star
id|list
comma
r_int
id|nums
)paren
(brace
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|nums
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
r_if
c_cond
(paren
id|list
(braket
id|i
)braket
op_eq
id|nid
)paren
"&t;&t;&t;"
r_return
id|i
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* check whether dynamic ADC-switching is available */
r_bool
id|alc_check_dyn_adc_switch
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|hda_input_mux
op_star
id|imux
op_assign
op_amp
id|spec-&gt;private_imux
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|n
comma
id|idx
suffix:semicolon
"&t;"
id|hda_nid_t
id|cap
comma
id|pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|imux
op_ne
id|spec-&gt;input_mux
)paren
multiline_comment|/* no dynamic imux? */
"&t;&t;"
r_return
l_bool|false
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|n
op_assign
l_int|0
suffix:semicolon
id|n
OL
id|spec-&gt;num_adc_nids
suffix:semicolon
id|n
op_increment
)paren
(brace
"&t;&t;"
id|cap
op_assign
id|spec-&gt;private_capsrc_nids
(braket
id|n
)braket
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|imux-&gt;num_items
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
id|pin
op_assign
id|spec-&gt;imux_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|pin
)paren
"&t;&t;&t;&t;"
r_return
l_bool|false
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|get_connection_index
c_func
(paren
id|codec
comma
id|cap
comma
id|pin
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
id|i
op_ge
id|imux-&gt;num_items
)paren
"&t;&t;&t;"
r_return
l_bool|true
suffix:semicolon
multiline_comment|/* no ADC-switch is needed */
"&t;"
)brace
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|imux-&gt;num_items
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|pin
op_assign
id|spec-&gt;imux_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|n
op_assign
l_int|0
suffix:semicolon
id|n
OL
id|spec-&gt;num_adc_nids
suffix:semicolon
id|n
op_increment
)paren
(brace
"&t;&t;&t;"
id|cap
op_assign
id|spec-&gt;private_capsrc_nids
(braket
id|n
)braket
suffix:semicolon
"&t;&t;&t;"
id|idx
op_assign
id|get_connection_index
c_func
(paren
id|codec
comma
id|cap
comma
id|pin
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|idx
op_ge
l_int|0
)paren
(brace
"&t;&t;&t;&t;"
id|imux-&gt;items
(braket
id|i
)braket
dot
id|index
op_assign
id|idx
suffix:semicolon
"&t;&t;&t;&t;"
id|spec-&gt;dyn_adc_idx
(braket
id|i
)braket
op_assign
id|n
suffix:semicolon
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|snd_printdd
c_func
(paren
l_string|&quot;realtek: enabling ADC switching&bslash;n&quot;
)paren
suffix:semicolon
"&t;"
id|spec-&gt;dyn_adc_switch
op_assign
l_int|1
suffix:semicolon
"&t;"
r_return
l_bool|true
suffix:semicolon
)brace
multiline_comment|/* rebuild imux for matching with the given auto-mic pins (if not yet) */
r_bool
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|hda_input_mux
op_star
id|imux
suffix:semicolon
"&t;"
r_char
op_star
r_const
id|texts
(braket
l_int|3
)braket
op_assign
(brace
"&t;&t;"
l_string|&quot;Mic&quot;
comma
l_string|&quot;Internal Mic&quot;
comma
l_string|&quot;Dock Mic&quot;
"&t;"
)brace
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;auto_mic
)paren
"&t;&t;"
r_return
l_bool|false
suffix:semicolon
"&t;"
id|imux
op_assign
op_amp
id|spec-&gt;private_imux
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;input_mux
op_eq
id|imux
)paren
"&t;&t;"
r_return
l_bool|true
suffix:semicolon
"&t;"
id|spec-&gt;imux_pins
(braket
l_int|0
)braket
op_assign
id|spec-&gt;ext_mic_pin
suffix:semicolon
"&t;"
id|spec-&gt;imux_pins
(braket
l_int|1
)braket
op_assign
id|spec-&gt;int_mic_pin
suffix:semicolon
"&t;"
id|spec-&gt;imux_pins
(braket
l_int|2
)braket
op_assign
id|spec-&gt;dock_mic_pin
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|3
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|strcpy
c_func
(paren
id|imux-&gt;items
(braket
id|i
)braket
dot
id|label
comma
id|texts
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;imux_pins
(braket
id|i
)braket
)paren
(brace
"&t;&t;&t;"
id|hda_nid_t
id|pin
op_assign
id|spec-&gt;imux_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;"
r_int
id|c
suffix:semicolon
"&t;&t;&t;"
r_for
c_loop
(paren
id|c
op_assign
l_int|0
suffix:semicolon
id|c
OL
id|spec-&gt;num_adc_nids
suffix:semicolon
id|c
op_increment
)paren
(brace
"&t;&t;&t;&t;"
id|hda_nid_t
id|cap
op_assign
id|get_capsrc
c_func
(paren
id|spec
comma
id|c
)paren
suffix:semicolon
"&t;&t;&t;&t;"
r_int
id|idx
op_assign
id|get_connection_index
c_func
(paren
id|codec
comma
id|cap
comma
id|pin
)paren
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|idx
op_ge
l_int|0
)paren
(brace
"&t;&t;&t;&t;&t;"
id|imux-&gt;items
(braket
id|i
)braket
dot
id|index
op_assign
id|idx
suffix:semicolon
"&t;&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;&t;"
)brace
"&t;&t;&t;"
)brace
"&t;&t;&t;"
id|imux-&gt;num_items
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|spec-&gt;num_mux_defs
op_assign
l_int|1
suffix:semicolon
"&t;"
id|spec-&gt;input_mux
op_assign
id|imux
suffix:semicolon
"&t;"
r_return
l_bool|true
suffix:semicolon
)brace
multiline_comment|/* check whether all auto-mic pins are valid; setup indices if OK */
r_bool
id|alc_auto_mic_check_imux
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_input_mux
op_star
id|imux
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;auto_mic
)paren
"&t;&t;"
r_return
l_bool|false
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;auto_mic_valid_imux
)paren
"&t;&t;"
r_return
l_bool|true
suffix:semicolon
multiline_comment|/* already checked */
"&t;"
multiline_comment|/* fill up imux indices */
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|alc_check_dyn_adc_switch
c_func
(paren
id|codec
)paren
)paren
(brace
"&t;&t;"
id|spec-&gt;auto_mic
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_return
l_bool|false
suffix:semicolon
"&t;"
)brace
"&t;"
id|imux
op_assign
id|spec-&gt;input_mux
suffix:semicolon
"&t;"
id|spec-&gt;ext_mic_idx
op_assign
id|find_idx_in_nid_list
c_func
(paren
id|spec-&gt;ext_mic_pin
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;imux_pins
comma
id|imux-&gt;num_items
)paren
suffix:semicolon
"&t;"
id|spec-&gt;int_mic_idx
op_assign
id|find_idx_in_nid_list
c_func
(paren
id|spec-&gt;int_mic_pin
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;imux_pins
comma
id|imux-&gt;num_items
)paren
suffix:semicolon
"&t;"
id|spec-&gt;dock_mic_idx
op_assign
id|find_idx_in_nid_list
c_func
(paren
id|spec-&gt;dock_mic_pin
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;imux_pins
comma
id|imux-&gt;num_items
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;ext_mic_idx
OL
l_int|0
op_logical_or
id|spec-&gt;int_mic_idx
OL
l_int|0
)paren
(brace
"&t;&t;"
id|spec-&gt;auto_mic
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_return
l_bool|false
suffix:semicolon
multiline_comment|/* no corresponding imux */
"&t;"
)brace
"&t;"
id|snd_hda_codec_write_cache
c_func
(paren
id|codec
comma
id|spec-&gt;ext_mic_pin
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_UNSOLICITED_ENABLE
comma
"&t;&t;&t;&t;"
id|AC_USRSP_EN
op_or
id|ALC_MIC_EVENT
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dock_mic_pin
)paren
"&t;&t;"
id|snd_hda_codec_write_cache
c_func
(paren
id|codec
comma
id|spec-&gt;dock_mic_pin
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_UNSOLICITED_ENABLE
comma
"&t;&t;&t;&t;"
id|AC_USRSP_EN
op_or
id|ALC_MIC_EVENT
)paren
suffix:semicolon
"&t;"
id|spec-&gt;auto_mic_valid_imux
op_assign
l_int|1
suffix:semicolon
"&t;"
id|spec-&gt;auto_mic
op_assign
l_int|1
suffix:semicolon
"&t;"
r_return
l_bool|true
suffix:semicolon
)brace
multiline_comment|/*&n; * Check the availability of auto-mic switch;&n; * Set up if really supported&n; */
r_void
id|alc_init_auto_mic
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
id|hda_nid_t
id|fixed
comma
id|ext
comma
id|dock
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
id|spec-&gt;ext_mic_idx
op_assign
id|spec-&gt;int_mic_idx
op_assign
id|spec-&gt;dock_mic_idx
op_assign
l_int|1
suffix:semicolon
"&t;"
id|fixed
op_assign
id|ext
op_assign
id|dock
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;num_inputs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|pin
suffix:semicolon
"&t;&t;"
r_int
r_int
id|defcfg
suffix:semicolon
"&t;&t;"
id|defcfg
op_assign
id|snd_hda_codec_get_pincfg
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;&t;"
r_switch
c_cond
(paren
id|snd_hda_get_input_pin_attr
c_func
(paren
id|defcfg
)paren
)paren
(brace
"&t;&t;"
r_case
id|INPUT_PIN_ATTR_INT
suffix:colon
"&t;&t;&t;"
r_if
c_cond
(paren
id|fixed
)paren
"&t;&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* already occupied */
"&t;&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|type
op_ne
id|AUTO_PIN_MIC
)paren
"&t;&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* invalid type */
"&t;&t;&t;"
id|fixed
op_assign
id|nid
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
id|INPUT_PIN_ATTR_UNUSED
suffix:colon
"&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* invalid entry */
"&t;&t;"
r_case
id|INPUT_PIN_ATTR_DOCK
suffix:colon
"&t;&t;&t;"
r_if
c_cond
(paren
id|dock
)paren
"&t;&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* already occupied */
"&t;&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|type
OG
id|AUTO_PIN_LINE_IN
)paren
"&t;&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* invalid type */
"&t;&t;&t;"
id|dock
op_assign
id|nid
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_default
suffix:colon
(brace
)brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|ext
)paren
"&t;&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* already occupied */
"&t;&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|type
op_ne
id|AUTO_PIN_MIC
)paren
"&t;&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* invalid type */
"&t;&t;&t;"
id|ext
op_assign
id|nid
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|ext
op_logical_and
id|dock
)paren
(brace
"&t;&t;"
id|ext
op_assign
id|dock
suffix:semicolon
"&t;&t;"
id|dock
op_assign
l_int|0
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|ext
op_logical_or
op_logical_neg
id|fixed
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|is_jack_detectable
c_func
(paren
id|codec
comma
id|ext
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* no unsol support */
"&t;"
r_if
c_cond
(paren
id|dock
op_logical_and
op_logical_neg
id|is_jack_detectable
c_func
(paren
id|codec
comma
id|dock
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* no unsol support */
"&t;"
multiline_comment|/* check imux indices */
"&t;"
id|spec-&gt;ext_mic_pin
op_assign
id|ext
suffix:semicolon
"&t;"
id|spec-&gt;int_mic_pin
op_assign
id|fixed
suffix:semicolon
"&t;"
id|spec-&gt;dock_mic_pin
op_assign
id|dock
suffix:semicolon
"&t;"
id|spec-&gt;auto_mic
op_assign
l_int|1
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|alc_auto_mic_check_imux
c_func
(paren
id|codec
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|snd_printdd
c_func
(paren
l_string|&quot;realtek: Enable auto-mic switch on NID 0x%x/0x%x/0x%x&bslash;n&quot;
comma
"&t;&t;"
id|ext
comma
id|fixed
comma
id|dock
)paren
suffix:semicolon
"&t;"
id|spec-&gt;unsol_event
op_assign
id|alc_sku_unsol_event
suffix:semicolon
)brace
multiline_comment|/* check the availabilities of auto-mute and auto-mic switches */
r_void
id|alc_auto_check_switches
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc_init_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_init_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Realtek SSID verification&n; */
multiline_comment|/* Could be any non-zero and even value. When used as fixup, tells&n; * the driver to ignore any present sku defines.&n; */
macro_line|#define ALC_FIXUP_SKU_IGNORE (2)
r_int
id|alc_auto_parse_customize_define
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_int
r_int
id|ass
comma
id|tmp
comma
id|i
suffix:semicolon
"&t;"
r_int
id|nid
op_assign
l_int|0
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.enable_pcbeep
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* assume always enabled */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;cdefine.fixup
)paren
(brace
"&t;&t;"
id|ass
op_assign
id|spec-&gt;cdefine.sku_cfg
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|ass
op_eq
id|ALC_FIXUP_SKU_IGNORE
)paren
"&t;&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;&t;"
r_goto
id|do_sku
suffix:semicolon
"&t;"
)brace
"&t;"
id|ass
op_assign
id|codec-&gt;subsystem_id
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|ass
op_ne
id|codec-&gt;bus-&gt;pci-&gt;subsystem_device
op_logical_and
(paren
id|ass
op_amp
l_int|1
)paren
)paren
"&t;&t;"
r_goto
id|do_sku
suffix:semicolon
"&t;"
id|nid
op_assign
l_int|0x1d
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0260
)paren
"&t;&t;"
id|nid
op_assign
l_int|0x17
suffix:semicolon
"&t;"
id|ass
op_assign
id|snd_hda_codec_get_pincfg
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
(paren
id|ass
op_amp
l_int|1
)paren
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: SKU not ready 0x%08x&bslash;n&quot;
comma
"&t;&t;"
id|codec-&gt;chip_name
comma
id|ass
)paren
suffix:semicolon
"&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
multiline_comment|/* check sum */
"&t;"
id|tmp
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
OL
l_int|16
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
(paren
id|ass
op_rshift
id|i
)paren
op_amp
l_int|1
)paren
"&t;&t;&t;"
id|tmp
op_increment
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
(paren
(paren
id|ass
op_rshift
l_int|16
)paren
op_amp
l_int|0xf
)paren
op_ne
id|tmp
)paren
"&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.port_connectivity
op_assign
id|ass
op_rshift
l_int|30
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.enable_pcbeep
op_assign
(paren
id|ass
op_amp
l_int|0x100000
)paren
op_rshift
l_int|20
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.check_sum
op_assign
(paren
id|ass
op_rshift
l_int|16
)paren
op_amp
l_int|0xf
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.customization
op_assign
id|ass
op_rshift
l_int|8
suffix:semicolon
id|do_sku
suffix:colon
"&t;"
id|spec-&gt;cdefine.sku_cfg
op_assign
id|ass
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.external_amp
op_assign
(paren
id|ass
op_amp
l_int|0x38
)paren
op_rshift
l_int|3
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.platform_type
op_assign
(paren
id|ass
op_amp
l_int|0x4
)paren
op_rshift
l_int|2
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.swap
op_assign
(paren
id|ass
op_amp
l_int|0x2
)paren
op_rshift
l_int|1
suffix:semicolon
"&t;"
id|spec-&gt;cdefine.override
op_assign
id|ass
op_amp
l_int|0x1
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: Nid=0x%x sku_cfg=0x%08x&bslash;n&quot;
comma
"&t;&t;"
id|nid
comma
id|spec-&gt;cdefine.sku_cfg
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: port_connectivity=0x%x&bslash;n&quot;
comma
"&t;&t;"
id|spec-&gt;cdefine.port_connectivity
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: enable_pcbeep=0x%x&bslash;n&quot;
comma
id|spec-&gt;cdefine.enable_pcbeep
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: check_sum=0x%08x&bslash;n&quot;
comma
id|spec-&gt;cdefine.check_sum
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: customization=0x%08x&bslash;n&quot;
comma
id|spec-&gt;cdefine.customization
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: external_amp=0x%x&bslash;n&quot;
comma
id|spec-&gt;cdefine.external_amp
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: platform_type=0x%x&bslash;n&quot;
comma
id|spec-&gt;cdefine.platform_type
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: swap=0x%x&bslash;n&quot;
comma
id|spec-&gt;cdefine.swap
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;SKU: override=0x%x&bslash;n&quot;
comma
id|spec-&gt;cdefine.override
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* return true if the given NID is found in the list */
r_bool
id|found_in_nid_list
c_func
(paren
id|hda_nid_t
id|nid
comma
r_const
id|hda_nid_t
op_star
id|list
comma
r_int
id|nums
)paren
(brace
"&t;"
r_return
id|find_idx_in_nid_list
c_func
(paren
id|nid
comma
id|list
comma
id|nums
)paren
op_ge
l_int|0
suffix:semicolon
)brace
multiline_comment|/* check subsystem ID and set up device-specific initialization;&n; * return 1 if initialized, 0 if invalid SSID&n; */
multiline_comment|/* 32-bit subsystem ID for BIOS loading in HD Audio codec.&n; *&t;31 ~ 16 :&t;Manufacture ID&n; *&t;15 ~ 8&t;:&t;SKU ID&n; *&t;7  ~ 0&t;:&t;Assembly ID&n; *&t;port-A --&gt; pin 39/41, port-E --&gt; pin 14/15, port-D --&gt; pin 35/36&n; */
r_int
id|alc_subsystem_id
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
id|hda_nid_t
id|porta
comma
id|hda_nid_t
id|porte
comma
"&t;&t;&t;"
id|hda_nid_t
id|portd
comma
id|hda_nid_t
id|porti
)paren
(brace
"&t;"
r_int
r_int
id|ass
comma
id|tmp
comma
id|i
suffix:semicolon
"&t;"
r_int
id|nid
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;cdefine.fixup
)paren
(brace
"&t;&t;"
id|ass
op_assign
id|spec-&gt;cdefine.sku_cfg
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|ass
op_eq
id|ALC_FIXUP_SKU_IGNORE
)paren
"&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;&t;"
r_goto
id|do_sku
suffix:semicolon
"&t;"
)brace
"&t;"
id|ass
op_assign
id|codec-&gt;subsystem_id
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|ass
op_ne
id|codec-&gt;bus-&gt;pci-&gt;subsystem_device
)paren
op_logical_and
(paren
id|ass
op_amp
l_int|1
)paren
)paren
"&t;&t;"
r_goto
id|do_sku
suffix:semicolon
"&t;"
multiline_comment|/* invalid SSID, check the special NID pin defcfg instead */
"&t;"
multiline_comment|/*&n;&t; * 31~30&t;: port connectivity&n;&t; * 29~21&t;: reserve&n;&t; * 20&t;&t;: PCBEEP input&n;&t; * 19~16&t;: Check sum (15:1)&n;&t; * 15~1&t;&t;: Custom&n;&t; * 0&t;&t;: override&n;&t;*/
"&t;"
id|nid
op_assign
l_int|0x1d
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0260
)paren
"&t;&t;"
id|nid
op_assign
l_int|0x17
suffix:semicolon
"&t;"
id|ass
op_assign
id|snd_hda_codec_get_pincfg
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;realtek: No valid SSID, &quot;
"&t;&t;"
l_string|&quot;checking pincfg 0x%08x for NID 0x%x&bslash;n&quot;
comma
"&t;&t;"
id|ass
comma
id|nid
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
(paren
id|ass
op_amp
l_int|1
)paren
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|ass
op_rshift
l_int|30
)paren
op_ne
l_int|1
)paren
"&t;"
multiline_comment|/* no physical connection */
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
multiline_comment|/* check sum */
"&t;"
id|tmp
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
OL
l_int|16
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
(paren
id|ass
op_rshift
id|i
)paren
op_amp
l_int|1
)paren
"&t;&t;&t;"
id|tmp
op_increment
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
(paren
(paren
id|ass
op_rshift
l_int|16
)paren
op_amp
l_int|0xf
)paren
op_ne
id|tmp
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
id|do_sku
suffix:colon
"&t;"
id|snd_printd
c_func
(paren
l_string|&quot;realtek: Enabling init ASM_ID=0x%04x CODEC_ID=%08x&bslash;n&quot;
comma
"&t;&t;"
id|ass
op_amp
l_int|0xffff
comma
id|codec-&gt;vendor_id
)paren
suffix:semicolon
"&t;"
multiline_comment|/*&n;&t; * 0 : override&n;&t; * 1 :&t;Swap Jack&n;&t; * 2 : 0 --&gt; Desktop, 1 --&gt; Laptop&n;&t; * 3~5 : External Amplifier control&n;&t; * 7~6 : Reserved&n;&t;*/
"&t;"
id|tmp
op_assign
(paren
id|ass
op_amp
l_int|0x38
)paren
op_rshift
l_int|3
suffix:semicolon
"&t;"
multiline_comment|/* external Amp control */
"&t;"
r_switch
c_cond
(paren
id|tmp
)paren
(brace
"&t;"
r_case
l_int|1
suffix:colon
"&t;&t;"
id|spec-&gt;init_amp
op_assign
id|ALC_INIT_GPIO1
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
l_int|3
suffix:colon
"&t;&t;"
id|spec-&gt;init_amp
op_assign
id|ALC_INIT_GPIO2
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
l_int|7
suffix:colon
"&t;&t;"
id|spec-&gt;init_amp
op_assign
id|ALC_INIT_GPIO3
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
l_int|5
suffix:colon
"&t;"
r_default
suffix:colon
"&t;&t;"
id|spec-&gt;init_amp
op_assign
id|ALC_INIT_DEFAULT
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
)brace
"&t;"
multiline_comment|/* is laptop or Desktop and enable the function &quot;Mute internal speaker&n;&t; * when the external headphone out jack is plugged&quot;&n;&t; */
"&t;"
r_if
c_cond
(paren
op_logical_neg
(paren
id|ass
op_amp
l_int|0x8000
)paren
)paren
"&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;"
multiline_comment|/*&n;&t; * 10~8 : Jack location&n;&t; * 12~11: Headphone out -&gt; 00: PortA, 01: PortE, 02: PortD, 03: Resvered&n;&t; * 14~13: Resvered&n;&t; * 15   : 1 --&gt; enable the function &quot;Mute internal speaker&n;&t; *&t;        when the external headphone out jack is plugged&quot;&n;&t; */
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;autocfg.hp_pins
(braket
l_int|0
)braket
op_logical_and
"&t;"
op_logical_neg
(paren
id|spec-&gt;autocfg.line_out_pins
(braket
l_int|0
)braket
op_logical_and
"&t;"
id|spec-&gt;autocfg.line_out_type
op_eq
id|AUTO_PIN_HP_OUT
)paren
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;&t;"
id|tmp
op_assign
(paren
id|ass
op_rshift
l_int|11
)paren
op_amp
l_int|0x3
suffix:semicolon
"&t;"
multiline_comment|/* HP to chassis */
"&t;&t;"
r_if
c_cond
(paren
id|tmp
op_eq
l_int|0
)paren
"&t;&t;&t;"
id|nid
op_assign
id|porta
suffix:semicolon
"&t;&t;"
r_else
r_if
c_cond
(paren
id|tmp
op_eq
l_int|1
)paren
"&t;&t;&t;"
id|nid
op_assign
id|porte
suffix:semicolon
"&t;&t;"
r_else
r_if
c_cond
(paren
id|tmp
op_eq
l_int|2
)paren
"&t;&t;&t;"
id|nid
op_assign
id|portd
suffix:semicolon
"&t;&t;"
r_else
r_if
c_cond
(paren
id|tmp
op_eq
l_int|3
)paren
"&t;&t;&t;"
id|nid
op_assign
id|porti
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|found_in_nid_list
c_func
(paren
id|nid
comma
id|spec-&gt;autocfg.line_out_pins
comma
"&t;&t;&t;&t;"
id|spec-&gt;autocfg.line_outs
)paren
)paren
"&t;&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;&t;"
id|spec-&gt;autocfg.hp_pins
(braket
l_int|0
)braket
op_assign
id|nid
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* Check the validity of ALC subsystem-id&n; * ports contains an array of 4 pin NIDs for port-A, E, D and I */
r_void
id|alc_ssid_check
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_const
id|hda_nid_t
op_star
id|ports
)paren
(brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|alc_subsystem_id
c_func
(paren
id|codec
comma
id|ports
(braket
l_int|0
)braket
comma
id|ports
(braket
l_int|1
)braket
comma
id|ports
(braket
l_int|2
)braket
comma
id|ports
(braket
l_int|3
)braket
)paren
)paren
(brace
"&t;&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;&t;"
id|snd_printd
c_func
(paren
l_string|&quot;realtek: &quot;
"&t;&t;&t;"
l_string|&quot;Enable default setup for auto mode as fallback&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;init_amp
op_assign
id|ALC_INIT_DEFAULT
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/*&n; * Fix-up pin default configurations and add default verbs&n; */
r_struct
id|alc_pincfg
(brace
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
id|u32
id|val
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|alc_model_fixup
(brace
"&t;"
r_const
r_int
id|id
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|name
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|alc_fixup
(brace
"&t;"
r_int
id|type
suffix:semicolon
"&t;"
r_bool
id|chained
suffix:semicolon
"&t;"
r_int
id|chain_id
suffix:semicolon
"&t;"
r_union
(brace
"&t;&t;"
r_int
r_int
id|sku
suffix:semicolon
"&t;&t;"
r_const
r_struct
id|alc_pincfg
op_star
id|pins
suffix:semicolon
"&t;&t;"
r_const
r_struct
id|hda_verb
op_star
id|verbs
suffix:semicolon
"&t;&t;"
r_void
(paren
op_star
id|func
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
"&t;&t;&t;"
r_int
id|action
)paren
suffix:semicolon
"&t;"
)brace
id|v
suffix:semicolon
)brace
suffix:semicolon
r_enum
(brace
"&t;"
id|ALC_FIXUP_INVALID
comma
"&t;"
id|ALC_FIXUP_SKU
comma
"&t;"
id|ALC_FIXUP_PINS
comma
"&t;"
id|ALC_FIXUP_VERBS
comma
"&t;"
id|ALC_FIXUP_FUNC
comma
)brace
suffix:semicolon
r_enum
(brace
"&t;"
id|ALC_FIXUP_ACT_PRE_PROBE
comma
"&t;"
id|ALC_FIXUP_ACT_PROBE
comma
"&t;"
id|ALC_FIXUP_ACT_INIT
comma
)brace
suffix:semicolon
r_void
id|alc_apply_fixup
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|action
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|id
op_assign
id|spec-&gt;fixup_id
suffix:semicolon
macro_line|#ifdef CONFIG_SND_DEBUG_VERBOSE
"&t;"
r_const
r_char
op_star
id|modelname
op_assign
id|spec-&gt;fixup_name
suffix:semicolon
macro_line|#endif
"&t;"
r_int
id|depth
op_assign
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;fixup_list
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_while
c_loop
(paren
id|id
op_ge
l_int|0
)paren
(brace
"&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
op_assign
id|spec-&gt;fixup_list
op_plus
id|id
suffix:semicolon
"&t;&t;"
r_const
r_struct
id|alc_pincfg
op_star
id|cfg
suffix:semicolon
"&t;&t;"
r_switch
c_cond
(paren
id|fix-&gt;type
)paren
(brace
"&t;&t;"
r_case
id|ALC_FIXUP_SKU
suffix:colon
"&t;&t;&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_PRE_PROBE
op_logical_or
op_logical_neg
id|fix-&gt;v.sku
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|snd_printdd
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: &quot;
"&t;&t;&t;&t;"
l_string|&quot;Apply sku override for %s&bslash;n&quot;
comma
"&t;&t;&t;&t;"
id|codec-&gt;chip_name
comma
id|modelname
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;cdefine.sku_cfg
op_assign
id|fix-&gt;v.sku
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;cdefine.fixup
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
id|ALC_FIXUP_PINS
suffix:colon
"&t;&t;&t;"
id|cfg
op_assign
id|fix-&gt;v.pins
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_PRE_PROBE
op_logical_or
op_logical_neg
id|cfg
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|snd_printdd
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: &quot;
"&t;&t;&t;&t;"
l_string|&quot;Apply pincfg for %s&bslash;n&quot;
comma
"&t;&t;&t;&t;"
id|codec-&gt;chip_name
comma
id|modelname
)paren
suffix:semicolon
"&t;&t;&t;"
r_for
c_loop
(paren
suffix:semicolon
id|cfg-&gt;nid
suffix:semicolon
id|cfg
op_increment
)paren
"&t;&t;&t;&t;"
id|snd_hda_codec_set_pincfg
c_func
(paren
id|codec
comma
id|cfg-&gt;nid
comma
"&t;&t;&t;&t;&t;&t;&t;"
id|cfg-&gt;val
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
id|ALC_FIXUP_VERBS
suffix:colon
"&t;&t;&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_PROBE
op_logical_or
op_logical_neg
id|fix-&gt;v.verbs
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|snd_printdd
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: &quot;
"&t;&t;&t;&t;"
l_string|&quot;Apply fix-verbs for %s&bslash;n&quot;
comma
"&t;&t;&t;&t;"
id|codec-&gt;chip_name
comma
id|modelname
)paren
suffix:semicolon
"&t;&t;&t;"
id|add_verb
c_func
(paren
id|codec-&gt;spec
comma
id|fix-&gt;v.verbs
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
id|ALC_FIXUP_FUNC
suffix:colon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|fix-&gt;v.func
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|snd_printdd
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: &quot;
"&t;&t;&t;&t;"
l_string|&quot;Apply fix-func for %s&bslash;n&quot;
comma
"&t;&t;&t;&t;"
id|codec-&gt;chip_name
comma
id|modelname
)paren
suffix:semicolon
"&t;&t;&t;"
id|fix-&gt;v
dot
id|func
c_func
(paren
id|codec
comma
id|fix
comma
id|action
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_default
suffix:colon
"&t;&t;&t;"
id|snd_printk
c_func
(paren
id|KERN_ERR
l_string|&quot;hda_codec: %s: &quot;
"&t;&t;&t;&t;"
l_string|&quot;Invalid fixup type %d&bslash;n&quot;
comma
"&t;&t;&t;&t;"
id|codec-&gt;chip_name
comma
id|fix-&gt;type
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|fix-&gt;chained
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_increment
id|depth
OG
l_int|10
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
id|id
op_assign
id|fix-&gt;chain_id
suffix:semicolon
"&t;"
)brace
)brace
r_void
id|alc_pick_fixup
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_const
r_struct
id|alc_model_fixup
op_star
id|models
comma
"&t;&t;&t;"
r_const
r_struct
id|snd_pci_quirk
op_star
id|quirk
comma
"&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fixlist
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|id
op_assign
l_int|1
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|name
op_assign
l_int|NULL
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|codec-&gt;modelname
op_logical_and
id|models
)paren
(brace
"&t;&t;"
r_while
c_loop
(paren
id|models-&gt;name
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|strcmp
c_func
(paren
id|codec-&gt;modelname
comma
id|models-&gt;name
)paren
)paren
(brace
"&t;&t;&t;&t;"
id|id
op_assign
id|models-&gt;id
suffix:semicolon
"&t;&t;&t;&t;"
id|name
op_assign
id|models-&gt;name
suffix:semicolon
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;&t;"
id|models
op_increment
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|id
OL
l_int|0
)paren
(brace
"&t;&t;"
id|quirk
op_assign
id|snd_pci_quirk_lookup
c_func
(paren
id|codec-&gt;bus-&gt;pci
comma
id|quirk
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|quirk
)paren
(brace
"&t;&t;&t;"
id|id
op_assign
id|quirk-&gt;value
suffix:semicolon
macro_line|#ifdef CONFIG_SND_DEBUG_VERBOSE
"&t;&t;&t;"
id|name
op_assign
id|quirk-&gt;name
suffix:semicolon
macro_line|#endif
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|spec-&gt;fixup_id
op_assign
id|id
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|id
op_ge
l_int|0
)paren
(brace
"&t;&t;"
id|spec-&gt;fixup_list
op_assign
id|fixlist
suffix:semicolon
"&t;&t;"
id|spec-&gt;fixup_name
op_assign
id|name
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/*&n; * COEF access helper functions&n; */
r_int
id|alc_read_coef_idx
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_int
r_int
id|coef_idx
)paren
(brace
"&t;"
r_int
r_int
id|val
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
"&t;&t;"
"&t;&t;"
id|coef_idx
)paren
suffix:semicolon
"&t;"
id|val
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;"
"&t;"
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;"
r_return
id|val
suffix:semicolon
)brace
r_void
id|alc_write_coef_idx
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|coef_idx
comma
"&t;&t;&t;&t;&t;&t;&t;"
r_int
r_int
id|coef_val
)paren
(brace
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
"&t;&t;&t;"
id|coef_idx
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_SET_PROC_COEF
comma
"&t;&t;&t;"
id|coef_val
)paren
suffix:semicolon
)brace
multiline_comment|/* a special bypass for COEF 0; read the cached value at the second time */
r_int
r_int
id|alc_get_coef0
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;coef0
)paren
"&t;&t;"
id|spec-&gt;coef0
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0
)paren
suffix:semicolon
"&t;"
r_return
id|spec-&gt;coef0
suffix:semicolon
)brace
multiline_comment|/*&n; * Digital I/O handling&n; */
multiline_comment|/* set right pin controls for digital I/O */
r_void
id|alc_auto_init_digital
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
id|hda_nid_t
id|pin
comma
id|dac
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;autocfg.dig_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|pin
op_assign
id|spec-&gt;autocfg.dig_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|pin
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|pin
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|i
)paren
"&t;&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.dig_out_nid
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|dac
op_assign
id|spec-&gt;slave_dig_outs
(braket
id|i
l_int|1
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dac
op_logical_or
op_logical_neg
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|dac
)paren
op_amp
id|AC_WCAP_OUT_AMP
)paren
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|dac
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_OUT_UNMUTE
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|pin
op_assign
id|spec-&gt;autocfg.dig_in_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|pin
)paren
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|pin
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;"
id|PIN_IN
)paren
suffix:semicolon
)brace
multiline_comment|/* parse digital I/Os and set up NIDs in BIOS auto-parse mode */
r_void
id|alc_auto_parse_digital
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
comma
id|nums
suffix:semicolon
"&t;"
id|hda_nid_t
id|dig_nid
suffix:semicolon
"&t;"
multiline_comment|/* support multiple SPDIFs; the secondary is set up as a slave */
"&t;"
id|nums
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;autocfg.dig_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|conn
(braket
l_int|4
)braket
suffix:semicolon
"&t;&t;"
id|err
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;autocfg.dig_out_pins
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;"
id|conn
comma
id|ARRAY_SIZE
c_func
(paren
id|conn
)paren
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
op_le
l_int|0
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|dig_nid
op_assign
id|conn
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* assume the first element is audio-out */
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|nums
)paren
(brace
"&t;&t;&t;"
id|spec-&gt;multiout.dig_out_nid
op_assign
id|dig_nid
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;dig_out_type
op_assign
id|spec-&gt;autocfg.dig_out_type
(braket
l_int|0
)braket
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|spec-&gt;multiout.slave_dig_outs
op_assign
id|spec-&gt;slave_dig_outs
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|nums
op_ge
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;slave_dig_outs
)paren
l_int|1
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;slave_dig_outs
(braket
id|nums
l_int|1
)braket
op_assign
id|dig_nid
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|nums
op_increment
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.dig_in_pin
)paren
(brace
"&t;&t;"
id|dig_nid
op_assign
id|codec-&gt;start_nid
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|codec-&gt;num_nodes
suffix:semicolon
id|i
op_increment
comma
id|dig_nid
op_increment
)paren
(brace
"&t;&t;&t;"
r_int
r_int
id|wcaps
op_assign
id|get_wcaps
c_func
(paren
id|codec
comma
id|dig_nid
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|get_wcaps_type
c_func
(paren
id|wcaps
)paren
op_ne
id|AC_WID_AUD_IN
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
(paren
id|wcaps
op_amp
id|AC_WCAP_DIGITAL
)paren
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
(paren
id|wcaps
op_amp
id|AC_WCAP_CONN_LIST
)paren
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|get_connection_index
c_func
(paren
id|codec
comma
id|dig_nid
comma
"&t;&t;&t;&t;&t;&t;"
id|spec-&gt;autocfg.dig_in_pin
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
op_ge
l_int|0
)paren
(brace
"&t;&t;&t;&t;"
id|spec-&gt;dig_in_nid
op_assign
id|dig_nid
suffix:semicolon
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
)brace
multiline_comment|/*&n; * capture mixer elements&n; */
r_int
id|alc_cap_vol_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|val
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|mutex_lock
c_func
(paren
op_amp
id|codec-&gt;control_mutex
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;vol_in_capsrc
)paren
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|spec-&gt;capsrc_nids
(braket
l_int|0
)braket
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|spec-&gt;adc_nids
(braket
l_int|0
)braket
comma
l_int|3
comma
l_int|0
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
id|kcontrol-&gt;private_value
op_assign
id|val
suffix:semicolon
"&t;"
id|err
op_assign
id|snd_hda_mixer_amp_volume_info
c_func
(paren
id|kcontrol
comma
id|uinfo
)paren
suffix:semicolon
"&t;"
id|mutex_unlock
c_func
(paren
op_amp
id|codec-&gt;control_mutex
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
r_int
id|alc_cap_vol_tlv
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_int
id|op_flag
comma
"&t;&t;&t;"
r_int
r_int
id|size
comma
r_int
r_int
id|__user
op_star
id|tlv
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|val
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|mutex_lock
c_func
(paren
op_amp
id|codec-&gt;control_mutex
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;vol_in_capsrc
)paren
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|spec-&gt;capsrc_nids
(braket
l_int|0
)braket
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|spec-&gt;adc_nids
(braket
l_int|0
)braket
comma
l_int|3
comma
l_int|0
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
id|kcontrol-&gt;private_value
op_assign
id|val
suffix:semicolon
"&t;"
id|err
op_assign
id|snd_hda_mixer_amp_tlv
c_func
(paren
id|kcontrol
comma
id|op_flag
comma
id|size
comma
id|tlv
)paren
suffix:semicolon
"&t;"
id|mutex_unlock
c_func
(paren
op_amp
id|codec-&gt;control_mutex
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
r_typedef
r_int
(paren
op_star
id|getput_call_t
)paren
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
suffix:semicolon
r_int
id|alc_cap_getput_caller
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
comma
"&t;&t;&t;&t;"
id|getput_call_t
id|func
comma
r_bool
id|check_adc_switch
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
op_assign
l_int|0
suffix:semicolon
"&t;"
id|mutex_lock
c_func
(paren
op_amp
id|codec-&gt;control_mutex
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|check_adc_switch
op_logical_and
id|spec-&gt;dyn_adc_switch
)paren
(brace
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_adc_nids
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
id|kcontrol-&gt;private_value
op_assign
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|spec-&gt;adc_nids
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;&t;"
l_int|3
comma
l_int|0
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|func
c_func
(paren
id|kcontrol
comma
id|ucontrol
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
r_else
(brace
"&t;&t;"
id|i
op_assign
id|snd_ctl_get_ioffidx
c_func
(paren
id|kcontrol
comma
op_amp
id|ucontrol-&gt;id
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;vol_in_capsrc
)paren
"&t;&t;&t;"
id|kcontrol-&gt;private_value
op_assign
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|spec-&gt;capsrc_nids
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;&t;"
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|kcontrol-&gt;private_value
op_assign
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|spec-&gt;adc_nids
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;&t;"
l_int|3
comma
l_int|0
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;&t;"
id|err
op_assign
id|func
c_func
(paren
id|kcontrol
comma
id|ucontrol
)paren
suffix:semicolon
"&t;"
)brace
id|error
suffix:colon
"&t;"
id|mutex_unlock
c_func
(paren
op_amp
id|codec-&gt;control_mutex
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
r_int
id|alc_cap_vol_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_return
id|alc_cap_getput_caller
c_func
(paren
id|kcontrol
comma
id|ucontrol
comma
"&t;&t;&t;&t;"
id|snd_hda_mixer_amp_volume_get
comma
l_bool|false
)paren
suffix:semicolon
)brace
r_int
id|alc_cap_vol_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_return
id|alc_cap_getput_caller
c_func
(paren
id|kcontrol
comma
id|ucontrol
comma
"&t;&t;&t;&t;"
id|snd_hda_mixer_amp_volume_put
comma
l_bool|true
)paren
suffix:semicolon
)brace
multiline_comment|/* capture mixer elements */
macro_line|#define alc_cap_sw_info&t;&t;snd_ctl_boolean_stereo_info
r_int
id|alc_cap_sw_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_return
id|alc_cap_getput_caller
c_func
(paren
id|kcontrol
comma
id|ucontrol
comma
"&t;&t;&t;&t;"
id|snd_hda_mixer_amp_switch_get
comma
l_bool|false
)paren
suffix:semicolon
)brace
r_int
id|alc_cap_sw_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_return
id|alc_cap_getput_caller
c_func
(paren
id|kcontrol
comma
id|ucontrol
comma
"&t;&t;&t;&t;"
id|snd_hda_mixer_amp_switch_put
comma
l_bool|true
)paren
suffix:semicolon
)brace
macro_line|#define _DEFINE_CAPMIX(num) &bslash;&n;&t;{ &bslash;&n;&t;&t;.iface = SNDRV_CTL_ELEM_IFACE_MIXER, &bslash;&n;&t;&t;.name = &quot;Capture Switch&quot;, &bslash;&n;&t;&t;.access = SNDRV_CTL_ELEM_ACCESS_READWRITE, &bslash;&n;&t;&t;.count = num, &bslash;&n;&t;&t;.info = alc_cap_sw_info, &bslash;&n;&t;&t;.get = alc_cap_sw_get, &bslash;&n;&t;&t;.put = alc_cap_sw_put, &bslash;&n;&t;}, &bslash;&n;&t;{ &bslash;&n;&t;&t;.iface = SNDRV_CTL_ELEM_IFACE_MIXER, &bslash;&n;&t;&t;.name = &quot;Capture Volume&quot;, &bslash;&n;&t;&t;.access = (SNDRV_CTL_ELEM_ACCESS_READWRITE | &bslash;&n;&t;&t;&t;   SNDRV_CTL_ELEM_ACCESS_TLV_READ | &bslash;&n;&t;&t;&t;   SNDRV_CTL_ELEM_ACCESS_TLV_CALLBACK), &bslash;&n;&t;&t;.count = num, &bslash;&n;&t;&t;.info = alc_cap_vol_info, &bslash;&n;&t;&t;.get = alc_cap_vol_get, &bslash;&n;&t;&t;.put = alc_cap_vol_put, &bslash;&n;&t;&t;.tlv = { .c = alc_cap_vol_tlv }, &bslash;&n;&t;}
macro_line|#define _DEFINE_CAPSRC(num) &bslash;&n;&t;{ &bslash;&n;&t;&t;.iface = SNDRV_CTL_ELEM_IFACE_MIXER, &bslash;&n;&t;&t;/* .name = &quot;Capture Source&quot;, */ &bslash;&n;&t;&t;.name = &quot;Input Source&quot;, &bslash;&n;&t;&t;.count = num, &bslash;&n;&t;&t;.info = alc_mux_enum_info, &bslash;&n;&t;&t;.get = alc_mux_enum_get, &bslash;&n;&t;&t;.put = alc_mux_enum_put, &bslash;&n;&t;}
macro_line|#define DEFINE_CAPMIX(num) &bslash;&n;static const struct snd_kcontrol_new alc_capture_mixer ## num[] = { &bslash;&n;&t;_DEFINE_CAPMIX(num),&t;&t;&t;&t;      &bslash;&n;&t;_DEFINE_CAPSRC(num),&t;&t;&t;&t;      &bslash;&n;&t;{ } /* end */&t;&t;&t;&t;&t;      &bslash;&n;}
macro_line|#define DEFINE_CAPMIX_NOSRC(num) &bslash;&n;static const struct snd_kcontrol_new alc_capture_mixer_nosrc ## num[] = { &bslash;&n;&t;_DEFINE_CAPMIX(num),&t;&t;&t;&t;&t;    &bslash;&n;&t;{ } /* end */&t;&t;&t;&t;&t;&t;    &bslash;&n;}
multiline_comment|/* up to three ADCs */
id|DEFINE_CAPMIX
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|DEFINE_CAPMIX
c_func
(paren
l_int|2
)paren
suffix:semicolon
id|DEFINE_CAPMIX
c_func
(paren
l_int|3
)paren
suffix:semicolon
id|DEFINE_CAPMIX_NOSRC
c_func
(paren
l_int|1
)paren
suffix:semicolon
id|DEFINE_CAPMIX_NOSRC
c_func
(paren
l_int|2
)paren
suffix:semicolon
id|DEFINE_CAPMIX_NOSRC
c_func
(paren
l_int|3
)paren
suffix:semicolon
multiline_comment|/*&n; * virtual master controls&n; */
multiline_comment|/*&n; * slave controls for virtual master&n; */
r_const
r_char
op_star
r_const
id|alc_slave_vols
(braket
)braket
op_assign
(brace
"&t;"
l_string|&quot;Front Playback Volume&quot;
comma
"&t;"
l_string|&quot;Surround Playback Volume&quot;
comma
"&t;"
l_string|&quot;Center Playback Volume&quot;
comma
"&t;"
l_string|&quot;LFE Playback Volume&quot;
comma
"&t;"
l_string|&quot;Side Playback Volume&quot;
comma
"&t;"
l_string|&quot;Headphone Playback Volume&quot;
comma
"&t;"
l_string|&quot;Speaker Playback Volume&quot;
comma
"&t;"
l_string|&quot;Mono Playback Volume&quot;
comma
"&t;"
l_string|&quot;Line-Out Playback Volume&quot;
comma
"&t;"
l_string|&quot;PCM Playback Volume&quot;
comma
"&t;"
l_int|NULL
comma
)brace
suffix:semicolon
r_const
r_char
op_star
r_const
id|alc_slave_sws
(braket
)braket
op_assign
(brace
"&t;"
l_string|&quot;Front Playback Switch&quot;
comma
"&t;"
l_string|&quot;Surround Playback Switch&quot;
comma
"&t;"
l_string|&quot;Center Playback Switch&quot;
comma
"&t;"
l_string|&quot;LFE Playback Switch&quot;
comma
"&t;"
l_string|&quot;Side Playback Switch&quot;
comma
"&t;"
l_string|&quot;Headphone Playback Switch&quot;
comma
"&t;"
l_string|&quot;Speaker Playback Switch&quot;
comma
"&t;"
l_string|&quot;Mono Playback Switch&quot;
comma
"&t;"
l_string|&quot;IEC958 Playback Switch&quot;
comma
"&t;"
l_string|&quot;Line-Out Playback Switch&quot;
comma
"&t;"
l_string|&quot;PCM Playback Switch&quot;
comma
"&t;"
l_int|NULL
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * build control elements&n; */
macro_line|#define NID_MAPPING&t;&t;(-1)
macro_line|#define SUBDEV_SPEAKER_&t;&t;(0 &lt;&lt; 6)
macro_line|#define SUBDEV_HP_&t;&t;(1 &lt;&lt; 6)
macro_line|#define SUBDEV_LINE_&t;&t;(2 &lt;&lt; 6)
macro_line|#define SUBDEV_SPEAKER(x)&t;(SUBDEV_SPEAKER_ | ((x) &amp; 0x3f))
macro_line|#define SUBDEV_HP(x)&t;&t;(SUBDEV_HP_ | ((x) &amp; 0x3f))
macro_line|#define SUBDEV_LINE(x)&t;&t;(SUBDEV_LINE_ | ((x) &amp; 0x3f))
r_void
id|alc_free_kctls
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_INPUT_BEEP
multiline_comment|/* additional beep mixers; the actual parameters are overwritten at build */
r_const
r_struct
id|snd_kcontrol_new
id|alc_beep_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Beep Playback Volume&quot;
comma
l_int|0
comma
l_int|0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_BEEP
c_func
(paren
l_string|&quot;Beep Playback Switch&quot;
comma
l_int|0
comma
l_int|0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
macro_line|#endif
r_int
id|alc_build_controls
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|snd_kcontrol
op_star
id|kctl
op_assign
l_int|NULL
suffix:semicolon
"&t;"
r_const
r_struct
id|snd_kcontrol_new
op_star
id|knew
suffix:semicolon
"&t;"
r_int
id|i
comma
id|j
comma
id|err
suffix:semicolon
"&t;"
r_int
r_int
id|u
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_mixers
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_add_new_ctls
c_func
(paren
id|codec
comma
id|spec-&gt;mixers
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;cap_mixer
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_add_new_ctls
c_func
(paren
id|codec
comma
id|spec-&gt;cap_mixer
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dig_out_nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_create_spdif_out_ctls
c_func
(paren
id|codec
comma
"&t;&t;&t;&t;&t;&t;"
id|spec-&gt;multiout.dig_out_nid
comma
"&t;&t;&t;&t;&t;&t;"
id|spec-&gt;multiout.dig_out_nid
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
)paren
(brace
"&t;&t;&t;"
id|err
op_assign
id|snd_hda_create_spdif_share_sw
c_func
(paren
id|codec
comma
"&t;&t;&t;&t;&t;&t;&t;"
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;multiout.share_spdif
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dig_in_nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_create_spdif_in_ctls
c_func
(paren
id|codec
comma
id|spec-&gt;dig_in_nid
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
macro_line|#ifdef CONFIG_SND_HDA_INPUT_BEEP
"&t;"
multiline_comment|/* create beep controls if needed */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;beep_amp
)paren
(brace
"&t;&t;"
r_const
r_struct
id|snd_kcontrol_new
op_star
id|knew
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|knew
op_assign
id|alc_beep_mixer
suffix:semicolon
id|knew-&gt;name
suffix:semicolon
id|knew
op_increment
)paren
(brace
"&t;&t;&t;"
r_struct
id|snd_kcontrol
op_star
id|kctl
suffix:semicolon
"&t;&t;&t;"
id|kctl
op_assign
id|snd_ctl_new1
c_func
(paren
id|knew
comma
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|kctl
)paren
"&t;&t;&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;&t;&t;"
id|kctl-&gt;private_value
op_assign
id|spec-&gt;beep_amp
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|snd_hda_ctl_add
c_func
(paren
id|codec
comma
l_int|0
comma
id|kctl
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
macro_line|#endif
"&t;"
multiline_comment|/* if we have no master control, let&squot;s create it */
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
"&t;"
op_logical_neg
id|snd_hda_find_mixer_ctl
c_func
(paren
id|codec
comma
l_string|&quot;Master Playback Volume&quot;
)paren
)paren
(brace
"&t;&t;"
r_int
r_int
id|vmaster_tlv
(braket
l_int|4
)braket
suffix:semicolon
"&t;&t;"
id|snd_hda_set_vmaster_tlv
c_func
(paren
id|codec
comma
id|spec-&gt;vmaster_nid
comma
"&t;&t;&t;&t;&t;"
id|HDA_OUTPUT
comma
id|vmaster_tlv
)paren
suffix:semicolon
"&t;&t;"
id|err
op_assign
id|snd_hda_add_vmaster
c_func
(paren
id|codec
comma
l_string|&quot;Master Playback Volume&quot;
comma
"&t;&t;&t;&t;&t;"
id|vmaster_tlv
comma
id|alc_slave_vols
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
"&t;"
op_logical_neg
id|snd_hda_find_mixer_ctl
c_func
(paren
id|codec
comma
l_string|&quot;Master Playback Switch&quot;
)paren
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_add_vmaster
c_func
(paren
id|codec
comma
l_string|&quot;Master Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
l_int|NULL
comma
id|alc_slave_sws
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
multiline_comment|/* assign Capture Source enums to NID */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;capsrc_nids
op_logical_or
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|kctl
op_assign
id|snd_hda_find_mixer_ctl
c_func
(paren
id|codec
comma
l_string|&quot;Capture Source&quot;
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|kctl
)paren
"&t;&t;&t;"
id|kctl
op_assign
id|snd_hda_find_mixer_ctl
c_func
(paren
id|codec
comma
l_string|&quot;Input Source&quot;
)paren
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|kctl
op_logical_and
id|i
OL
id|kctl-&gt;count
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
id|err
op_assign
id|snd_hda_add_nid
c_func
(paren
id|codec
comma
id|kctl
comma
id|i
comma
"&t;&t;&t;&t;&t;"
id|get_capsrc
c_func
(paren
id|spec
comma
id|i
)paren
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;cap_mixer
op_logical_and
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
r_const
r_char
op_star
id|kname
op_assign
id|kctl
ques
c_cond
id|kctl-&gt;id.name
suffix:colon
l_int|NULL
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|knew
op_assign
id|spec-&gt;cap_mixer
suffix:semicolon
id|knew-&gt;name
suffix:semicolon
id|knew
op_increment
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|kname
op_logical_and
id|strcmp
c_func
(paren
id|knew-&gt;name
comma
id|kname
)paren
op_eq
l_int|0
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|kctl
op_assign
id|snd_hda_find_mixer_ctl
c_func
(paren
id|codec
comma
id|knew-&gt;name
)paren
suffix:semicolon
"&t;&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|kctl
op_logical_and
id|i
OL
id|kctl-&gt;count
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;&t;"
id|err
op_assign
id|snd_hda_add_nid
c_func
(paren
id|codec
comma
id|kctl
comma
id|i
comma
"&t;&t;&t;&t;&t;&t;"
id|spec-&gt;adc_nids
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
multiline_comment|/* other nid-&gt;control mapping */
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_mixers
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_for
c_loop
(paren
id|knew
op_assign
id|spec-&gt;mixers
(braket
id|i
)braket
suffix:semicolon
id|knew-&gt;name
suffix:semicolon
id|knew
op_increment
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|knew-&gt;iface
op_ne
id|NID_MAPPING
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|kctl
op_assign
id|snd_hda_find_mixer_ctl
c_func
(paren
id|codec
comma
id|knew-&gt;name
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|kctl
op_eq
l_int|NULL
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|u
op_assign
id|knew-&gt;subdevice
suffix:semicolon
"&t;&t;&t;"
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|4
suffix:semicolon
id|j
op_increment
comma
id|u
op_rshift_assign
l_int|8
)paren
(brace
"&t;&t;&t;&t;"
id|nid
op_assign
id|u
op_amp
l_int|0x3f
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|nid
op_eq
l_int|0
)paren
"&t;&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;&t;"
r_switch
c_cond
(paren
id|u
op_amp
l_int|0xc0
)paren
(brace
"&t;&t;&t;&t;"
r_case
id|SUBDEV_SPEAKER_
suffix:colon
"&t;&t;&t;&t;&t;"
id|nid
op_assign
id|spec-&gt;autocfg.speaker_pins
(braket
id|nid
)braket
suffix:semicolon
"&t;&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;&t;"
r_case
id|SUBDEV_LINE_
suffix:colon
"&t;&t;&t;&t;&t;"
id|nid
op_assign
id|spec-&gt;autocfg.line_out_pins
(braket
id|nid
)braket
suffix:semicolon
"&t;&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;&t;"
r_case
id|SUBDEV_HP_
suffix:colon
"&t;&t;&t;&t;&t;"
id|nid
op_assign
id|spec-&gt;autocfg.hp_pins
(braket
id|nid
)braket
suffix:semicolon
"&t;&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;&t;"
r_default
suffix:colon
"&t;&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;&t;"
)brace
"&t;&t;&t;&t;"
id|err
op_assign
id|snd_hda_add_nid
c_func
(paren
id|codec
comma
id|kctl
comma
l_int|0
comma
id|nid
)paren
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;&t;"
id|u
op_assign
id|knew-&gt;private_value
suffix:semicolon
"&t;&t;&t;"
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
l_int|4
suffix:semicolon
id|j
op_increment
comma
id|u
op_rshift_assign
l_int|8
)paren
(brace
"&t;&t;&t;&t;"
id|nid
op_assign
id|u
op_amp
l_int|0xff
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|nid
op_eq
l_int|0
)paren
"&t;&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;&t;"
id|err
op_assign
id|snd_hda_add_nid
c_func
(paren
id|codec
comma
id|kctl
comma
l_int|0
comma
id|nid
)paren
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|alc_free_kctls
c_func
(paren
id|codec
)paren
suffix:semicolon
multiline_comment|/* no longer needed */
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Common callbacks&n; */
r_void
id|alc_init_special_input_src
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
suffix:semicolon
r_int
id|alc_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|i
suffix:semicolon
"&t;"
id|alc_fix_pll
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_auto_init_amp
c_func
(paren
id|codec
comma
id|spec-&gt;init_amp
)paren
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_init_verbs
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|snd_hda_sequence_write
c_func
(paren
id|codec
comma
id|spec-&gt;init_verbs
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
id|alc_init_special_input_src
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;init_hook
)paren
"&t;&t;"
id|spec
op_member_access_from_pointer
id|init_hook
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_INIT
)paren
suffix:semicolon
"&t;"
id|hda_call_check_power_status
c_func
(paren
id|codec
comma
l_int|0x01
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_void
id|alc_unsol_event
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|res
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;unsol_event
)paren
"&t;&t;"
id|spec
op_member_access_from_pointer
id|unsol_event
c_func
(paren
id|codec
comma
id|res
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
r_int
id|alc_check_power_status
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_check_amp_list_power
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;loopback
comma
id|nid
)paren
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/*&n; * Analog playback callbacks&n; */
r_int
id|alc_playback_pcm_open
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_analog_open
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
comma
id|substream
comma
"&t;&t;&t;&t;&t;"
id|hinfo
)paren
suffix:semicolon
)brace
r_int
id|alc_playback_pcm_prepare
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|stream_tag
comma
"&t;&t;&t;&t;"
r_int
r_int
id|format
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_analog_prepare
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
comma
"&t;&t;&t;&t;&t;&t;"
id|stream_tag
comma
id|format
comma
id|substream
)paren
suffix:semicolon
)brace
r_int
id|alc_playback_pcm_cleanup
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_analog_cleanup
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Digital out&n; */
r_int
id|alc_dig_playback_pcm_open
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_dig_open
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
)brace
r_int
id|alc_dig_playback_pcm_prepare
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_int
r_int
id|stream_tag
comma
"&t;&t;&t;&t;&t;"
r_int
r_int
id|format
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_dig_prepare
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
comma
"&t;&t;&t;&t;&t;"
id|stream_tag
comma
id|format
comma
id|substream
)paren
suffix:semicolon
)brace
r_int
id|alc_dig_playback_pcm_cleanup
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_dig_cleanup
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
)brace
r_int
id|alc_dig_playback_pcm_close
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_dig_close
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Analog capture&n; */
r_int
id|alc_alt_capture_pcm_prepare
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|stream_tag
comma
"&t;&t;&t;&t;"
r_int
r_int
id|format
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|snd_hda_codec_setup_stream
c_func
(paren
id|codec
comma
id|spec-&gt;adc_nids
(braket
id|substream-&gt;number
op_plus
l_int|1
)braket
comma
"&t;&t;&t;&t;"
id|stream_tag
comma
l_int|0
comma
id|format
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_alt_capture_pcm_cleanup
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|snd_hda_codec_cleanup_stream
c_func
(paren
id|codec
comma
"&t;&t;&t;&t;"
id|spec-&gt;adc_nids
(braket
id|substream-&gt;number
op_plus
l_int|1
)braket
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* analog capture with dynamic dual-adc changes */
r_int
id|dyn_adc_capture_pcm_prepare
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|stream_tag
comma
"&t;&t;&t;&t;"
r_int
r_int
id|format
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|spec-&gt;cur_adc
op_assign
id|spec-&gt;adc_nids
(braket
id|spec-&gt;dyn_adc_idx
(braket
id|spec-&gt;cur_mux
(braket
l_int|0
)braket
)braket
)braket
suffix:semicolon
"&t;"
id|spec-&gt;cur_adc_stream_tag
op_assign
id|stream_tag
suffix:semicolon
"&t;"
id|spec-&gt;cur_adc_format
op_assign
id|format
suffix:semicolon
"&t;"
id|snd_hda_codec_setup_stream
c_func
(paren
id|codec
comma
id|spec-&gt;cur_adc
comma
id|stream_tag
comma
l_int|0
comma
id|format
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|dyn_adc_capture_pcm_cleanup
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|snd_hda_codec_cleanup_stream
c_func
(paren
id|codec
comma
id|spec-&gt;cur_adc
)paren
suffix:semicolon
"&t;"
id|spec-&gt;cur_adc
op_assign
l_int|0
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_const
r_struct
id|hda_pcm_stream
id|dyn_adc_pcm_analog_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
dot
id|nid
op_assign
l_int|0
comma
multiline_comment|/* fill later */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|prepare
op_assign
id|dyn_adc_capture_pcm_prepare
comma
"&t;&t;"
dot
id|cleanup
op_assign
id|dyn_adc_capture_pcm_cleanup
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; */
r_const
r_struct
id|hda_pcm_stream
id|alc_pcm_analog_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|8
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|open
op_assign
id|alc_playback_pcm_open
comma
"&t;&t;"
dot
id|prepare
op_assign
id|alc_playback_pcm_prepare
comma
"&t;&t;"
dot
id|cleanup
op_assign
id|alc_playback_pcm_cleanup
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|hda_pcm_stream
id|alc_pcm_analog_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
)brace
suffix:semicolon
r_const
r_struct
id|hda_pcm_stream
id|alc_pcm_analog_alt_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
)brace
suffix:semicolon
r_const
r_struct
id|hda_pcm_stream
id|alc_pcm_analog_alt_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|2
comma
multiline_comment|/* can be overridden */
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|prepare
op_assign
id|alc_alt_capture_pcm_prepare
comma
"&t;&t;"
dot
id|cleanup
op_assign
id|alc_alt_capture_pcm_cleanup
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|hda_pcm_stream
id|alc_pcm_digital_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|open
op_assign
id|alc_dig_playback_pcm_open
comma
"&t;&t;"
dot
id|close
op_assign
id|alc_dig_playback_pcm_close
comma
"&t;&t;"
dot
id|prepare
op_assign
id|alc_dig_playback_pcm_prepare
comma
"&t;&t;"
dot
id|cleanup
op_assign
id|alc_dig_playback_pcm_cleanup
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|hda_pcm_stream
id|alc_pcm_digital_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
)brace
suffix:semicolon
multiline_comment|/* Used by alc_build_pcms to flag that a PCM has no playback stream */
r_const
r_struct
id|hda_pcm_stream
id|alc_pcm_null_stream
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|0
comma
"&t;"
dot
id|channels_min
op_assign
l_int|0
comma
"&t;"
dot
id|channels_max
op_assign
l_int|0
comma
)brace
suffix:semicolon
r_int
id|alc_build_pcms
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|hda_pcm
op_star
id|info
op_assign
id|spec-&gt;pcm_rec
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_pcm_stream
op_star
id|p
suffix:semicolon
"&t;"
r_bool
id|have_multi_adcs
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
id|codec-&gt;num_pcms
op_assign
l_int|1
suffix:semicolon
"&t;"
id|codec-&gt;pcm_info
op_assign
id|info
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;no_analog
)paren
"&t;&t;"
r_goto
id|skip_analog
suffix:semicolon
"&t;"
id|snprintf
c_func
(paren
id|spec-&gt;stream_name_analog
comma
r_sizeof
(paren
id|spec-&gt;stream_name_analog
)paren
comma
"&t;&t;"
l_string|&quot;%s Analog&quot;
comma
id|codec-&gt;chip_name
)paren
suffix:semicolon
"&t;"
id|info-&gt;name
op_assign
id|spec-&gt;stream_name_analog
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dac_nids
OG
l_int|0
)paren
(brace
"&t;&t;"
id|p
op_assign
id|spec-&gt;stream_analog_playback
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|p
)paren
"&t;&t;&t;"
id|p
op_assign
op_amp
id|alc_pcm_analog_playback
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
op_assign
op_star
id|p
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|nid
op_assign
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|p
op_assign
id|spec-&gt;stream_analog_capture
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|p
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;dyn_adc_switch
)paren
"&t;&t;&t;&t;"
id|p
op_assign
op_amp
id|dyn_adc_pcm_analog_capture
suffix:semicolon
"&t;&t;&t;"
r_else
"&t;&t;&t;&t;"
id|p
op_assign
op_amp
id|alc_pcm_analog_capture
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
op_assign
op_star
id|p
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|nid
op_assign
id|spec-&gt;adc_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;channel_mode
)paren
(brace
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|channels_max
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_channel_mode
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;channel_mode
(braket
id|i
)braket
dot
id|channels
OG
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|channels_max
)paren
(brace
"&t;&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|channels_max
op_assign
id|spec-&gt;channel_mode
(braket
id|i
)braket
dot
id|channels
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
id|skip_analog
suffix:colon
"&t;"
multiline_comment|/* SPDIF for stream index #1 */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dig_out_nid
op_logical_or
id|spec-&gt;dig_in_nid
)paren
(brace
"&t;&t;"
id|snprintf
c_func
(paren
id|spec-&gt;stream_name_digital
comma
"&t;&t;&t;"
r_sizeof
(paren
id|spec-&gt;stream_name_digital
)paren
comma
"&t;&t;&t;"
l_string|&quot;%s Digital&quot;
comma
id|codec-&gt;chip_name
)paren
suffix:semicolon
"&t;&t;"
id|codec-&gt;num_pcms
op_assign
l_int|2
suffix:semicolon
"&t;"
id|codec-&gt;slave_dig_outs
op_assign
id|spec-&gt;multiout.slave_dig_outs
suffix:semicolon
"&t;&t;"
id|info
op_assign
id|spec-&gt;pcm_rec
op_plus
l_int|1
suffix:semicolon
"&t;&t;"
id|info-&gt;name
op_assign
id|spec-&gt;stream_name_digital
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;dig_out_type
)paren
"&t;&t;&t;"
id|info-&gt;pcm_type
op_assign
id|spec-&gt;dig_out_type
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|info-&gt;pcm_type
op_assign
id|HDA_PCM_TYPE_SPDIF
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dig_out_nid
)paren
(brace
"&t;&t;&t;"
id|p
op_assign
id|spec-&gt;stream_digital_playback
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|p
)paren
"&t;&t;&t;&t;"
id|p
op_assign
op_amp
id|alc_pcm_digital_playback
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
op_assign
op_star
id|p
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|nid
op_assign
id|spec-&gt;multiout.dig_out_nid
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;dig_in_nid
)paren
(brace
"&t;&t;&t;"
id|p
op_assign
id|spec-&gt;stream_digital_capture
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|p
)paren
"&t;&t;&t;&t;"
id|p
op_assign
op_amp
id|alc_pcm_digital_capture
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
op_assign
op_star
id|p
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|nid
op_assign
id|spec-&gt;dig_in_nid
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
multiline_comment|/* FIXME: do we need this for all Realtek codec models? */
"&t;&t;"
id|codec-&gt;spdif_status_reset
op_assign
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;no_analog
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
multiline_comment|/* If the use of more than one ADC is requested for the current&n;&t; * model, configure a second analog capture-only PCM.&n;&t; */
"&t;"
id|have_multi_adcs
op_assign
(paren
id|spec-&gt;num_adc_nids
OG
l_int|1
)paren
op_logical_and
"&t;&t;"
op_logical_neg
id|spec-&gt;dyn_adc_switch
op_logical_and
op_logical_neg
id|spec-&gt;auto_mic
op_logical_and
"&t;&t;"
(paren
op_logical_neg
id|spec-&gt;input_mux
op_logical_or
id|spec-&gt;input_mux-&gt;num_items
OG
l_int|1
)paren
suffix:semicolon
"&t;"
multiline_comment|/* Additional Analaog capture for index #2 */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;alt_dac_nid
op_logical_or
id|have_multi_adcs
)paren
(brace
"&t;&t;"
id|codec-&gt;num_pcms
op_assign
l_int|3
suffix:semicolon
"&t;&t;"
id|info
op_assign
id|spec-&gt;pcm_rec
op_plus
l_int|2
suffix:semicolon
"&t;&t;"
id|info-&gt;name
op_assign
id|spec-&gt;stream_name_analog
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;alt_dac_nid
)paren
(brace
"&t;&t;&t;"
id|p
op_assign
id|spec-&gt;stream_analog_alt_playback
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|p
)paren
"&t;&t;&t;&t;"
id|p
op_assign
op_amp
id|alc_pcm_analog_alt_playback
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
op_assign
op_star
id|p
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|nid
op_assign
"&t;&t;&t;&t;"
id|spec-&gt;alt_dac_nid
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
op_assign
"&t;&t;&t;&t;"
id|alc_pcm_null_stream
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|nid
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
id|have_multi_adcs
)paren
(brace
"&t;&t;&t;"
id|p
op_assign
id|spec-&gt;stream_analog_alt_capture
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|p
)paren
"&t;&t;&t;&t;"
id|p
op_assign
op_amp
id|alc_pcm_analog_alt_capture
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
op_assign
op_star
id|p
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|nid
op_assign
"&t;&t;&t;&t;"
id|spec-&gt;adc_nids
(braket
l_int|1
)braket
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|substreams
op_assign
"&t;&t;&t;&t;"
id|spec-&gt;num_adc_nids
l_int|1
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
op_assign
"&t;&t;&t;&t;"
id|alc_pcm_null_stream
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|nid
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_void
id|alc_shutup
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_logical_and
id|spec-&gt;shutup
)paren
"&t;&t;"
id|spec
op_member_access_from_pointer
id|shutup
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|snd_hda_shutup_pins
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
r_void
id|alc_free_kctls
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;kctls.list
)paren
(brace
"&t;&t;"
r_struct
id|snd_kcontrol_new
op_star
id|kctl
op_assign
id|spec-&gt;kctls.list
suffix:semicolon
"&t;&t;"
r_int
id|i
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;kctls.used
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;&t;"
id|kfree
c_func
(paren
id|kctl
(braket
id|i
)braket
dot
id|name
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|snd_array_free
c_func
(paren
op_amp
id|spec-&gt;kctls
)paren
suffix:semicolon
)brace
r_void
id|alc_free_bind_ctls
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;bind_ctls.list
)paren
(brace
"&t;&t;"
r_struct
id|hda_bind_ctls
op_star
op_star
id|ctl
op_assign
id|spec-&gt;bind_ctls.list
suffix:semicolon
"&t;&t;"
r_int
id|i
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;bind_ctls.used
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;&t;"
id|kfree
c_func
(paren
id|ctl
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|snd_array_free
c_func
(paren
op_amp
id|spec-&gt;bind_ctls
)paren
suffix:semicolon
)brace
r_void
id|alc_free
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|alc_shutup
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|snd_hda_input_jack_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_free_kctls
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_free_bind_ctls
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|kfree
c_func
(paren
id|spec
)paren
suffix:semicolon
"&t;"
id|snd_hda_detach_beep_device
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
r_void
id|alc_power_eapd
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc_auto_setup_eapd
c_func
(paren
id|codec
comma
l_bool|false
)paren
suffix:semicolon
)brace
r_int
id|alc_suspend
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|pm_message_t
id|state
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|alc_shutup
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_logical_and
id|spec-&gt;power_hook
)paren
"&t;&t;"
id|spec
op_member_access_from_pointer
id|power_hook
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef CONFIG_PM
r_int
id|alc_resume
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|msleep
c_func
(paren
l_int|150
)paren
suffix:semicolon
multiline_comment|/* to avoid pop noise */
"&t;"
id|codec-&gt;patch_ops
dot
id|init
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_resume_amp
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_resume_cache
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|hda_call_check_power_status
c_func
(paren
id|codec
comma
l_int|0x01
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/*&n; */
r_const
r_struct
id|hda_codec_ops
id|alc_patch_ops
op_assign
(brace
"&t;"
dot
id|build_controls
op_assign
id|alc_build_controls
comma
"&t;"
dot
id|build_pcms
op_assign
id|alc_build_pcms
comma
"&t;"
dot
id|init
op_assign
id|alc_init
comma
"&t;"
dot
id|free
op_assign
id|alc_free
comma
"&t;"
dot
id|unsol_event
op_assign
id|alc_unsol_event
comma
macro_line|#ifdef CONFIG_PM
"&t;"
dot
id|resume
op_assign
id|alc_resume
comma
macro_line|#endif
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
dot
id|suspend
op_assign
id|alc_suspend
comma
"&t;"
dot
id|check_power_status
op_assign
id|alc_check_power_status
comma
macro_line|#endif
"&t;"
dot
id|reboot_notify
op_assign
id|alc_shutup
comma
)brace
suffix:semicolon
multiline_comment|/* replace the codec chip_name with the given string */
r_int
id|alc_codec_rename
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_const
r_char
op_star
id|name
)paren
(brace
"&t;"
id|kfree
c_func
(paren
id|codec-&gt;chip_name
)paren
suffix:semicolon
"&t;"
id|codec-&gt;chip_name
op_assign
id|kstrdup
c_func
(paren
id|name
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|codec-&gt;chip_name
)paren
(brace
"&t;&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Rename codecs appropriately from COEF value&n; */
r_struct
id|alc_codec_rename_table
(brace
"&t;"
r_int
r_int
id|vendor_id
suffix:semicolon
"&t;"
r_int
r_int
id|coef_mask
suffix:semicolon
"&t;"
r_int
r_int
id|coef_bits
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|name
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|alc_codec_rename_table
id|rename_tbl
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x10ec0269
comma
l_int|0xfff0
comma
l_int|0x3010
comma
l_string|&quot;ALC277&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0269
comma
l_int|0xf0f0
comma
l_int|0x2010
comma
l_string|&quot;ALC259&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0269
comma
l_int|0xf0f0
comma
l_int|0x3010
comma
l_string|&quot;ALC258&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0269
comma
l_int|0x00f0
comma
l_int|0x0010
comma
l_string|&quot;ALC269VB&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0269
comma
l_int|0xffff
comma
l_int|0xa023
comma
l_string|&quot;ALC259&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0269
comma
l_int|0xffff
comma
l_int|0x6023
comma
l_string|&quot;ALC281X&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0269
comma
l_int|0x00f0
comma
l_int|0x0020
comma
l_string|&quot;ALC269VC&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0887
comma
l_int|0x00f0
comma
l_int|0x0030
comma
l_string|&quot;ALC887-VD&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0888
comma
l_int|0x00f0
comma
l_int|0x0030
comma
l_string|&quot;ALC888-VD&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0888
comma
l_int|0xf0f0
comma
l_int|0x3020
comma
l_string|&quot;ALC886&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0899
comma
l_int|0x2000
comma
l_int|0x2000
comma
l_string|&quot;ALC899&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0892
comma
l_int|0xffff
comma
l_int|0x8020
comma
l_string|&quot;ALC661&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0892
comma
l_int|0xffff
comma
l_int|0x8011
comma
l_string|&quot;ALC661&quot;
)brace
comma
"&t;"
(brace
l_int|0x10ec0892
comma
l_int|0xffff
comma
l_int|0x4011
comma
l_string|&quot;ALC656&quot;
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* terminator */
)brace
suffix:semicolon
r_int
id|alc_codec_rename_from_preset
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
r_struct
id|alc_codec_rename_table
op_star
id|p
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|p
op_assign
id|rename_tbl
suffix:semicolon
id|p-&gt;vendor_id
suffix:semicolon
id|p
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|p-&gt;vendor_id
op_ne
id|codec-&gt;vendor_id
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
id|p-&gt;coef_mask
)paren
op_eq
id|p-&gt;coef_bits
)paren
"&t;&t;&t;"
r_return
id|alc_codec_rename
c_func
(paren
id|codec
comma
id|p-&gt;name
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * Automatic parse of I/O pins from the BIOS configuration&n; */
r_enum
(brace
"&t;"
id|ALC_CTL_WIDGET_VOL
comma
"&t;"
id|ALC_CTL_WIDGET_MUTE
comma
"&t;"
id|ALC_CTL_BIND_MUTE
comma
"&t;"
id|ALC_CTL_BIND_VOL
comma
"&t;"
id|ALC_CTL_BIND_SW
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_kcontrol_new
id|alc_control_templates
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_int|NULL
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_int|NULL
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_int|NULL
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
comma
"&t;"
id|HDA_BIND_VOL
c_func
(paren
l_int|NULL
comma
l_int|0
)paren
comma
"&t;"
id|HDA_BIND_SW
c_func
(paren
l_int|NULL
comma
l_int|0
)paren
comma
)brace
suffix:semicolon
multiline_comment|/* add dynamic controls */
r_int
id|add_control
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_int
id|type
comma
r_const
r_char
op_star
id|name
comma
"&t;&t;"
r_int
id|cidx
comma
r_int
r_int
id|val
)paren
(brace
"&t;"
r_struct
id|snd_kcontrol_new
op_star
id|knew
suffix:semicolon
"&t;"
id|knew
op_assign
id|alc_kcontrol_new
c_func
(paren
id|spec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
op_star
id|knew
op_assign
id|alc_control_templates
(braket
id|type
)braket
suffix:semicolon
"&t;"
id|knew-&gt;name
op_assign
id|kstrdup
c_func
(paren
id|name
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew-&gt;name
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|knew-&gt;index
op_assign
id|cidx
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|get_amp_nid_
c_func
(paren
id|val
)paren
)paren
"&t;&t;"
id|knew-&gt;subdevice
op_assign
id|HDA_SUBDEV_AMP_FLAG
suffix:semicolon
"&t;"
id|knew-&gt;private_value
op_assign
id|val
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|add_control_with_pfx
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_int
id|type
comma
"&t;&t;&t;&t;"
r_const
r_char
op_star
id|pfx
comma
r_const
r_char
op_star
id|dir
comma
"&t;&t;&t;&t;"
r_const
r_char
op_star
id|sfx
comma
r_int
id|cidx
comma
r_int
r_int
id|val
)paren
(brace
"&t;"
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
id|snprintf
c_func
(paren
id|name
comma
r_sizeof
(paren
id|name
)paren
comma
l_string|&quot;%s %s %s&quot;
comma
id|pfx
comma
id|dir
comma
id|sfx
)paren
suffix:semicolon
"&t;"
r_return
id|add_control
c_func
(paren
id|spec
comma
id|type
comma
id|name
comma
id|cidx
comma
id|val
)paren
suffix:semicolon
)brace
macro_line|#define add_pb_vol_ctrl(spec, type, pfx, val)&t;&t;&t;&bslash;&n;&t;add_control_with_pfx(spec, type, pfx, &quot;Playback&quot;, &quot;Volume&quot;, 0, val)
macro_line|#define add_pb_sw_ctrl(spec, type, pfx, val)&t;&t;&t;&bslash;&n;&t;add_control_with_pfx(spec, type, pfx, &quot;Playback&quot;, &quot;Switch&quot;, 0, val)
macro_line|#define __add_pb_vol_ctrl(spec, type, pfx, cidx, val)&t;&t;&t;&bslash;&n;&t;add_control_with_pfx(spec, type, pfx, &quot;Playback&quot;, &quot;Volume&quot;, cidx, val)
macro_line|#define __add_pb_sw_ctrl(spec, type, pfx, cidx, val)&t;&t;&t;&bslash;&n;&t;add_control_with_pfx(spec, type, pfx, &quot;Playback&quot;, &quot;Switch&quot;, cidx, val)
r_const
r_char
op_star
r_const
id|channel_name
(braket
l_int|4
)braket
op_assign
(brace
"&t;"
l_string|&quot;Front&quot;
comma
l_string|&quot;Surround&quot;
comma
l_string|&quot;CLFE&quot;
comma
l_string|&quot;Side&quot;
)brace
suffix:semicolon
r_const
r_char
op_star
id|alc_get_line_out_pfx
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_int
id|ch
comma
"&t;&t;&t;&t;&t;"
r_bool
id|can_be_master
comma
r_int
op_star
id|index
)paren
(brace
"&t;"
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
op_star
id|index
op_assign
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_outs
op_eq
l_int|1
op_logical_and
op_logical_neg
id|spec-&gt;multi_ios
op_logical_and
"&t;"
op_logical_neg
id|cfg-&gt;hp_outs
op_logical_and
op_logical_neg
id|cfg-&gt;speaker_outs
op_logical_and
id|can_be_master
)paren
"&t;&t;"
r_return
l_string|&quot;Master&quot;
suffix:semicolon
"&t;"
r_switch
c_cond
(paren
id|cfg-&gt;line_out_type
)paren
(brace
"&t;"
r_case
id|AUTO_PIN_SPEAKER_OUT
suffix:colon
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_outs
op_eq
l_int|1
)paren
"&t;&t;&t;"
r_return
l_string|&quot;Speaker&quot;
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_case
id|AUTO_PIN_HP_OUT
suffix:colon
"&t;&t;"
multiline_comment|/* for multi-io case, only the primary out */
"&t;&t;"
r_if
c_cond
(paren
id|ch
op_logical_and
id|spec-&gt;multi_ios
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
op_star
id|index
op_assign
id|ch
suffix:semicolon
"&t;&t;"
r_return
l_string|&quot;Headphone&quot;
suffix:semicolon
"&t;"
r_default
suffix:colon
(brace
)brace
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_outs
op_eq
l_int|1
op_logical_and
op_logical_neg
id|spec-&gt;multi_ios
)paren
"&t;&t;&t;"
r_return
l_string|&quot;PCM&quot;
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|snd_BUG_ON
c_func
(paren
id|ch
op_ge
id|ARRAY_SIZE
c_func
(paren
id|channel_name
)paren
)paren
)paren
"&t;&t;"
r_return
l_string|&quot;PCM&quot;
suffix:semicolon
"&t;"
r_return
id|channel_name
(braket
id|ch
)braket
suffix:semicolon
)brace
multiline_comment|/* create input playback/capture controls for the given pin */
r_int
id|new_analog_input
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
id|hda_nid_t
id|pin
comma
"&t;&t;&t;"
r_const
r_char
op_star
id|ctlname
comma
r_int
id|ctlidx
comma
"&t;&t;&t;"
r_int
id|idx
comma
id|hda_nid_t
id|mix_nid
)paren
(brace
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|__add_pb_vol_ctrl
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
id|ctlname
comma
id|ctlidx
comma
"&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|mix_nid
comma
l_int|3
comma
id|idx
comma
id|HDA_INPUT
)paren
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|__add_pb_sw_ctrl
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
id|ctlname
comma
id|ctlidx
comma
"&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|mix_nid
comma
l_int|3
comma
id|idx
comma
id|HDA_INPUT
)paren
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_is_input_pin
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
)paren
(brace
"&t;"
r_int
r_int
id|pincap
op_assign
id|snd_hda_query_pin_caps
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;"
r_return
(paren
id|pincap
op_amp
id|AC_PINCAP_IN
)paren
op_ne
l_int|0
suffix:semicolon
)brace
multiline_comment|/* Parse the codec tree and retrieve ADCs and corresponding capsrc MUXs */
r_int
id|alc_auto_fill_adc_caps
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
id|hda_nid_t
op_star
id|adc_nids
op_assign
id|spec-&gt;private_adc_nids
suffix:semicolon
"&t;"
id|hda_nid_t
op_star
id|cap_nids
op_assign
id|spec-&gt;private_capsrc_nids
suffix:semicolon
"&t;"
r_int
id|max_nums
op_assign
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;private_adc_nids
)paren
suffix:semicolon
"&t;"
r_int
id|i
comma
id|nums
op_assign
l_int|0
suffix:semicolon
"&t;"
id|nid
op_assign
id|codec-&gt;start_nid
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|codec-&gt;num_nodes
suffix:semicolon
id|i
op_increment
comma
id|nid
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|src
suffix:semicolon
"&t;&t;"
r_const
id|hda_nid_t
op_star
id|list
suffix:semicolon
"&t;&t;"
r_int
r_int
id|caps
op_assign
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;&t;"
r_int
id|type
op_assign
id|get_wcaps_type
c_func
(paren
id|caps
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|type
op_ne
id|AC_WID_AUD_IN
op_logical_or
(paren
id|caps
op_amp
id|AC_WCAP_DIGITAL
)paren
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|adc_nids
(braket
id|nums
)braket
op_assign
id|nid
suffix:semicolon
"&t;&t;"
id|cap_nids
(braket
id|nums
)braket
op_assign
id|nid
suffix:semicolon
"&t;&t;"
id|src
op_assign
id|nid
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
suffix:semicolon
suffix:semicolon
)paren
(brace
"&t;&t;&t;"
r_int
id|n
suffix:semicolon
"&t;&t;&t;"
id|type
op_assign
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|src
)paren
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|type
op_eq
id|AC_WID_PIN
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|type
op_eq
id|AC_WID_AUD_SEL
)paren
(brace
"&t;&t;&t;&t;"
id|cap_nids
(braket
id|nums
)braket
op_assign
id|src
suffix:semicolon
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;&t;"
id|n
op_assign
id|snd_hda_get_conn_list
c_func
(paren
id|codec
comma
id|src
comma
op_amp
id|list
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|n
OG
l_int|1
)paren
(brace
"&t;&t;&t;&t;"
id|cap_nids
(braket
id|nums
)braket
op_assign
id|src
suffix:semicolon
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
r_else
r_if
c_cond
(paren
id|n
op_ne
l_int|1
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|src
op_assign
op_star
id|list
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
op_increment
id|nums
op_ge
id|max_nums
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;"
)brace
"&t;"
id|spec-&gt;adc_nids
op_assign
id|spec-&gt;private_adc_nids
suffix:semicolon
"&t;"
id|spec-&gt;capsrc_nids
op_assign
id|spec-&gt;private_capsrc_nids
suffix:semicolon
"&t;"
id|spec-&gt;num_adc_nids
op_assign
id|nums
suffix:semicolon
"&t;"
r_return
id|nums
suffix:semicolon
)brace
multiline_comment|/* create playback/capture controls for input pins */
r_int
id|alc_auto_create_input_ctls
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
id|hda_nid_t
id|mixer
op_assign
id|spec-&gt;mixer_nid
suffix:semicolon
"&t;"
r_struct
id|hda_input_mux
op_star
id|imux
op_assign
op_amp
id|spec-&gt;private_imux
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_int
id|num_adcs
suffix:semicolon
"&t;"
r_int
id|i
comma
id|c
comma
id|err
comma
id|idx
comma
id|type_idx
op_assign
l_int|0
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|prev_label
op_assign
l_int|NULL
suffix:semicolon
"&t;"
id|num_adcs
op_assign
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|num_adcs
OL
l_int|0
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;num_inputs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|pin
suffix:semicolon
"&t;&t;"
r_const
r_char
op_star
id|label
suffix:semicolon
"&t;&t;"
id|pin
op_assign
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|pin
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|alc_is_input_pin
c_func
(paren
id|codec
comma
id|pin
)paren
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|label
op_assign
id|hda_get_autocfg_input_label
c_func
(paren
id|codec
comma
id|cfg
comma
id|i
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|prev_label
op_logical_and
op_logical_neg
id|strcmp
c_func
(paren
id|label
comma
id|prev_label
)paren
)paren
"&t;&t;&t;"
id|type_idx
op_increment
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|type_idx
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
id|prev_label
op_assign
id|label
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|mixer
)paren
(brace
"&t;&t;&t;"
id|idx
op_assign
id|get_connection_index
c_func
(paren
id|codec
comma
id|mixer
comma
id|pin
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|idx
op_ge
l_int|0
)paren
(brace
"&t;&t;&t;&t;"
id|err
op_assign
id|new_analog_input
c_func
(paren
id|spec
comma
id|pin
comma
"&t;&t;&t;&t;&t;&t;"
id|label
comma
id|type_idx
comma
"&t;&t;&t;&t;&t;&t;"
id|idx
comma
id|mixer
)paren
suffix:semicolon
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;&t;"
r_for
c_loop
(paren
id|c
op_assign
l_int|0
suffix:semicolon
id|c
OL
id|num_adcs
suffix:semicolon
id|c
op_increment
)paren
(brace
"&t;&t;&t;"
id|hda_nid_t
id|cap
op_assign
id|get_capsrc
c_func
(paren
id|spec
comma
id|c
)paren
suffix:semicolon
"&t;&t;&t;"
id|idx
op_assign
id|get_connection_index
c_func
(paren
id|codec
comma
id|cap
comma
id|pin
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|idx
op_ge
l_int|0
)paren
(brace
"&t;&t;&t;&t;"
id|spec-&gt;imux_pins
(braket
id|imux-&gt;num_items
)braket
op_assign
id|pin
suffix:semicolon
"&t;&t;&t;&t;"
id|snd_hda_add_imux_item
c_func
(paren
id|imux
comma
id|label
comma
id|idx
comma
l_int|NULL
)paren
suffix:semicolon
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|spec-&gt;num_mux_defs
op_assign
l_int|1
suffix:semicolon
"&t;"
id|spec-&gt;input_mux
op_assign
id|imux
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_void
id|alc_set_pin_output
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
"&t;&t;&t;"
r_int
r_int
id|pin_type
)paren
(brace
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;"
id|pin_type
)paren
suffix:semicolon
"&t;"
multiline_comment|/* unmute pin */
"&t;"
r_if
c_cond
(paren
id|nid_has_mute
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;"
id|AMP_OUT_UNMUTE
)paren
suffix:semicolon
)brace
r_int
id|get_pin_type
c_func
(paren
r_int
id|line_out_type
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|line_out_type
op_eq
id|AUTO_PIN_HP_OUT
)paren
"&t;&t;"
r_return
id|PIN_HP
suffix:semicolon
"&t;"
r_else
"&t;&t;"
r_return
id|PIN_OUT
suffix:semicolon
)brace
r_void
id|alc_auto_init_analog_input
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;num_inputs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|pin
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|alc_is_input_pin
c_func
(paren
id|codec
comma
id|nid
)paren
)paren
(brace
"&t;&t;&t;"
id|alc_set_input_pin
c_func
(paren
id|codec
comma
id|nid
comma
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|type
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
op_amp
id|AC_WCAP_OUT_AMP
)paren
"&t;&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;&t;&t;"
id|AMP_OUT_MUTE
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
multiline_comment|/* mute all loopback inputs */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;mixer_nid
)paren
(brace
"&t;&t;"
r_int
id|nums
op_assign
id|snd_hda_get_conn_list
c_func
(paren
id|codec
comma
id|spec-&gt;mixer_nid
comma
l_int|NULL
)paren
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|nums
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|spec-&gt;mixer_nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;&t;"
id|AMP_IN_MUTE
c_func
(paren
id|i
)paren
)paren
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/* convert from MIX nid to DAC */
id|hda_nid_t
id|alc_auto_mix_to_dac
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
)paren
(brace
"&t;"
id|hda_nid_t
id|list
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|num
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
)paren
op_eq
id|AC_WID_AUD_OUT
)paren
"&t;&t;"
r_return
id|nid
suffix:semicolon
"&t;"
id|num
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
id|nid
comma
id|list
comma
id|ARRAY_SIZE
c_func
(paren
id|list
)paren
)paren
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|list
(braket
id|i
)braket
)paren
)paren
op_eq
id|AC_WID_AUD_OUT
)paren
"&t;&t;&t;"
r_return
id|list
(braket
id|i
)braket
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* go down to the selector widget before the mixer */
id|hda_nid_t
id|alc_go_down_to_selector
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|pin
)paren
(brace
"&t;"
id|hda_nid_t
id|srcs
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
r_int
id|num
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
id|pin
comma
id|srcs
comma
"&t;&t;&t;&t;&t;"
id|ARRAY_SIZE
c_func
(paren
id|srcs
)paren
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|num
op_ne
l_int|1
op_logical_or
"&t;"
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|srcs
(braket
l_int|0
)braket
)paren
)paren
op_ne
id|AC_WID_AUD_SEL
)paren
"&t;&t;"
r_return
id|pin
suffix:semicolon
"&t;"
r_return
id|srcs
(braket
l_int|0
)braket
suffix:semicolon
)brace
multiline_comment|/* get MIX nid connected to the given pin targeted to DAC */
id|hda_nid_t
id|alc_auto_dac_to_mix
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|pin
comma
"&t;&t;&t;&t;"
id|hda_nid_t
id|dac
)paren
(brace
"&t;"
id|hda_nid_t
id|mix
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|num
suffix:semicolon
"&t;"
id|pin
op_assign
id|alc_go_down_to_selector
c_func
(paren
id|codec
comma
id|pin
)paren
suffix:semicolon
"&t;"
id|num
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
id|pin
comma
id|mix
comma
id|ARRAY_SIZE
c_func
(paren
id|mix
)paren
)paren
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|alc_auto_mix_to_dac
c_func
(paren
id|codec
comma
id|mix
(braket
id|i
)braket
)paren
op_eq
id|dac
)paren
"&t;&t;&t;"
r_return
id|mix
(braket
id|i
)braket
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* select the connection from pin to DAC if needed */
r_int
id|alc_auto_select_dac
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|pin
comma
"&t;&t;&t;"
id|hda_nid_t
id|dac
)paren
(brace
"&t;"
id|hda_nid_t
id|mix
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|num
suffix:semicolon
"&t;"
id|pin
op_assign
id|alc_go_down_to_selector
c_func
(paren
id|codec
comma
id|pin
)paren
suffix:semicolon
"&t;"
id|num
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
id|pin
comma
id|mix
comma
id|ARRAY_SIZE
c_func
(paren
id|mix
)paren
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|num
OL
l_int|2
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|alc_auto_mix_to_dac
c_func
(paren
id|codec
comma
id|mix
(braket
id|i
)braket
)paren
op_eq
id|dac
)paren
(brace
"&t;&t;&t;"
id|snd_hda_codec_update_cache
c_func
(paren
id|codec
comma
id|pin
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|AC_VERB_SET_CONNECT_SEL
comma
id|i
)paren
suffix:semicolon
"&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* look for an empty DAC slot */
id|hda_nid_t
id|alc_auto_look_for_dac
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|pin
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|srcs
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|num
suffix:semicolon
"&t;"
id|pin
op_assign
id|alc_go_down_to_selector
c_func
(paren
id|codec
comma
id|pin
)paren
suffix:semicolon
"&t;"
id|num
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
id|pin
comma
id|srcs
comma
id|ARRAY_SIZE
c_func
(paren
id|srcs
)paren
)paren
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|alc_auto_mix_to_dac
c_func
(paren
id|codec
comma
id|srcs
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|found_in_nid_list
c_func
(paren
id|nid
comma
id|spec-&gt;multiout.dac_nids
comma
"&t;&t;&t;&t;"
id|spec-&gt;multiout.num_dacs
)paren
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|found_in_nid_list
c_func
(paren
id|nid
comma
id|spec-&gt;multiout.hp_out_nid
comma
"&t;&t;&t;&t;"
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;multiout.hp_out_nid
)paren
)paren
)paren
"&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|found_in_nid_list
c_func
(paren
id|nid
comma
id|spec-&gt;multiout.extra_out_nid
comma
"&t;&t;&t;&t;"
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;multiout.extra_out_nid
)paren
)paren
)paren
"&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
r_return
id|nid
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
id|hda_nid_t
id|get_dac_if_single
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|pin
)paren
(brace
"&t;"
id|hda_nid_t
id|sel
op_assign
id|alc_go_down_to_selector
c_func
(paren
id|codec
comma
id|pin
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|snd_hda_get_conn_list
c_func
(paren
id|codec
comma
id|sel
comma
l_int|NULL
)paren
op_eq
l_int|1
)paren
"&t;&t;"
r_return
id|alc_auto_look_for_dac
c_func
(paren
id|codec
comma
id|pin
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_auto_fill_extra_dacs
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|num_outs
comma
"&t;&t;&t;&t;"
r_const
id|hda_nid_t
op_star
id|pins
comma
id|hda_nid_t
op_star
id|dacs
)paren
(brace
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|num_outs
op_logical_and
op_logical_neg
id|dacs
(braket
l_int|0
)braket
)paren
(brace
"&t;&t;"
id|dacs
(braket
l_int|0
)braket
op_assign
id|alc_auto_look_for_dac
c_func
(paren
id|codec
comma
id|pins
(braket
l_int|0
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dacs
(braket
l_int|0
)braket
)paren
"&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
)brace
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
OL
id|num_outs
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|dacs
(braket
id|i
)braket
op_assign
id|get_dac_if_single
c_func
(paren
id|codec
comma
id|pins
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
OL
id|num_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dacs
(braket
id|i
)braket
)paren
"&t;&t;&t;"
id|dacs
(braket
id|i
)braket
op_assign
id|alc_auto_look_for_dac
c_func
(paren
id|codec
comma
id|pins
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_auto_fill_multi_ios
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|location
)paren
suffix:semicolon
multiline_comment|/* fill in the dac_nids table from the parsed pin configuration */
r_int
id|alc_auto_fill_dac_nids
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
r_bool
id|redone
op_assign
l_bool|false
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
id|again
suffix:colon
"&t;"
multiline_comment|/* set num_dacs once to full for alc_auto_look_for_dac() */
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
id|cfg-&gt;line_outs
suffix:semicolon
"&t;"
id|spec-&gt;multiout.hp_out_nid
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
"&t;"
id|spec-&gt;multiout.extra_out_nid
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
"&t;"
id|memset
c_func
(paren
id|spec-&gt;private_dac_nids
comma
l_int|0
comma
r_sizeof
(paren
id|spec-&gt;private_dac_nids
)paren
)paren
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dac_nids
op_assign
id|spec-&gt;private_dac_nids
suffix:semicolon
"&t;"
multiline_comment|/* fill hard-wired DACs first */
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|redone
)paren
(brace
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;&t;"
id|spec-&gt;private_dac_nids
(braket
id|i
)braket
op_assign
"&t;&t;&t;&t;"
id|get_dac_if_single
c_func
(paren
id|codec
comma
id|cfg-&gt;line_out_pins
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;hp_outs
)paren
"&t;&t;&t;"
id|spec-&gt;multiout.hp_out_nid
(braket
l_int|0
)braket
op_assign
"&t;&t;&t;&t;"
id|get_dac_if_single
c_func
(paren
id|codec
comma
id|cfg-&gt;hp_pins
(braket
l_int|0
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;speaker_outs
)paren
"&t;&t;&t;"
id|spec-&gt;multiout.extra_out_nid
(braket
l_int|0
)braket
op_assign
"&t;&t;&t;&t;"
id|get_dac_if_single
c_func
(paren
id|codec
comma
id|cfg-&gt;speaker_pins
(braket
l_int|0
)braket
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|pin
op_assign
id|cfg-&gt;line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;private_dac_nids
(braket
id|i
)braket
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|spec-&gt;private_dac_nids
(braket
id|i
)braket
op_assign
id|alc_auto_look_for_dac
c_func
(paren
id|codec
comma
id|pin
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;private_dac_nids
(braket
id|i
)braket
op_logical_and
op_logical_neg
id|redone
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* if we can&squot;t find primary DACs, re-probe without&n;&t;&t;&t; * checking the hard-wired DACs&n;&t;&t;&t; */
"&t;&t;&t;"
id|redone
op_assign
l_bool|true
suffix:semicolon
"&t;&t;&t;"
r_goto
id|again
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
multiline_comment|/* re-count num_dacs and squash invalid entries */
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;private_dac_nids
(braket
id|i
)braket
)paren
"&t;&t;&t;"
id|spec-&gt;multiout.num_dacs
op_increment
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|memmove
c_func
(paren
id|spec-&gt;private_dac_nids
op_plus
id|i
comma
"&t;&t;&t;&t;"
id|spec-&gt;private_dac_nids
op_plus
id|i
op_plus
l_int|1
comma
"&t;&t;&t;&t;"
r_sizeof
(paren
id|hda_nid_t
)paren
op_star
(paren
id|cfg-&gt;line_outs
id|i
l_int|1
)paren
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_outs
op_eq
l_int|1
op_logical_and
id|cfg-&gt;line_out_type
op_ne
id|AUTO_PIN_SPEAKER_OUT
)paren
(brace
"&t;&t;"
multiline_comment|/* try to fill multi-io first */
"&t;&t;"
r_int
r_int
id|location
comma
id|defcfg
suffix:semicolon
"&t;&t;"
r_int
id|num_pins
suffix:semicolon
"&t;&t;"
id|defcfg
op_assign
id|snd_hda_codec_get_pincfg
c_func
(paren
id|codec
comma
id|cfg-&gt;line_out_pins
(braket
l_int|0
)braket
)paren
suffix:semicolon
"&t;&t;"
id|location
op_assign
id|get_defcfg_location
c_func
(paren
id|defcfg
)paren
suffix:semicolon
"&t;&t;"
id|num_pins
op_assign
id|alc_auto_fill_multi_ios
c_func
(paren
id|codec
comma
id|location
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|num_pins
OG
l_int|0
)paren
(brace
"&t;&t;&t;"
id|spec-&gt;multi_ios
op_assign
id|num_pins
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;ext_channel_count
op_assign
l_int|2
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;multiout.num_dacs
op_assign
id|num_pins
op_plus
l_int|1
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_out_type
op_ne
id|AUTO_PIN_HP_OUT
)paren
"&t;&t;"
id|alc_auto_fill_extra_dacs
c_func
(paren
id|codec
comma
id|cfg-&gt;hp_outs
comma
id|cfg-&gt;hp_pins
comma
"&t;&t;&t;&t;"
id|spec-&gt;multiout.hp_out_nid
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_out_type
op_ne
id|AUTO_PIN_SPEAKER_OUT
)paren
"&t;&t;"
id|alc_auto_fill_extra_dacs
c_func
(paren
id|codec
comma
id|cfg-&gt;speaker_outs
comma
id|cfg-&gt;speaker_pins
comma
"&t;&t;&t;&t;"
id|spec-&gt;multiout.extra_out_nid
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
r_int
id|get_ctl_pos
c_func
(paren
r_int
r_int
id|data
)paren
(brace
"&t;"
id|hda_nid_t
id|nid
op_assign
id|get_amp_nid_
c_func
(paren
id|data
)paren
suffix:semicolon
"&t;"
r_int
r_int
id|dir
op_assign
id|get_amp_direction_
c_func
(paren
id|data
)paren
suffix:semicolon
"&t;"
r_return
(paren
id|nid
op_lshift
l_int|1
)paren
op_or
id|dir
suffix:semicolon
)brace
macro_line|#define is_ctl_used(bits, data) &bslash;&n;&t;test_bit(get_ctl_pos(data), bits)
macro_line|#define mark_ctl_usage(bits, data) &bslash;&n;&t;set_bit(get_ctl_pos(data), bits)
r_int
id|alc_auto_add_vol_ctl
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_const
r_char
op_star
id|pfx
comma
r_int
id|cidx
comma
"&t;&t;&t;"
id|hda_nid_t
id|nid
comma
r_int
r_int
id|chs
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|val
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
id|chs
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|is_ctl_used
c_func
(paren
id|spec-&gt;vol_ctls
comma
id|val
)paren
op_logical_and
id|chs
op_ne
l_int|2
)paren
multiline_comment|/* exclude LFE */
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
id|mark_ctl_usage
c_func
(paren
id|spec-&gt;vol_ctls
comma
id|val
)paren
suffix:semicolon
"&t;"
r_return
id|__add_pb_vol_ctrl
c_func
(paren
id|codec-&gt;spec
comma
id|ALC_CTL_WIDGET_VOL
comma
id|pfx
comma
id|cidx
comma
"&t;&t;&t;&t;"
id|val
)paren
suffix:semicolon
)brace
macro_line|#define alc_auto_add_stereo_vol(codec, pfx, cidx, nid)&t;&bslash;&n;&t;alc_auto_add_vol_ctl(codec, pfx, cidx, nid, 3)
multiline_comment|/* create a mute-switch for the given mixer widget;&n; * if it has multiple sources (e.g. DAC and loopback), create a bind-mute&n; */
r_int
id|alc_auto_add_sw_ctl
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_const
r_char
op_star
id|pfx
comma
r_int
id|cidx
comma
"&t;&t;&t;"
id|hda_nid_t
id|nid
comma
r_int
r_int
id|chs
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|wid_type
suffix:semicolon
"&t;"
r_int
id|type
suffix:semicolon
"&t;"
r_int
r_int
id|val
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
id|wid_type
op_assign
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|wid_type
op_eq
id|AC_WID_PIN
op_logical_or
id|wid_type
op_eq
id|AC_WID_AUD_OUT
)paren
(brace
"&t;&t;"
id|type
op_assign
id|ALC_CTL_WIDGET_MUTE
suffix:semicolon
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
id|chs
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
)brace
r_else
r_if
c_cond
(paren
id|snd_hda_get_conn_list
c_func
(paren
id|codec
comma
id|nid
comma
l_int|NULL
)paren
op_eq
l_int|1
)paren
(brace
"&t;&t;"
id|type
op_assign
id|ALC_CTL_WIDGET_MUTE
suffix:semicolon
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
id|chs
comma
l_int|0
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
r_else
(brace
"&t;&t;"
id|type
op_assign
id|ALC_CTL_BIND_MUTE
suffix:semicolon
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
id|chs
comma
l_int|2
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|is_ctl_used
c_func
(paren
id|spec-&gt;sw_ctls
comma
id|val
)paren
op_logical_and
id|chs
op_ne
l_int|2
)paren
multiline_comment|/* exclude LFE */
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
id|mark_ctl_usage
c_func
(paren
id|spec-&gt;sw_ctls
comma
id|val
)paren
suffix:semicolon
"&t;"
r_return
id|__add_pb_sw_ctrl
c_func
(paren
id|codec-&gt;spec
comma
id|type
comma
id|pfx
comma
id|cidx
comma
id|val
)paren
suffix:semicolon
)brace
macro_line|#define alc_auto_add_stereo_sw(codec, pfx, cidx, nid)&t;&bslash;&n;&t;alc_auto_add_sw_ctl(codec, pfx, cidx, nid, 3)
id|hda_nid_t
id|alc_look_for_out_mute_nid
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
id|hda_nid_t
id|pin
comma
id|hda_nid_t
id|dac
)paren
(brace
"&t;"
id|hda_nid_t
id|mix
op_assign
id|alc_auto_dac_to_mix
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid_has_mute
c_func
(paren
id|codec
comma
id|pin
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
r_return
id|pin
suffix:semicolon
"&t;"
r_else
r_if
c_cond
(paren
id|mix
op_logical_and
id|nid_has_mute
c_func
(paren
id|codec
comma
id|mix
comma
id|HDA_INPUT
)paren
)paren
"&t;&t;"
r_return
id|mix
suffix:semicolon
"&t;"
r_else
r_if
c_cond
(paren
id|nid_has_mute
c_func
(paren
id|codec
comma
id|dac
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
r_return
id|dac
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
id|hda_nid_t
id|alc_look_for_out_vol_nid
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
id|hda_nid_t
id|pin
comma
id|hda_nid_t
id|dac
)paren
(brace
"&t;"
id|hda_nid_t
id|mix
op_assign
id|alc_auto_dac_to_mix
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid_has_volume
c_func
(paren
id|codec
comma
id|dac
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
r_return
id|dac
suffix:semicolon
"&t;"
r_else
r_if
c_cond
(paren
id|nid_has_volume
c_func
(paren
id|codec
comma
id|mix
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
r_return
id|mix
suffix:semicolon
"&t;"
r_else
r_if
c_cond
(paren
id|nid_has_volume
c_func
(paren
id|codec
comma
id|pin
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
r_return
id|pin
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* add playback controls from the parsed DAC table */
r_int
id|alc_auto_create_multi_out_ctls
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
comma
id|noutputs
suffix:semicolon
"&t;"
id|noutputs
op_assign
id|cfg-&gt;line_outs
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multi_ios
OG
l_int|0
)paren
"&t;&t;"
id|noutputs
op_add_assign
id|spec-&gt;multi_ios
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|noutputs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_const
r_char
op_star
id|name
suffix:semicolon
"&t;&t;"
r_int
id|index
suffix:semicolon
"&t;&t;"
id|hda_nid_t
id|dac
comma
id|pin
suffix:semicolon
"&t;&t;"
id|hda_nid_t
id|sw
comma
id|vol
suffix:semicolon
"&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dac
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|i
op_ge
id|cfg-&gt;line_outs
)paren
"&t;&t;&t;"
id|pin
op_assign
id|spec-&gt;multi_io
(braket
id|i
l_int|1
)braket
dot
id|pin
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|pin
op_assign
id|cfg-&gt;line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
id|sw
op_assign
id|alc_look_for_out_mute_nid
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;&t;"
id|vol
op_assign
id|alc_look_for_out_vol_nid
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;&t;"
id|name
op_assign
id|alc_get_line_out_pfx
c_func
(paren
id|spec
comma
id|i
comma
l_bool|true
comma
op_amp
id|index
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|name
op_logical_or
op_logical_neg
id|strcmp
c_func
(paren
id|name
comma
l_string|&quot;CLFE&quot;
)paren
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* Center/LFE */
"&t;&t;&t;"
id|err
op_assign
id|alc_auto_add_vol_ctl
c_func
(paren
id|codec
comma
l_string|&quot;Center&quot;
comma
l_int|0
comma
id|vol
comma
l_int|1
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|alc_auto_add_vol_ctl
c_func
(paren
id|codec
comma
l_string|&quot;LFE&quot;
comma
l_int|0
comma
id|vol
comma
l_int|2
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|alc_auto_add_sw_ctl
c_func
(paren
id|codec
comma
l_string|&quot;Center&quot;
comma
l_int|0
comma
id|sw
comma
l_int|1
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|alc_auto_add_sw_ctl
c_func
(paren
id|codec
comma
l_string|&quot;LFE&quot;
comma
l_int|0
comma
id|sw
comma
l_int|2
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|err
op_assign
id|alc_auto_add_stereo_vol
c_func
(paren
id|codec
comma
id|name
comma
id|index
comma
id|vol
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|alc_auto_add_stereo_sw
c_func
(paren
id|codec
comma
id|name
comma
id|index
comma
id|sw
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_auto_create_extra_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|pin
comma
"&t;&t;&t;&t;"
id|hda_nid_t
id|dac
comma
r_const
r_char
op_star
id|pfx
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|sw
comma
id|vol
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|dac
)paren
(brace
"&t;&t;"
r_int
r_int
id|val
suffix:semicolon
"&t;&t;"
multiline_comment|/* the corresponding DAC is already occupied */
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|pin
)paren
op_amp
id|AC_WCAP_OUT_AMP
)paren
)paren
"&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* no way */
"&t;&t;"
multiline_comment|/* create a switch only */
"&t;&t;"
id|val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|pin
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|is_ctl_used
c_func
(paren
id|spec-&gt;sw_ctls
comma
id|val
)paren
)paren
"&t;&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* already created */
"&t;&t;"
id|mark_ctl_usage
c_func
(paren
id|spec-&gt;sw_ctls
comma
id|val
)paren
suffix:semicolon
"&t;&t;"
r_return
id|add_pb_sw_ctrl
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
id|pfx
comma
id|val
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|sw
op_assign
id|alc_look_for_out_mute_nid
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;"
id|vol
op_assign
id|alc_look_for_out_vol_nid
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_auto_add_stereo_vol
c_func
(paren
id|codec
comma
id|pfx
comma
l_int|0
comma
id|vol
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_auto_add_stereo_sw
c_func
(paren
id|codec
comma
id|pfx
comma
l_int|0
comma
id|sw
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_struct
id|hda_bind_ctls
op_star
id|new_bind_ctl
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_int
r_int
id|nums
comma
"&t;&t;&t;&t;&t;"
r_struct
id|hda_ctl_ops
op_star
id|ops
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|hda_bind_ctls
op_star
op_star
id|ctlp
comma
op_star
id|ctl
suffix:semicolon
"&t;"
id|snd_array_init
c_func
(paren
op_amp
id|spec-&gt;bind_ctls
comma
r_sizeof
(paren
id|ctl
)paren
comma
l_int|8
)paren
suffix:semicolon
"&t;"
id|ctlp
op_assign
id|snd_array_new
c_func
(paren
op_amp
id|spec-&gt;bind_ctls
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|ctlp
)paren
"&t;&t;"
r_return
l_int|NULL
suffix:semicolon
"&t;"
id|ctl
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|ctl
)paren
op_plus
r_sizeof
(paren
r_int
)paren
op_star
(paren
id|nums
op_plus
l_int|1
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
op_star
id|ctlp
op_assign
id|ctl
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|ctl
)paren
"&t;&t;"
id|ctl-&gt;ops
op_assign
id|ops
suffix:semicolon
"&t;"
r_return
id|ctl
suffix:semicolon
)brace
multiline_comment|/* add playback controls for speaker and HP outputs */
r_int
id|alc_auto_create_extra_outs
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|num_pins
comma
"&t;&t;&t;&t;"
r_const
id|hda_nid_t
op_star
id|pins
comma
"&t;&t;&t;&t;"
r_const
id|hda_nid_t
op_star
id|dacs
comma
"&t;&t;&t;&t;"
r_const
r_char
op_star
id|pfx
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|hda_bind_ctls
op_star
id|ctl
suffix:semicolon
"&t;"
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|n
comma
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|num_pins
op_logical_or
op_logical_neg
id|pins
(braket
l_int|0
)braket
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|num_pins
op_eq
l_int|1
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|dac
op_assign
op_star
id|dacs
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dac
)paren
"&t;&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;&t;"
r_return
id|alc_auto_create_extra_out
c_func
(paren
id|codec
comma
op_star
id|pins
comma
id|dac
comma
id|pfx
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|dacs
(braket
id|num_pins
l_int|1
)braket
)paren
(brace
"&t;&t;"
multiline_comment|/* OK, we have a multi-output system with individual volumes */
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num_pins
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
id|snprintf
c_func
(paren
id|name
comma
r_sizeof
(paren
id|name
)paren
comma
l_string|&quot;%s %s&quot;
comma
"&t;&t;&t;&t;"
id|pfx
comma
id|channel_name
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|alc_auto_create_extra_out
c_func
(paren
id|codec
comma
id|pins
(braket
id|i
)braket
comma
id|dacs
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;&t;&t;"
id|name
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
)brace
"&t;"
multiline_comment|/* Let&squot;s create a bind-controls */
"&t;"
id|ctl
op_assign
id|new_bind_ctl
c_func
(paren
id|codec
comma
id|num_pins
comma
op_amp
id|snd_hda_bind_sw
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|ctl
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|n
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num_pins
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|pins
(braket
id|i
)braket
)paren
op_amp
id|AC_WCAP_OUT_AMP
)paren
"&t;&t;&t;"
id|ctl-&gt;values
(braket
id|n
op_increment
)braket
op_assign
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|pins
(braket
id|i
)braket
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|n
)paren
(brace
"&t;&t;"
id|snprintf
c_func
(paren
id|name
comma
r_sizeof
(paren
id|name
)paren
comma
l_string|&quot;%s Playback Switch&quot;
comma
id|pfx
)paren
suffix:semicolon
"&t;&t;"
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_SW
comma
id|name
comma
l_int|0
comma
(paren
r_int
)paren
id|ctl
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
id|ctl
op_assign
id|new_bind_ctl
c_func
(paren
id|codec
comma
id|num_pins
comma
op_amp
id|snd_hda_bind_vol
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|ctl
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|n
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num_pins
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|vol
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|pins
(braket
id|i
)braket
op_logical_or
op_logical_neg
id|dacs
(braket
id|i
)braket
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|vol
op_assign
id|alc_look_for_out_vol_nid
c_func
(paren
id|codec
comma
id|pins
(braket
id|i
)braket
comma
id|dacs
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|vol
)paren
"&t;&t;&t;"
id|ctl-&gt;values
(braket
id|n
op_increment
)braket
op_assign
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|vol
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|n
)paren
(brace
"&t;&t;"
id|snprintf
c_func
(paren
id|name
comma
r_sizeof
(paren
id|name
)paren
comma
l_string|&quot;%s Playback Volume&quot;
comma
id|pfx
)paren
suffix:semicolon
"&t;&t;"
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_VOL
comma
id|name
comma
l_int|0
comma
(paren
r_int
)paren
id|ctl
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_auto_create_hp_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|alc_auto_create_extra_outs
c_func
(paren
id|codec
comma
id|spec-&gt;autocfg.hp_outs
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;autocfg.hp_pins
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;multiout.hp_out_nid
comma
"&t;&t;&t;&t;&t;"
l_string|&quot;Headphone&quot;
)paren
suffix:semicolon
)brace
r_int
id|alc_auto_create_speaker_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|alc_auto_create_extra_outs
c_func
(paren
id|codec
comma
id|spec-&gt;autocfg.speaker_outs
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;autocfg.speaker_pins
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;multiout.extra_out_nid
comma
"&t;&t;&t;&t;&t;"
l_string|&quot;Speaker&quot;
)paren
suffix:semicolon
)brace
r_void
id|alc_auto_set_output_and_unmute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
id|hda_nid_t
id|pin
comma
r_int
id|pin_type
comma
"&t;&t;&t;&t;&t;"
id|hda_nid_t
id|dac
)paren
(brace
"&t;"
r_int
id|i
comma
id|num
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
comma
id|mix
op_assign
l_int|0
suffix:semicolon
"&t;"
id|hda_nid_t
id|srcs
(braket
id|HDA_MAX_CONNECTIONS
)braket
suffix:semicolon
"&t;"
id|alc_set_pin_output
c_func
(paren
id|codec
comma
id|pin
comma
id|pin_type
)paren
suffix:semicolon
"&t;"
id|nid
op_assign
id|alc_go_down_to_selector
c_func
(paren
id|codec
comma
id|pin
)paren
suffix:semicolon
"&t;"
id|num
op_assign
id|snd_hda_get_connections
c_func
(paren
id|codec
comma
id|nid
comma
id|srcs
comma
id|ARRAY_SIZE
c_func
(paren
id|srcs
)paren
)paren
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|num
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|alc_auto_mix_to_dac
c_func
(paren
id|codec
comma
id|srcs
(braket
id|i
)braket
)paren
op_ne
id|dac
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|mix
op_assign
id|srcs
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|mix
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
multiline_comment|/* need the manual connection? */
"&t;"
r_if
c_cond
(paren
id|num
OG
l_int|1
)paren
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_CONNECT_SEL
comma
id|i
)paren
suffix:semicolon
"&t;"
multiline_comment|/* unmute mixer widget inputs */
"&t;"
r_if
c_cond
(paren
id|nid_has_mute
c_func
(paren
id|codec
comma
id|mix
comma
id|HDA_INPUT
)paren
)paren
(brace
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|mix
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;"
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|mix
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;"
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
multiline_comment|/* initialize volume */
"&t;"
id|nid
op_assign
id|alc_look_for_out_vol_nid
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_OUT_ZERO
)paren
suffix:semicolon
"&t;"
multiline_comment|/* unmute DAC if it&squot;s not assigned to a mixer */
"&t;"
id|nid
op_assign
id|alc_look_for_out_mute_nid
c_func
(paren
id|codec
comma
id|pin
comma
id|dac
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
op_eq
id|mix
op_logical_and
id|nid_has_mute
c_func
(paren
id|codec
comma
id|dac
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|dac
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_OUT_ZERO
)paren
suffix:semicolon
)brace
r_void
id|alc_auto_init_multi_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|pin_type
op_assign
id|get_pin_type
c_func
(paren
id|spec-&gt;autocfg.line_out_type
)paren
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
op_le
id|HDA_SIDE
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|nid
)paren
"&t;&t;&t;"
id|alc_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|nid
comma
id|pin_type
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
)brace
)brace
r_void
id|alc_auto_init_extra_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
id|hda_nid_t
id|pin
comma
id|dac
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;autocfg.hp_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.line_out_type
op_eq
id|AUTO_PIN_HP_OUT
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
id|pin
op_assign
id|spec-&gt;autocfg.hp_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|pin
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.hp_out_nid
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dac
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|i
OG
l_int|0
op_logical_and
id|spec-&gt;multiout.hp_out_nid
(braket
l_int|0
)braket
)paren
"&t;&t;&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.hp_out_nid
(braket
l_int|0
)braket
suffix:semicolon
"&t;&t;&t;"
r_else
"&t;&t;&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|alc_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|pin
comma
id|PIN_HP
comma
id|dac
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;autocfg.speaker_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.line_out_type
op_eq
id|AUTO_PIN_SPEAKER_OUT
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
id|pin
op_assign
id|spec-&gt;autocfg.speaker_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|pin
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.extra_out_nid
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dac
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|i
OG
l_int|0
op_logical_and
id|spec-&gt;multiout.extra_out_nid
(braket
l_int|0
)braket
)paren
"&t;&t;&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.extra_out_nid
(braket
l_int|0
)braket
suffix:semicolon
"&t;&t;&t;"
r_else
"&t;&t;&t;&t;"
id|dac
op_assign
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|alc_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|pin
comma
id|PIN_OUT
comma
id|dac
)paren
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/*&n; * multi-io helper&n; */
r_int
id|alc_auto_fill_multi_ios
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|location
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
id|hda_nid_t
id|prime_dac
op_assign
id|spec-&gt;private_dac_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_int
id|type
comma
id|i
comma
id|num_pins
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|type
op_assign
id|AUTO_PIN_LINE_IN
suffix:semicolon
id|type
op_ge
id|AUTO_PIN_MIC
suffix:semicolon
id|type
op_decrement
)paren
(brace
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;num_inputs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|pin
suffix:semicolon
"&t;&t;&t;"
id|hda_nid_t
id|dac
suffix:semicolon
"&t;&t;&t;"
r_int
r_int
id|defcfg
comma
id|caps
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|type
op_ne
id|type
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|defcfg
op_assign
id|snd_hda_codec_get_pincfg
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|get_defcfg_connect
c_func
(paren
id|defcfg
)paren
op_ne
id|AC_JACK_PORT_COMPLEX
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|location
op_logical_and
id|get_defcfg_location
c_func
(paren
id|defcfg
)paren
op_ne
id|location
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|caps
op_assign
id|snd_hda_query_pin_caps
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
(paren
id|caps
op_amp
id|AC_PINCAP_OUT
)paren
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|dac
op_assign
id|alc_auto_look_for_dac
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|dac
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;multi_io
(braket
id|num_pins
)braket
dot
id|pin
op_assign
id|nid
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;multi_io
(braket
id|num_pins
)braket
dot
id|dac
op_assign
id|dac
suffix:semicolon
"&t;&t;&t;"
id|num_pins
op_increment
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;private_dac_nids
(braket
id|spec-&gt;multiout.num_dacs
op_increment
)braket
op_assign
id|dac
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
l_int|1
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|num_pins
OL
l_int|2
)paren
(brace
"&t;&t;"
multiline_comment|/* clear up again */
"&t;&t;"
id|memset
c_func
(paren
id|spec-&gt;private_dac_nids
comma
l_int|0
comma
"&t;&t;"
r_sizeof
(paren
id|spec-&gt;private_dac_nids
)paren
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;private_dac_nids
(braket
l_int|0
)braket
op_assign
id|prime_dac
suffix:semicolon
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
id|num_pins
suffix:semicolon
)brace
r_int
id|alc_auto_ch_mode_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_ENUMERATED
suffix:semicolon
"&t;"
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
"&t;"
id|uinfo-&gt;value.enumerated.items
op_assign
id|spec-&gt;multi_ios
op_plus
l_int|1
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|uinfo-&gt;value.enumerated.item
OG
id|spec-&gt;multi_ios
)paren
"&t;&t;"
id|uinfo-&gt;value.enumerated.item
op_assign
id|spec-&gt;multi_ios
suffix:semicolon
"&t;"
id|sprintf
c_func
(paren
id|uinfo-&gt;value.enumerated.name
comma
l_string|&quot;%dch&quot;
comma
"&t;&t;"
(paren
id|uinfo-&gt;value.enumerated.item
op_plus
l_int|1
)paren
op_star
l_int|2
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_auto_ch_mode_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
(paren
id|spec-&gt;ext_channel_count
l_int|1
)paren
op_div
l_int|2
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_set_multi_io
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|idx
comma
r_bool
id|output
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;multi_io
(braket
id|idx
)braket
dot
id|pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;multi_io
(braket
id|idx
)braket
dot
id|ctl_in
)paren
"&t;&t;"
id|spec-&gt;multi_io
(braket
id|idx
)braket
dot
id|ctl_in
op_assign
"&t;&t;&t;"
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_GET_PIN_WIDGET_CONTROL
comma
l_int|0
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|output
)paren
(brace
"&t;&t;"
id|snd_hda_codec_update_cache
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|PIN_OUT
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
op_amp
id|AC_WCAP_OUT_AMP
)paren
"&t;&t;&t;"
id|snd_hda_codec_amp_stereo
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|HDA_AMP_MUTE
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|alc_auto_select_dac
c_func
(paren
id|codec
comma
id|nid
comma
id|spec-&gt;multi_io
(braket
id|idx
)braket
dot
id|dac
)paren
suffix:semicolon
"&t;"
)brace
r_else
(brace
"&t;&t;"
r_if
c_cond
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
op_amp
id|AC_WCAP_OUT_AMP
)paren
"&t;&t;&t;"
id|snd_hda_codec_amp_stereo
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;&t;"
id|HDA_AMP_MUTE
comma
id|HDA_AMP_MUTE
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_update_cache
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|spec-&gt;multi_io
(braket
id|idx
)braket
dot
id|ctl_in
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_auto_ch_mode_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
comma
id|ch
suffix:semicolon
"&t;"
id|ch
op_assign
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|ch
template_param
id|spec-&gt;multi_ios
)paren
"&t;&t;"
r_return
id|EINVAL
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|ch
op_eq
(paren
id|spec-&gt;ext_channel_count
l_int|1
)paren
op_div
l_int|2
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
id|spec-&gt;ext_channel_count
op_assign
(paren
id|ch
op_plus
l_int|1
)paren
op_star
l_int|2
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;multi_ios
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|alc_set_multi_io
c_func
(paren
id|codec
comma
id|i
comma
id|i
OL
id|ch
)paren
suffix:semicolon
"&t;"
id|spec-&gt;multiout.max_channels
op_assign
id|spec-&gt;ext_channel_count
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;need_dac_fix
op_logical_and
op_logical_neg
id|spec-&gt;const_channel_count
)paren
"&t;&t;"
id|spec-&gt;multiout.num_dacs
op_assign
id|spec-&gt;multiout.max_channels
op_div
l_int|2
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
r_const
r_struct
id|snd_kcontrol_new
id|alc_auto_channel_mode_enum
op_assign
(brace
"&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;"
dot
id|info
op_assign
id|alc_auto_ch_mode_info
comma
"&t;"
dot
id|get
op_assign
id|alc_auto_ch_mode_get
comma
"&t;"
dot
id|put
op_assign
id|alc_auto_ch_mode_put
comma
)brace
suffix:semicolon
r_int
id|alc_auto_add_multi_channel_mode
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multi_ios
OG
l_int|0
)paren
(brace
"&t;&t;"
r_struct
id|snd_kcontrol_new
op_star
id|knew
suffix:semicolon
"&t;&t;"
id|knew
op_assign
id|alc_kcontrol_new
c_func
(paren
id|spec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew
)paren
"&t;&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;&t;"
op_star
id|knew
op_assign
id|alc_auto_channel_mode_enum
suffix:semicolon
"&t;&t;"
id|knew-&gt;name
op_assign
id|kstrdup
c_func
(paren
l_string|&quot;Channel Mode&quot;
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew-&gt;name
)paren
"&t;&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* filter out invalid adc_nids (and capsrc_nids) that don&squot;t give all&n; * active input pins&n; */
r_void
id|alc_remove_invalid_adc_nids
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_input_mux
op_star
id|imux
suffix:semicolon
"&t;"
id|hda_nid_t
id|adc_nids
(braket
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;private_adc_nids
)paren
)braket
suffix:semicolon
"&t;"
id|hda_nid_t
id|capsrc_nids
(braket
id|ARRAY_SIZE
c_func
(paren
id|spec-&gt;private_adc_nids
)paren
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|n
comma
id|nums
suffix:semicolon
"&t;"
id|imux
op_assign
id|spec-&gt;input_mux
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|imux
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dyn_adc_switch
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|nums
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|n
op_assign
l_int|0
suffix:semicolon
id|n
OL
id|spec-&gt;num_adc_nids
suffix:semicolon
id|n
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|cap
op_assign
id|spec-&gt;private_capsrc_nids
(braket
id|n
)braket
suffix:semicolon
"&t;&t;"
r_int
id|num_conns
op_assign
id|snd_hda_get_conn_list
c_func
(paren
id|codec
comma
id|cap
comma
l_int|NULL
)paren
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|imux-&gt;num_items
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
id|hda_nid_t
id|pin
op_assign
id|spec-&gt;imux_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|pin
)paren
(brace
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|get_connection_index
c_func
(paren
id|codec
comma
id|cap
comma
id|pin
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
r_else
r_if
c_cond
(paren
id|num_conns
op_le
id|imux-&gt;items
(braket
id|i
)braket
dot
id|index
)paren
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
id|i
op_ge
id|imux-&gt;num_items
)paren
(brace
"&t;&t;&t;"
id|adc_nids
(braket
id|nums
)braket
op_assign
id|spec-&gt;private_adc_nids
(braket
id|n
)braket
suffix:semicolon
"&t;&t;&t;"
id|capsrc_nids
(braket
id|nums
op_increment
)braket
op_assign
id|cap
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|nums
)paren
(brace
"&t;&t;"
multiline_comment|/* check whether ADC-switch is possible */
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|alc_check_dyn_adc_switch
c_func
(paren
id|codec
)paren
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;hda_codec: %s: no valid ADC found;&quot;
"&t;&t;&t;"
l_string|&quot; using fallback 0x%x&bslash;n&quot;
comma
"&t;&t;&t;"
id|codec-&gt;chip_name
comma
id|spec-&gt;private_adc_nids
(braket
l_int|0
)braket
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;auto_mic
op_assign
l_int|0
suffix:semicolon
"&t;&t;&t;"
r_return
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
r_else
r_if
c_cond
(paren
id|nums
op_ne
id|spec-&gt;num_adc_nids
)paren
(brace
"&t;&t;"
id|memcpy
c_func
(paren
id|spec-&gt;private_adc_nids
comma
id|adc_nids
comma
"&t;&t;"
id|nums
op_star
r_sizeof
(paren
id|hda_nid_t
)paren
)paren
suffix:semicolon
"&t;&t;"
id|memcpy
c_func
(paren
id|spec-&gt;private_capsrc_nids
comma
id|capsrc_nids
comma
"&t;&t;"
id|nums
op_star
r_sizeof
(paren
id|hda_nid_t
)paren
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|nums
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;auto_mic
)paren
"&t;&t;"
id|alc_auto_mic_check_imux
c_func
(paren
id|codec
)paren
suffix:semicolon
multiline_comment|/* check auto-mic setups */
"&t;"
r_else
r_if
c_cond
(paren
id|spec-&gt;input_mux-&gt;num_items
op_eq
l_int|1
)paren
"&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
l_int|1
suffix:semicolon
multiline_comment|/* reduce to a single ADC */
)brace
multiline_comment|/*&n; * initialize ADC paths&n; */
r_void
id|alc_auto_init_adc
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|adc_idx
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
id|nid
op_assign
id|spec-&gt;adc_nids
(braket
id|adc_idx
)braket
suffix:semicolon
"&t;"
multiline_comment|/* mute ADC */
"&t;"
r_if
c_cond
(paren
id|nid_has_mute
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_INPUT
)paren
)paren
(brace
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)paren
suffix:semicolon
"&t;&t;"
r_return
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;capsrc_nids
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|nid
op_assign
id|spec-&gt;capsrc_nids
(braket
id|adc_idx
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid_has_mute
c_func
(paren
id|codec
comma
id|nid
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_OUT_MUTE
)paren
suffix:semicolon
)brace
r_void
id|alc_auto_init_input_src
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|c
comma
id|nums
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|c
op_assign
l_int|0
suffix:semicolon
id|c
OL
id|spec-&gt;num_adc_nids
suffix:semicolon
id|c
op_increment
)paren
"&t;&t;"
id|alc_auto_init_adc
c_func
(paren
id|codec
comma
id|c
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dyn_adc_switch
)paren
"&t;&t;"
id|nums
op_assign
l_int|1
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|nums
op_assign
id|spec-&gt;num_adc_nids
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|c
op_assign
l_int|0
suffix:semicolon
id|c
OL
id|nums
suffix:semicolon
id|c
op_increment
)paren
"&t;&t;"
id|alc_mux_select
c_func
(paren
id|codec
comma
l_int|0
comma
id|spec-&gt;cur_mux
(braket
id|c
)braket
comma
l_bool|true
)paren
suffix:semicolon
)brace
multiline_comment|/* add mic boosts if needed */
r_int
id|alc_auto_add_mic_boost
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
suffix:semicolon
"&t;"
r_int
id|type_idx
op_assign
l_int|0
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|prev_label
op_assign
l_int|NULL
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;num_inputs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|type
OG
id|AUTO_PIN_MIC
)paren
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
id|nid
op_assign
id|cfg-&gt;inputs
(braket
id|i
)braket
dot
id|pin
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|nid
)paren
op_amp
id|AC_WCAP_IN_AMP
)paren
(brace
"&t;&t;&t;"
r_const
r_char
op_star
id|label
suffix:semicolon
"&t;&t;&t;"
r_char
id|boost_label
(braket
l_int|32
)braket
suffix:semicolon
"&t;&t;&t;"
id|label
op_assign
id|hda_get_autocfg_input_label
c_func
(paren
id|codec
comma
id|cfg
comma
id|i
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|prev_label
op_logical_and
op_logical_neg
id|strcmp
c_func
(paren
id|label
comma
id|prev_label
)paren
)paren
"&t;&t;&t;&t;"
id|type_idx
op_increment
suffix:semicolon
"&t;&t;&t;"
r_else
"&t;&t;&t;&t;"
id|type_idx
op_assign
l_int|0
suffix:semicolon
"&t;&t;&t;"
id|prev_label
op_assign
id|label
suffix:semicolon
"&t;&t;&t;"
id|snprintf
c_func
(paren
id|boost_label
comma
r_sizeof
(paren
id|boost_label
)paren
comma
"&t;&t;&t;&t;"
l_string|&quot;%s Boost Volume&quot;
comma
id|label
)paren
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
"&t;&t;&t;&t;&t;"
id|boost_label
comma
id|type_idx
comma
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_INPUT
)paren
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* select or unmute the given capsrc route */
r_void
id|select_or_unmute_capsrc
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|cap
comma
"&t;&t;&t;&t;"
r_int
id|idx
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|get_wcaps_type
c_func
(paren
id|get_wcaps
c_func
(paren
id|codec
comma
id|cap
)paren
)paren
op_eq
id|AC_WID_AUD_MIX
)paren
(brace
"&t;&t;"
id|snd_hda_codec_amp_stereo
c_func
(paren
id|codec
comma
id|cap
comma
id|HDA_INPUT
comma
id|idx
comma
"&t;&t;&t;&t;&t;"
id|HDA_AMP_MUTE
comma
l_int|0
)paren
suffix:semicolon
"&t;"
)brace
r_else
r_if
c_cond
(paren
id|snd_hda_get_conn_list
c_func
(paren
id|codec
comma
id|cap
comma
l_int|NULL
)paren
OG
l_int|1
)paren
(brace
"&t;&t;"
id|snd_hda_codec_write_cache
c_func
(paren
id|codec
comma
id|cap
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_CONNECT_SEL
comma
id|idx
)paren
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/* set the default connection to that pin */
r_int
id|init_capsrc_for_pin
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|pin
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|pin
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_adc_nids
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|cap
op_assign
id|get_capsrc
c_func
(paren
id|spec
comma
id|i
)paren
suffix:semicolon
"&t;&t;"
r_int
id|idx
suffix:semicolon
"&t;&t;"
id|idx
op_assign
id|get_connection_index
c_func
(paren
id|codec
comma
id|cap
comma
id|pin
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|idx
OL
l_int|0
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|select_or_unmute_capsrc
c_func
(paren
id|codec
comma
id|cap
comma
id|idx
)paren
suffix:semicolon
"&t;&t;"
r_return
id|i
suffix:semicolon
multiline_comment|/* return the found index */
"&t;"
)brace
"&t;"
r_return
l_int|1
suffix:semicolon
multiline_comment|/* not found */
)brace
multiline_comment|/* initialize some special cases for input sources */
r_void
id|alc_init_special_input_src
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;autocfg.num_inputs
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|init_capsrc_for_pin
c_func
(paren
id|codec
comma
id|spec-&gt;autocfg.inputs
(braket
id|i
)braket
dot
id|pin
)paren
suffix:semicolon
)brace
multiline_comment|/* assign appropriate capture mixers */
r_void
id|set_capture_mixer
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|snd_kcontrol_new
op_star
id|caps
(braket
l_int|2
)braket
(braket
l_int|3
)braket
op_assign
(brace
"&t;&t;"
(brace
id|alc_capture_mixer_nosrc1
comma
"&t;&t;"
id|alc_capture_mixer_nosrc2
comma
"&t;&t;"
id|alc_capture_mixer_nosrc3
)brace
comma
"&t;&t;"
(brace
id|alc_capture_mixer1
comma
"&t;&t;"
id|alc_capture_mixer2
comma
"&t;&t;"
id|alc_capture_mixer3
)brace
comma
"&t;"
)brace
suffix:semicolon
"&t;"
multiline_comment|/* check whether either of ADC or MUX has a volume control */
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid_has_volume
c_func
(paren
id|codec
comma
id|spec-&gt;adc_nids
(braket
l_int|0
)braket
comma
id|HDA_INPUT
)paren
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;capsrc_nids
)paren
"&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* no volume */
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid_has_volume
c_func
(paren
id|codec
comma
id|spec-&gt;capsrc_nids
(braket
l_int|0
)braket
comma
id|HDA_OUTPUT
)paren
)paren
"&t;&t;&t;"
r_return
suffix:semicolon
multiline_comment|/* no volume in capsrc, too */
"&t;&t;"
id|spec-&gt;vol_in_capsrc
op_assign
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;num_adc_nids
OG
l_int|0
)paren
(brace
"&t;&t;"
r_int
id|mux
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_int
id|num_adcs
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;input_mux
op_logical_and
id|spec-&gt;input_mux-&gt;num_items
OG
l_int|1
)paren
"&t;&t;&t;"
id|mux
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;auto_mic
)paren
(brace
"&t;&t;&t;"
id|num_adcs
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;"
id|mux
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
)brace
r_else
r_if
c_cond
(paren
id|spec-&gt;dyn_adc_switch
)paren
"&t;&t;&t;"
id|num_adcs
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|num_adcs
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;num_adc_nids
OG
l_int|3
)paren
"&t;&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
l_int|3
suffix:semicolon
"&t;&t;&t;"
r_else
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;num_adc_nids
)paren
"&t;&t;&t;&t;"
r_return
suffix:semicolon
"&t;&t;&t;"
id|num_adcs
op_assign
id|spec-&gt;num_adc_nids
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|spec-&gt;cap_mixer
op_assign
id|caps
(braket
id|mux
)braket
(braket
id|num_adcs
l_int|1
)braket
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/*&n; * standard auto-parser initializations&n; */
r_void
id|alc_auto_init_std
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|alc_auto_init_multi_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_auto_init_extra_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_auto_init_analog_input
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_auto_init_input_src
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_auto_init_digital
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;unsol_event
)paren
"&t;&t;"
id|alc_inithook
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Digital-beep handlers&n; */
macro_line|#ifdef CONFIG_SND_HDA_INPUT_BEEP
macro_line|#define set_beep_amp(spec, nid, idx, dir) &bslash;&n;&t;((spec)-&gt;beep_amp = HDA_COMPOSE_AMP_VAL(nid, 3, idx, dir))
r_const
r_struct
id|snd_pci_quirk
id|beep_white_list
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x829f
comma
l_string|&quot;ASUS&quot;
comma
l_int|1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x83ce
comma
l_string|&quot;EeePC&quot;
comma
l_int|1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x831a
comma
l_string|&quot;EeePC&quot;
comma
l_int|1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x834a
comma
l_string|&quot;EeePC&quot;
comma
l_int|1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x8086
comma
l_int|0xd613
comma
l_string|&quot;Intel&quot;
comma
l_int|1
)paren
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_int
id|has_cdefine_beep
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|snd_pci_quirk
op_star
id|q
suffix:semicolon
"&t;"
id|q
op_assign
id|snd_pci_quirk_lookup
c_func
(paren
id|codec-&gt;bus-&gt;pci
comma
id|beep_white_list
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|q
)paren
"&t;&t;"
r_return
id|q-&gt;value
suffix:semicolon
"&t;"
r_return
id|spec-&gt;cdefine.enable_pcbeep
suffix:semicolon
)brace
macro_line|#else
macro_line|#define set_beep_amp(spec, nid, idx, dir) /* NOP */
macro_line|#define has_cdefine_beep(codec)&t;&t;0
macro_line|#endif
multiline_comment|/* parse the BIOS configuration and set up the alc_spec */
multiline_comment|/* return 1 if successful, 0 if the proper config is not found,&n; * or a negative error code&n; */
r_int
id|alc_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_const
id|hda_nid_t
op_star
id|ignore_nids
comma
"&t;&t;&t;&t;"
r_const
id|hda_nid_t
op_star
id|ssid_nids
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|auto_pin_cfg
op_star
id|cfg
op_assign
op_amp
id|spec-&gt;autocfg
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|snd_hda_parse_pin_defcfg
c_func
(paren
id|codec
comma
id|cfg
comma
id|ignore_nids
comma
"&t;&t;&t;&t;"
id|spec-&gt;parse_flags
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|cfg-&gt;line_outs
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;dig_outs
op_logical_or
id|cfg-&gt;dig_in_pin
)paren
(brace
"&t;&t;&t;"
id|spec-&gt;multiout.max_channels
op_assign
l_int|2
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;no_analog
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;"
r_goto
id|dig_only
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* can&squot;t find valid BIOS pin config */
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|cfg-&gt;line_out_type
op_eq
id|AUTO_PIN_SPEAKER_OUT
op_logical_and
"&t;"
id|cfg-&gt;line_outs
op_le
id|cfg-&gt;hp_outs
)paren
(brace
"&t;&t;"
multiline_comment|/* use HP as primary out */
"&t;&t;"
id|cfg-&gt;speaker_outs
op_assign
id|cfg-&gt;line_outs
suffix:semicolon
"&t;&t;"
id|memcpy
c_func
(paren
id|cfg-&gt;speaker_pins
comma
id|cfg-&gt;line_out_pins
comma
"&t;&t;"
r_sizeof
(paren
id|cfg-&gt;speaker_pins
)paren
)paren
suffix:semicolon
"&t;&t;"
id|cfg-&gt;line_outs
op_assign
id|cfg-&gt;hp_outs
suffix:semicolon
"&t;&t;"
id|memcpy
c_func
(paren
id|cfg-&gt;line_out_pins
comma
id|cfg-&gt;hp_pins
comma
r_sizeof
(paren
id|cfg-&gt;hp_pins
)paren
)paren
suffix:semicolon
"&t;&t;"
id|cfg-&gt;hp_outs
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
id|memset
c_func
(paren
id|cfg-&gt;hp_pins
comma
l_int|0
comma
r_sizeof
(paren
id|cfg-&gt;hp_pins
)paren
)paren
suffix:semicolon
"&t;&t;"
id|cfg-&gt;line_out_type
op_assign
id|AUTO_PIN_HP_OUT
suffix:semicolon
"&t;"
)brace
"&t;"
id|err
op_assign
id|alc_auto_fill_dac_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_auto_add_multi_channel_mode
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_auto_create_multi_out_ctls
c_func
(paren
id|codec
comma
id|cfg
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_auto_create_hp_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_auto_create_speaker_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_auto_create_input_ctls
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|spec-&gt;multiout.max_channels
op_assign
id|spec-&gt;multiout.num_dacs
op_star
l_int|2
suffix:semicolon
id|dig_only
suffix:colon
"&t;"
id|alc_auto_parse_digital
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
)paren
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|ssid_nids
)paren
"&t;&t;"
id|alc_ssid_check
c_func
(paren
id|codec
comma
id|ssid_nids
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
)paren
(brace
"&t;&t;"
id|alc_auto_check_switches
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|err
op_assign
id|alc_auto_add_mic_boost
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;kctls.list
)paren
"&t;&t;"
id|add_mixer
c_func
(paren
id|spec
comma
id|spec-&gt;kctls.list
)paren
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
r_int
id|alc880_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc880_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc880_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc880_ignore
comma
id|alc880_ssids
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
r_const
r_struct
id|hda_amp_list
id|alc880_loopbacks
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x0b
comma
id|HDA_INPUT
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|HDA_INPUT
comma
l_int|1
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|HDA_INPUT
comma
l_int|2
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|HDA_INPUT
comma
l_int|3
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|HDA_INPUT
comma
l_int|4
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
macro_line|#endif
multiline_comment|/*&n; * board setups&n; */
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
macro_line|#define alc_board_config &bslash;&n;&t;snd_hda_check_board_config
macro_line|#define alc_board_codec_sid_config &bslash;&n;&t;snd_hda_check_board_codec_sid_config
macro_line|#include &quot;alc_quirks.c&quot;
macro_line|#else
macro_line|#define alc_board_config(codec, nums, models, tbl)&t;-1
macro_line|#define alc_board_codec_sid_config(codec, nums, models, tbl)&t;-1
macro_line|#define setup_preset(codec, x)&t;/* NOP */
macro_line|#endif
multiline_comment|/*&n; * OK, here we have finally the patch for ALC880&n; */
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
macro_line|#include &quot;alc880_quirks.c&quot;
macro_line|#endif
r_int
id|patch_alc880
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|board_config
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x0b
suffix:semicolon
"&t;"
id|spec-&gt;need_dac_fix
op_assign
l_int|1
suffix:semicolon
"&t;"
id|board_config
op_assign
id|alc_board_config
c_func
(paren
id|codec
comma
id|ALC880_MODEL_LAST
comma
"&t;&t;&t;&t;&t;"
id|alc880_models
comma
id|alc880_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: BIOS auto-probing.&bslash;n&quot;
comma
"&t;&t;"
id|codec-&gt;chip_name
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC_MODEL_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc880_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
"&t;&t;"
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
"&t;&t;&t;"
l_string|&quot;hda_codec: Cannot set up configuration &quot;
"&t;&t;&t;"
l_string|&quot;from BIOS.  Using 3-stack mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC880_3ST
suffix:semicolon
"&t;&t;"
)brace
macro_line|#endif
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|codec
comma
op_amp
id|alc880_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x1
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x0c
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc880_loopbacks
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC260 support&n; */
r_int
id|alc260_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc260_ignore
(braket
)braket
op_assign
(brace
l_int|0x17
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc260_ssids
(braket
)braket
op_assign
(brace
l_int|0x10
comma
l_int|0x15
comma
l_int|0x0f
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc260_ignore
comma
id|alc260_ssids
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
r_const
r_struct
id|hda_amp_list
id|alc260_loopbacks
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x07
comma
id|HDA_INPUT
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|HDA_INPUT
comma
l_int|1
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|HDA_INPUT
comma
l_int|2
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|HDA_INPUT
comma
l_int|3
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|HDA_INPUT
comma
l_int|4
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
macro_line|#endif
multiline_comment|/*&n; * Pin config fixes&n; */
r_enum
(brace
"&t;"
id|PINFIX_HP_DC5750
comma
)brace
suffix:semicolon
r_const
r_struct
id|alc_fixup
id|alc260_fixups
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|PINFIX_HP_DC5750
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x11
comma
l_int|0x90130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_pci_quirk
id|alc260_fixup_tbl
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x103c
comma
l_int|0x280a
comma
l_string|&quot;HP dc5750&quot;
comma
id|PINFIX_HP_DC5750
)paren
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; */
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
macro_line|#include &quot;alc260_quirks.c&quot;
macro_line|#endif
r_int
id|patch_alc260
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
comma
id|board_config
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x07
suffix:semicolon
"&t;"
id|board_config
op_assign
id|alc_board_config
c_func
(paren
id|codec
comma
id|ALC260_MODEL_LAST
comma
"&t;&t;&t;&t;&t;"
id|alc260_models
comma
id|alc260_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
)paren
(brace
"&t;&t;"
id|snd_printd
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: BIOS auto-probing.&bslash;n&quot;
comma
"&t;&t;&t;"
id|codec-&gt;chip_name
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC_MODEL_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
(brace
"&t;&t;"
id|alc_pick_fixup
c_func
(paren
id|codec
comma
l_int|NULL
comma
id|alc260_fixup_tbl
comma
id|alc260_fixups
)paren
suffix:semicolon
"&t;&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc260_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
"&t;&t;"
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
"&t;&t;&t;"
l_string|&quot;hda_codec: Cannot set up configuration &quot;
"&t;&t;&t;"
l_string|&quot;from BIOS.  Using base mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC260_BASIC
suffix:semicolon
"&t;&t;"
)brace
macro_line|#endif
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|codec
comma
op_amp
id|alc260_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x1
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PROBE
)paren
suffix:semicolon
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x08
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
id|spec-&gt;shutup
op_assign
id|alc_eapd_shutup
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc260_loopbacks
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC882/883/885/888/889 support&n; *&n; * ALC882 is almost identical with ALC880 but has cleaner and more flexible&n; * configuration.  Each pin widget can choose any input DACs and a mixer.&n; * Each ADC is connected from a mixer of all inputs.  This makes possible&n; * 6-channel independent captures.&n; *&n; * In addition, an independent DAC for the multi-playback (not used in this&n; * driver yet).&n; */
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
macro_line|#define alc882_loopbacks&t;alc880_loopbacks
macro_line|#endif
multiline_comment|/*&n; * Pin config fixes&n; */
r_enum
(brace
"&t;"
id|PINFIX_ABIT_AW9D_MAX
comma
"&t;"
id|PINFIX_LENOVO_Y530
comma
"&t;"
id|PINFIX_PB_M5210
comma
"&t;"
id|PINFIX_ACER_ASPIRE_7736
comma
"&t;"
id|PINFIX_ASUS_W90V
comma
)brace
suffix:semicolon
r_const
r_struct
id|alc_fixup
id|alc882_fixups
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|PINFIX_ABIT_AW9D_MAX
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x01080104
)brace
comma
multiline_comment|/* side */
"&t;&t;&t;"
(brace
l_int|0x16
comma
l_int|0x01011012
)brace
comma
multiline_comment|/* rear */
"&t;&t;&t;"
(brace
l_int|0x17
comma
l_int|0x01016011
)brace
comma
multiline_comment|/* clfe */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|PINFIX_LENOVO_Y530
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x99130112
)brace
comma
multiline_comment|/* rear int speakers */
"&t;&t;&t;"
(brace
l_int|0x16
comma
l_int|0x99130111
)brace
comma
multiline_comment|/* subwoofer */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|PINFIX_PB_M5210
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_VERBS
comma
"&t;&t;"
dot
id|v.verbs
op_assign
(paren
r_const
r_struct
id|hda_verb
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF50
)brace
comma
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|PINFIX_ACER_ASPIRE_7736
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_SKU
comma
"&t;&t;"
dot
id|v.sku
op_assign
id|ALC_FIXUP_SKU_IGNORE
comma
"&t;"
)brace
comma
"&t;"
(braket
id|PINFIX_ASUS_W90V
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x16
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* fix sequence for CLFE */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_pci_quirk
id|alc882_fixup_tbl
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1025
comma
l_int|0x0155
comma
l_string|&quot;Packard-Bell M5120&quot;
comma
id|PINFIX_PB_M5210
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1873
comma
l_string|&quot;ASUS W90V&quot;
comma
id|PINFIX_ASUS_W90V
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x3a0d
comma
l_string|&quot;Lenovo Y530&quot;
comma
id|PINFIX_LENOVO_Y530
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x147b
comma
l_int|0x107a
comma
l_string|&quot;Abit AW9D-MAX&quot;
comma
id|PINFIX_ABIT_AW9D_MAX
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1025
comma
l_int|0x0296
comma
l_string|&quot;Acer Aspire 7736z&quot;
comma
id|PINFIX_ACER_ASPIRE_7736
)paren
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * BIOS auto configuration&n; */
multiline_comment|/* almost identical with ALC880 parser... */
r_int
id|alc882_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc882_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc882_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc882_ignore
comma
id|alc882_ssids
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; */
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
macro_line|#include &quot;alc882_quirks.c&quot;
macro_line|#endif
r_int
id|patch_alc882
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
comma
id|board_config
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x0b
suffix:semicolon
"&t;"
r_switch
c_cond
(paren
id|codec-&gt;vendor_id
)paren
(brace
"&t;"
r_case
l_int|0x10ec0882
suffix:colon
"&t;"
r_case
l_int|0x10ec0885
suffix:colon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
r_default
suffix:colon
"&t;&t;"
multiline_comment|/* ALC883 and variants */
"&t;&t;"
id|alc_fix_pll_init
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0x0a
comma
l_int|10
)paren
suffix:semicolon
"&t;&t;"
r_break
suffix:semicolon
"&t;"
)brace
"&t;"
id|err
op_assign
id|alc_codec_rename_from_preset
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
id|board_config
op_assign
id|alc_board_config
c_func
(paren
id|codec
comma
id|ALC882_MODEL_LAST
comma
"&t;&t;&t;&t;&t;"
id|alc882_models
comma
id|alc882_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
)paren
"&t;&t;"
id|board_config
op_assign
id|alc_board_codec_sid_config
c_func
(paren
id|codec
comma
"&t;&t;&t;"
id|ALC882_MODEL_LAST
comma
id|alc882_models
comma
id|alc882_ssid_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: BIOS auto-probing.&bslash;n&quot;
comma
"&t;&t;"
id|codec-&gt;chip_name
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC_MODEL_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
(brace
"&t;&t;"
id|alc_pick_fixup
c_func
(paren
id|codec
comma
l_int|NULL
comma
id|alc882_fixup_tbl
comma
id|alc882_fixups
)paren
suffix:semicolon
"&t;&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|alc_auto_parse_customize_define
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc882_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
"&t;&t;"
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
"&t;&t;&t;"
l_string|&quot;hda_codec: Cannot set up configuration &quot;
"&t;&t;&t;"
l_string|&quot;from BIOS.  Using base mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC882_3ST_DIG
suffix:semicolon
"&t;&t;"
)brace
macro_line|#endif
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|codec
comma
op_amp
id|alc882_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
id|has_cdefine_beep
c_func
(paren
id|codec
)paren
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x1
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PROBE
)paren
suffix:semicolon
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x0c
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
id|alc_init_jacks
c_func
(paren
id|codec
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc882_loopbacks
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC262 support&n; */
r_int
id|alc262_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc262_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc262_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc262_ignore
comma
id|alc262_ssids
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Pin config fixes&n; */
r_enum
(brace
"&t;"
id|PINFIX_FSC_H270
comma
"&t;"
id|PINFIX_HP_Z200
comma
)brace
suffix:semicolon
r_const
r_struct
id|alc_fixup
id|alc262_fixups
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|PINFIX_FSC_H270
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x0221142f
)brace
comma
multiline_comment|/* front HP */
"&t;&t;&t;"
(brace
l_int|0x1b
comma
l_int|0x0121141f
)brace
comma
multiline_comment|/* rear HP */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|PINFIX_HP_Z200
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x16
comma
l_int|0x99130120
)brace
comma
multiline_comment|/* internal speaker */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_pci_quirk
id|alc262_fixup_tbl
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x103c
comma
l_int|0x170b
comma
l_string|&quot;HP Z200&quot;
comma
id|PINFIX_HP_Z200
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1734
comma
l_int|0x1147
comma
l_string|&quot;FSC Celsius H270&quot;
comma
id|PINFIX_FSC_H270
)paren
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
macro_line|#define alc262_loopbacks&t;alc880_loopbacks
macro_line|#endif
multiline_comment|/*&n; */
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
macro_line|#include &quot;alc262_quirks.c&quot;
macro_line|#endif
r_int
id|patch_alc262
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|board_config
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x0b
suffix:semicolon
macro_line|#if 0
"&t;"
multiline_comment|/* pshou 07/11/05  set a zero PCM sample to DAC when FIFO is&n;&t; * under-run&n;&t; */
"&t;"
(brace
"&t;"
r_int
id|tmp
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;"
id|tmp
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
id|AC_VERB_SET_PROC_COEF
comma
id|tmp
op_or
l_int|0x80
)paren
suffix:semicolon
"&t;"
)brace
macro_line|#endif
"&t;"
id|alc_auto_parse_customize_define
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_fix_pll_init
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0x0a
comma
l_int|10
)paren
suffix:semicolon
"&t;"
id|board_config
op_assign
id|alc_board_config
c_func
(paren
id|codec
comma
id|ALC262_MODEL_LAST
comma
"&t;&t;&t;&t;&t;"
id|alc262_models
comma
id|alc262_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: %s: BIOS auto-probing.&bslash;n&quot;
comma
"&t;&t;"
id|codec-&gt;chip_name
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC_MODEL_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
(brace
"&t;&t;"
id|alc_pick_fixup
c_func
(paren
id|codec
comma
l_int|NULL
comma
id|alc262_fixup_tbl
comma
id|alc262_fixups
)paren
suffix:semicolon
"&t;&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc262_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_ENABLE_REALTEK_QUIRKS
"&t;&t;"
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
"&t;&t;&t;"
l_string|&quot;hda_codec: Cannot set up configuration &quot;
"&t;&t;&t;"
l_string|&quot;from BIOS.  Using base mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC262_BASIC
suffix:semicolon
"&t;&t;"
)brace
macro_line|#endif
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|codec
comma
op_amp
id|alc262_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
id|has_cdefine_beep
c_func
(paren
id|codec
)paren
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x1
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PROBE
)paren
suffix:semicolon
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x0c
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC_MODEL_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
id|spec-&gt;shutup
op_assign
id|alc_eapd_shutup
suffix:semicolon
"&t;"
id|alc_init_jacks
c_func
(paren
id|codec
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc262_loopbacks
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; *  ALC268&n; */
multiline_comment|/* bind Beep switches of both NID 0x0f and 0x10 */
r_const
r_struct
id|hda_bind_ctls
id|alc268_bind_beep_sw
op_assign
(brace
"&t;"
dot
id|ops
op_assign
op_amp
id|snd_hda_bind_sw
comma
"&t;"
dot
id|values
op_assign
(brace
"&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
l_int|0x0f
comma
l_int|3
comma
l_int|1
comma
id|HDA_INPUT
)paren
comma
"&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
l_int|0x10
comma
l_int|3
comma
l_int|1
comma
id|HDA_INPUT
)paren
comma
"&t;&t;"
l_int|0
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_kcontrol_new
id|alc268_beep_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Beep Playback Volume&quot;
comma
l_int|0x1d
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_SW
c_func
(paren
l_string|&quot;Beep Playback Switch&quot;
comma
op_amp
id|alc268_bind_beep_sw
)paren
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* set PCBEEP vol = 0, mute connections */
r_const
r_struct
id|hda_verb
id|alc268_beep_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x1d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * BIOS auto configuration&n; */
r_int
id|alc268_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc268_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|err
op_assign
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
l_int|NULL
comma
id|alc268_ssids
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OG
l_int|0
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
id|spec-&gt;autocfg.speaker_pins
(braket
l_int|0
)braket
op_ne
l_int|0x1d
)paren
(brace
"&t;&t;&t;"
id|add_mixer
c_func
(paren
id|spec
comma
id|alc268_beep_mixer
)paren
suffix:semicolon
"&t;&t;&t;"
id|add_verb
c_func
(paren
id|spec
comma
id|alc268_beep_init_verbs
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; */
r_int
id|patch_alc268
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|i
comma
id|has_beep
comma
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
multiline_comment|/* ALC268 has no aa-loopback mixer */
"&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;"
id|err
op_assign
id|alc268_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
id|has_beep
op_assign
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_mixers
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;mixers
(braket
id|i
)braket
op_eq
id|alc268_beep_mixer
)paren
(brace
"&t;&t;&t;"
id|has_beep
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|has_beep
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x1
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|query_amp_caps
c_func
(paren
id|codec
comma
l_int|0x1d
comma
id|HDA_INPUT
)paren
)paren
"&t;&t;&t;"
multiline_comment|/* override the amp caps for beep generator */
"&t;&t;&t;"
id|snd_hda_override_amp_caps
c_func
(paren
id|codec
comma
l_int|0x1d
comma
id|HDA_INPUT
comma
"&t;&t;&t;&t;&t;"
(paren
l_int|0x0c
op_lshift
id|AC_AMPCAP_OFFSET_SHIFT
)paren
op_or
"&t;&t;&t;&t;&t;"
(paren
l_int|0x0c
op_lshift
id|AC_AMPCAP_NUM_STEPS_SHIFT
)paren
op_or
"&t;&t;&t;&t;&t;"
(paren
l_int|0x07
op_lshift
id|AC_AMPCAP_STEP_SIZE_SHIFT
)paren
op_or
"&t;&t;&t;&t;&t;"
(paren
l_int|0
op_lshift
id|AC_AMPCAP_MUTE_SHIFT
)paren
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x02
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
id|spec-&gt;shutup
op_assign
id|alc_eapd_shutup
suffix:semicolon
"&t;"
id|alc_init_jacks
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC269&n; */
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
macro_line|#define alc269_loopbacks&t;alc880_loopbacks
macro_line|#endif
r_const
r_struct
id|hda_pcm_stream
id|alc269_44k_pcm_analog_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|8
comma
"&t;"
dot
id|rates
op_assign
id|SNDRV_PCM_RATE_44100
comma
multiline_comment|/* fixed rate */
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|open
op_assign
id|alc_playback_pcm_open
comma
"&t;&t;"
dot
id|prepare
op_assign
id|alc_playback_pcm_prepare
comma
"&t;&t;"
dot
id|cleanup
op_assign
id|alc_playback_pcm_cleanup
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|hda_pcm_stream
id|alc269_44k_pcm_analog_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
dot
id|rates
op_assign
id|SNDRV_PCM_RATE_44100
comma
multiline_comment|/* fixed rate */
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
)brace
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
r_int
id|alc269_mic2_for_mute_led
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_switch
c_cond
(paren
id|codec-&gt;subsystem_id
)paren
(brace
"&t;"
r_case
l_int|0x103c1586
suffix:colon
"&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc269_mic2_mute_check_ps
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
)paren
(brace
"&t;"
multiline_comment|/* update mute-LED according to the speaker mute state */
"&t;"
r_if
c_cond
(paren
id|nid
op_eq
l_int|0x01
op_logical_or
id|nid
op_eq
l_int|0x14
)paren
(brace
"&t;&t;"
r_int
id|pinval
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|snd_hda_codec_amp_read
c_func
(paren
id|codec
comma
l_int|0x14
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
)paren
op_amp
"&t;&t;"
id|HDA_AMP_MUTE
)paren
"&t;&t;&t;"
id|pinval
op_assign
l_int|0x24
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|pinval
op_assign
l_int|0x20
suffix:semicolon
"&t;&t;"
multiline_comment|/* mic2 vref pin is used for mute LED control */
"&t;&t;"
id|snd_hda_codec_update_cache
c_func
(paren
id|codec
comma
l_int|0x19
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|pinval
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
id|alc_check_power_status
c_func
(paren
id|codec
comma
id|nid
)paren
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_SND_HDA_POWER_SAVE */
multiline_comment|/* different alc269-variants */
r_enum
(brace
"&t;"
id|ALC269_TYPE_ALC269VA
comma
"&t;"
id|ALC269_TYPE_ALC269VB
comma
"&t;"
id|ALC269_TYPE_ALC269VC
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * BIOS auto configuration&n; */
r_int
id|alc269_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc269_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc269_ssids
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0x21
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc269va_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
op_star
id|ssids
op_assign
id|spec-&gt;codec_variant
op_eq
id|ALC269_TYPE_ALC269VA
ques
c_cond
"&t;&t;"
id|alc269va_ssids
suffix:colon
id|alc269_ssids
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc269_ignore
comma
id|ssids
)paren
suffix:semicolon
)brace
r_void
id|alc269_toggle_power_output
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|power_up
)paren
(brace
"&t;"
r_int
id|val
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0x04
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|power_up
)paren
"&t;&t;"
id|val
op_or_assign
l_int|1
op_lshift
l_int|11
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|val
op_and_assign
op_complement
(paren
l_int|1
op_lshift
l_int|11
)paren
suffix:semicolon
"&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0x04
comma
id|val
)paren
suffix:semicolon
)brace
r_void
id|alc269_shutup
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x017
)paren
"&t;&t;"
id|alc269_toggle_power_output
c_func
(paren
id|codec
comma
l_int|0
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x018
)paren
(brace
"&t;&t;"
id|alc269_toggle_power_output
c_func
(paren
id|codec
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|msleep
c_func
(paren
l_int|150
)paren
suffix:semicolon
"&t;"
)brace
)brace
macro_line|#ifdef CONFIG_PM
r_int
id|alc269_resume
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x018
)paren
(brace
"&t;&t;"
id|alc269_toggle_power_output
c_func
(paren
id|codec
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|msleep
c_func
(paren
l_int|150
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|codec-&gt;patch_ops
dot
id|init
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x017
)paren
(brace
"&t;&t;"
id|alc269_toggle_power_output
c_func
(paren
id|codec
comma
l_int|1
)paren
suffix:semicolon
"&t;&t;"
id|msleep
c_func
(paren
l_int|200
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x018
)paren
"&t;&t;"
id|alc269_toggle_power_output
c_func
(paren
id|codec
comma
l_int|1
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_resume_amp
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_resume_cache
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|hda_call_check_power_status
c_func
(paren
id|codec
comma
l_int|0x01
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_PM */
r_void
id|alc269_fixup_hweq
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
r_int
id|action
)paren
(brace
"&t;"
r_int
id|coef
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_INIT
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|coef
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0x1e
)paren
suffix:semicolon
"&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0x1e
comma
id|coef
op_or
l_int|0x80
)paren
suffix:semicolon
)brace
r_void
id|alc271_fixup_dmic
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
r_int
id|action
)paren
(brace
"&t;"
r_const
r_struct
id|hda_verb
id|verbs
(braket
)braket
op_assign
(brace
"&t;&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|0x0d
)brace
comma
"&t;&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x4000
)brace
comma
"&t;&t;"
(brace
)brace
"&t;"
)brace
suffix:semicolon
"&t;"
r_int
r_int
id|cfg
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|strcmp
c_func
(paren
id|codec-&gt;chip_name
comma
l_string|&quot;ALC271X&quot;
)paren
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|cfg
op_assign
id|snd_hda_codec_get_pincfg
c_func
(paren
id|codec
comma
l_int|0x12
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|get_defcfg_connect
c_func
(paren
id|cfg
)paren
op_eq
id|AC_JACK_PORT_FIXED
)paren
"&t;&t;"
id|snd_hda_sequence_write
c_func
(paren
id|codec
comma
id|verbs
)paren
suffix:semicolon
)brace
r_void
id|alc269_fixup_pcm_44k
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
r_int
id|action
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_PROBE
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
multiline_comment|/* Due to a hardware problem on Lenovo Ideadpad, we need to&n;&t; * fix the sample rate of analog I/O to 44.1kHz&n;&t; */
"&t;"
id|spec-&gt;stream_analog_playback
op_assign
op_amp
id|alc269_44k_pcm_analog_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_capture
op_assign
op_amp
id|alc269_44k_pcm_analog_capture
suffix:semicolon
)brace
r_void
id|alc269_fixup_stereo_dmic
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
r_int
id|action
)paren
(brace
"&t;"
r_int
id|coef
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_INIT
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
multiline_comment|/* The digital-mic unit sends PDM (differential signal) instead of&n;&t; * the standard PCM, thus you can&squot;t record a valid mono stream as is.&n;&t; * Below is a workaround specific to ALC269 to control the dmic&n;&t; * signal source as mono.&n;&t; */
"&t;"
id|coef
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0x07
)paren
suffix:semicolon
"&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0x07
comma
id|coef
op_or
l_int|0x80
)paren
suffix:semicolon
)brace
r_void
id|alc269_quanta_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|update_outputs
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;"
id|AC_VERB_SET_COEF_INDEX
comma
l_int|0x0c
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;"
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x680
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;"
id|AC_VERB_SET_COEF_INDEX
comma
l_int|0x0c
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
"&t;&t;&t;"
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x480
)paren
suffix:semicolon
)brace
r_void
id|alc269_fixup_quanta_mute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
r_int
id|action
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_PROBE
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|spec-&gt;automute_hook
op_assign
id|alc269_quanta_automute
suffix:semicolon
)brace
r_enum
(brace
"&t;"
id|ALC269_FIXUP_SONY_VAIO
comma
"&t;"
id|ALC275_FIXUP_SONY_VAIO_GPIO2
comma
"&t;"
id|ALC269_FIXUP_DELL_M101Z
comma
"&t;"
id|ALC269_FIXUP_SKU_IGNORE
comma
"&t;"
id|ALC269_FIXUP_ASUS_G73JW
comma
"&t;"
id|ALC269_FIXUP_LENOVO_EAPD
comma
"&t;"
id|ALC275_FIXUP_SONY_HWEQ
comma
"&t;"
id|ALC271_FIXUP_DMIC
comma
"&t;"
id|ALC269_FIXUP_PCM_44K
comma
"&t;"
id|ALC269_FIXUP_STEREO_DMIC
comma
"&t;"
id|ALC269_FIXUP_QUANTA_MUTE
comma
"&t;"
id|ALC269_FIXUP_LIFEBOOK
comma
"&t;"
id|ALC269_FIXUP_AMIC
comma
"&t;"
id|ALC269_FIXUP_DMIC
comma
"&t;"
id|ALC269VB_FIXUP_AMIC
comma
"&t;"
id|ALC269VB_FIXUP_DMIC
comma
)brace
suffix:semicolon
r_const
r_struct
id|alc_fixup
id|alc269_fixups
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC269_FIXUP_SONY_VAIO
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_VERBS
comma
"&t;&t;"
dot
id|v.verbs
op_assign
(paren
r_const
r_struct
id|hda_verb
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREFGRD
)brace
comma
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC275_FIXUP_SONY_VAIO_GPIO2
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_VERBS
comma
"&t;&t;"
dot
id|v.verbs
op_assign
(paren
r_const
r_struct
id|hda_verb
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x04
)brace
comma
"&t;&t;&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x04
)brace
comma
"&t;&t;&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x00
)brace
comma
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC269_FIXUP_SONY_VAIO
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_DELL_M101Z
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_VERBS
comma
"&t;&t;"
dot
id|v.verbs
op_assign
(paren
r_const
r_struct
id|hda_verb
(braket
)braket
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* Enables internal speaker */
"&t;&t;&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|13
)brace
comma
"&t;&t;&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x4040
)brace
comma
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_SKU_IGNORE
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_SKU
comma
"&t;&t;"
dot
id|v.sku
op_assign
id|ALC_FIXUP_SKU_IGNORE
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_ASUS_G73JW
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x17
comma
l_int|0x99130111
)brace
comma
multiline_comment|/* subwoofer */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_LENOVO_EAPD
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_VERBS
comma
"&t;&t;"
dot
id|v.verbs
op_assign
(paren
r_const
r_struct
id|hda_verb
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_EAPD_BTLENABLE
comma
l_int|0
)brace
comma
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC275_FIXUP_SONY_HWEQ
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_FUNC
comma
"&t;&t;"
dot
id|v.func
op_assign
id|alc269_fixup_hweq
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC275_FIXUP_SONY_VAIO_GPIO2
"&t;"
)brace
comma
"&t;"
(braket
id|ALC271_FIXUP_DMIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_FUNC
comma
"&t;&t;"
dot
id|v.func
op_assign
id|alc271_fixup_dmic
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_PCM_44K
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_FUNC
comma
"&t;&t;"
dot
id|v.func
op_assign
id|alc269_fixup_pcm_44k
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_STEREO_DMIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_FUNC
comma
"&t;&t;"
dot
id|v.func
op_assign
id|alc269_fixup_stereo_dmic
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_QUANTA_MUTE
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_FUNC
comma
"&t;&t;"
dot
id|v.func
op_assign
id|alc269_fixup_quanta_mute
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_LIFEBOOK
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x1a
comma
l_int|0x2101103f
)brace
comma
multiline_comment|/* dock line-out */
"&t;&t;&t;"
(brace
l_int|0x1b
comma
l_int|0x23a11040
)brace
comma
multiline_comment|/* dock mic-in */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC269_FIXUP_QUANTA_MUTE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_AMIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP out */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19c20
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3092f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_DMIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x12
comma
l_int|0x99a3092f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP out */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19c20
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269VB_FIXUP_AMIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19c20
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3092f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x21
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP out */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC269_FIXUP_DMIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x12
comma
l_int|0x99a3092f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19c20
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x21
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP out */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_pci_quirk
id|alc269_fixup_tbl
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1a13
comma
l_string|&quot;Asus G73Jw&quot;
comma
id|ALC269_FIXUP_ASUS_G73JW
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x16e3
comma
l_string|&quot;ASUS UX50&quot;
comma
id|ALC269_FIXUP_STEREO_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x831a
comma
l_string|&quot;ASUS P901&quot;
comma
id|ALC269_FIXUP_STEREO_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x834a
comma
l_string|&quot;ASUS S101&quot;
comma
id|ALC269_FIXUP_STEREO_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x8398
comma
l_string|&quot;ASUS P1005&quot;
comma
id|ALC269_FIXUP_STEREO_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x83ce
comma
l_string|&quot;ASUS P1005&quot;
comma
id|ALC269_FIXUP_STEREO_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x104d
comma
l_int|0x9073
comma
l_string|&quot;Sony VAIO&quot;
comma
id|ALC275_FIXUP_SONY_VAIO_GPIO2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x104d
comma
l_int|0x907b
comma
l_string|&quot;Sony VAIO&quot;
comma
id|ALC275_FIXUP_SONY_HWEQ
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x104d
comma
l_int|0x9084
comma
l_string|&quot;Sony VAIO&quot;
comma
id|ALC275_FIXUP_SONY_HWEQ
)paren
comma
"&t;"
id|SND_PCI_QUIRK_VENDOR
c_func
(paren
l_int|0x104d
comma
l_string|&quot;Sony VAIO&quot;
comma
id|ALC269_FIXUP_SONY_VAIO
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1028
comma
l_int|0x0470
comma
l_string|&quot;Dell M101z&quot;
comma
id|ALC269_FIXUP_DELL_M101Z
)paren
comma
"&t;"
id|SND_PCI_QUIRK_VENDOR
c_func
(paren
l_int|0x1025
comma
l_string|&quot;Acer Aspire&quot;
comma
id|ALC271_FIXUP_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x10cf
comma
l_int|0x1475
comma
l_string|&quot;Lifebook&quot;
comma
id|ALC269_FIXUP_LIFEBOOK
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x20f2
comma
l_string|&quot;Thinkpad SL410/510&quot;
comma
id|ALC269_FIXUP_SKU_IGNORE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x215e
comma
l_string|&quot;Thinkpad L512&quot;
comma
id|ALC269_FIXUP_SKU_IGNORE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x21b8
comma
l_string|&quot;Thinkpad Edge 14&quot;
comma
id|ALC269_FIXUP_SKU_IGNORE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x21ca
comma
l_string|&quot;Thinkpad L412&quot;
comma
id|ALC269_FIXUP_SKU_IGNORE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x21e9
comma
l_string|&quot;Thinkpad Edge 15&quot;
comma
id|ALC269_FIXUP_SKU_IGNORE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x3bf8
comma
l_string|&quot;Quanta FL1&quot;
comma
id|ALC269_FIXUP_QUANTA_MUTE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x3bf8
comma
l_string|&quot;Lenovo Ideapd&quot;
comma
id|ALC269_FIXUP_PCM_44K
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x9e54
comma
l_string|&quot;LENOVO NB&quot;
comma
id|ALC269_FIXUP_LENOVO_EAPD
)paren
comma
macro_line|#if 1
"&t;"
multiline_comment|/* Below is a quirk table taken from the old code.&n;&t; * Basically the device should work as is without the fixup table.&n;&t; * If BIOS doesn&squot;t give a proper info, enable the corresponding&n;&t; * fixup entry.&n;&t; */
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x8330
comma
l_string|&quot;ASUS Eeepc P703 P900A&quot;
comma
"&t;&t;"
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1013
comma
l_string|&quot;ASUS N61Da&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1113
comma
l_string|&quot;ASUS N63Jn&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1143
comma
l_string|&quot;ASUS B53f&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1133
comma
l_string|&quot;ASUS UJ20ft&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1183
comma
l_string|&quot;ASUS K72DR&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x11b3
comma
l_string|&quot;ASUS K52DR&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x11e3
comma
l_string|&quot;ASUS U33Jc&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1273
comma
l_string|&quot;ASUS UL80Jt&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1283
comma
l_string|&quot;ASUS U53Jc&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x12b3
comma
l_string|&quot;ASUS N82JV&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x12d3
comma
l_string|&quot;ASUS N61Jv&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x13a3
comma
l_string|&quot;ASUS UL30Vt&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1373
comma
l_string|&quot;ASUS G73JX&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1383
comma
l_string|&quot;ASUS UJ30Jc&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x13d3
comma
l_string|&quot;ASUS N61JA&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1413
comma
l_string|&quot;ASUS UL50&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1443
comma
l_string|&quot;ASUS UL30&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1453
comma
l_string|&quot;ASUS M60Jv&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1483
comma
l_string|&quot;ASUS UL80&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x14f3
comma
l_string|&quot;ASUS F83Vf&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x14e3
comma
l_string|&quot;ASUS UL20&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1513
comma
l_string|&quot;ASUS UX30&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1593
comma
l_string|&quot;ASUS N51Vn&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x15a3
comma
l_string|&quot;ASUS N60Jv&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x15b3
comma
l_string|&quot;ASUS N60Dp&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x15c3
comma
l_string|&quot;ASUS N70De&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x15e3
comma
l_string|&quot;ASUS F83T&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1643
comma
l_string|&quot;ASUS M60J&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1653
comma
l_string|&quot;ASUS U50&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1693
comma
l_string|&quot;ASUS F50N&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x16a3
comma
l_string|&quot;ASUS F5Q&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1723
comma
l_string|&quot;ASUS P80&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1743
comma
l_string|&quot;ASUS U80&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1773
comma
l_string|&quot;ASUS U20A&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1883
comma
l_string|&quot;ASUS F81Se&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x152d
comma
l_int|0x1778
comma
l_string|&quot;Quanta ON1&quot;
comma
id|ALC269_FIXUP_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x3be9
comma
l_string|&quot;Quanta Wistron&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x3bf8
comma
l_string|&quot;Quanta FL1&quot;
comma
id|ALC269_FIXUP_AMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17ff
comma
l_int|0x059a
comma
l_string|&quot;Quanta EL3&quot;
comma
id|ALC269_FIXUP_DMIC
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17ff
comma
l_int|0x059b
comma
l_string|&quot;Quanta JR1&quot;
comma
id|ALC269_FIXUP_DMIC
)paren
comma
macro_line|#endif
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_const
r_struct
id|alc_model_fixup
id|alc269_fixup_models
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|id
op_assign
id|ALC269_FIXUP_AMIC
comma
dot
id|name
op_assign
l_string|&quot;laptop-amic&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC269_FIXUP_DMIC
comma
dot
id|name
op_assign
l_string|&quot;laptop-dmic&quot;
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_int
id|alc269_fill_coef
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_int
id|val
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
OL
l_int|0x015
)paren
(brace
"&t;&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0xf
comma
l_int|0x960b
)paren
suffix:semicolon
"&t;&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0xe
comma
l_int|0x8817
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x016
)paren
(brace
"&t;&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0xf
comma
l_int|0x960b
)paren
suffix:semicolon
"&t;&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0xe
comma
l_int|0x8814
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x017
)paren
(brace
"&t;&t;"
id|val
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0x04
)paren
suffix:semicolon
"&t;&t;"
multiline_comment|/* Power up output pin */
"&t;&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0x04
comma
id|val
op_or
(paren
l_int|1
op_lshift
l_int|11
)paren
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00ff
)paren
op_eq
l_int|0x018
)paren
(brace
"&t;&t;"
id|val
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0xd
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|val
op_amp
l_int|0x0c00
)paren
op_rshift
l_int|10
op_ne
l_int|0x1
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* Capless ramp up clock control */
"&t;&t;&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0xd
comma
id|val
op_or
(paren
l_int|1
op_lshift
l_int|10
)paren
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|val
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0x17
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|val
op_amp
l_int|0x01c0
)paren
op_rshift
l_int|6
op_ne
l_int|0x4
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* Class D power on reset */
"&t;&t;&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0x17
comma
id|val
op_or
(paren
l_int|1
op_lshift
l_int|7
)paren
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|val
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0xd
)paren
suffix:semicolon
multiline_comment|/* Class D */
"&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0xd
comma
id|val
op_or
(paren
l_int|1
op_lshift
l_int|14
)paren
)paren
suffix:semicolon
"&t;"
id|val
op_assign
id|alc_read_coef_idx
c_func
(paren
id|codec
comma
l_int|0x4
)paren
suffix:semicolon
multiline_comment|/* HP */
"&t;"
id|alc_write_coef_idx
c_func
(paren
id|codec
comma
l_int|0x4
comma
id|val
op_or
(paren
l_int|1
op_lshift
l_int|11
)paren
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; */
r_int
id|patch_alc269
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
op_assign
l_int|0
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x0b
suffix:semicolon
"&t;"
id|alc_auto_parse_customize_define
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_codec_rename_from_preset
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0269
)paren
(brace
"&t;&t;"
id|spec-&gt;codec_variant
op_assign
id|ALC269_TYPE_ALC269VA
suffix:semicolon
"&t;&t;"
r_switch
c_cond
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
l_int|0x00f0
)paren
(brace
"&t;&t;"
r_case
l_int|0x0010
suffix:colon
"&t;&t;&t;"
r_if
c_cond
(paren
id|codec-&gt;bus-&gt;pci-&gt;subsystem_vendor
op_eq
l_int|0x1025
op_logical_and
"&t;&t;&t;"
id|spec-&gt;cdefine.platform_type
op_eq
l_int|1
)paren
"&t;&t;&t;&t;"
id|err
op_assign
id|alc_codec_rename
c_func
(paren
id|codec
comma
l_string|&quot;ALC271X&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;codec_variant
op_assign
id|ALC269_TYPE_ALC269VB
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x0020
suffix:colon
"&t;&t;&t;"
r_if
c_cond
(paren
id|codec-&gt;bus-&gt;pci-&gt;subsystem_vendor
op_eq
l_int|0x17aa
op_logical_and
"&t;&t;&t;"
id|codec-&gt;bus-&gt;pci-&gt;subsystem_device
op_eq
l_int|0x21f3
)paren
"&t;&t;&t;&t;"
id|err
op_assign
id|alc_codec_rename
c_func
(paren
id|codec
comma
l_string|&quot;ALC3202&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;codec_variant
op_assign
id|ALC269_TYPE_ALC269VC
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_default
suffix:colon
"&t;&t;&t;"
id|alc_fix_pll_init
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0x04
comma
l_int|15
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|alc269_fill_coef
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|alc_pick_fixup
c_func
(paren
id|codec
comma
id|alc269_fixup_models
comma
"&t;&t;"
id|alc269_fixup_tbl
comma
id|alc269_fixups
)paren
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
suffix:semicolon
"&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;"
id|err
op_assign
id|alc269_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
id|has_cdefine_beep
c_func
(paren
id|codec
)paren
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x1
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PROBE
)paren
suffix:semicolon
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x02
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
macro_line|#ifdef CONFIG_PM
"&t;"
id|codec-&gt;patch_ops.resume
op_assign
id|alc269_resume
suffix:semicolon
macro_line|#endif
"&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
id|spec-&gt;shutup
op_assign
id|alc269_shutup
suffix:semicolon
"&t;"
id|alc_init_jacks
c_func
(paren
id|codec
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc269_loopbacks
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|alc269_mic2_for_mute_led
c_func
(paren
id|codec
)paren
)paren
"&t;&t;"
id|codec-&gt;patch_ops.check_power_status
op_assign
id|alc269_mic2_mute_check_ps
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC861&n; */
r_int
id|alc861_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc861_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc861_ssids
(braket
)braket
op_assign
(brace
l_int|0x0e
comma
l_int|0x0f
comma
l_int|0x0b
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc861_ignore
comma
id|alc861_ssids
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
r_const
r_struct
id|hda_amp_list
id|alc861_loopbacks
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x15
comma
id|HDA_INPUT
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|HDA_INPUT
comma
l_int|1
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|HDA_INPUT
comma
l_int|2
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|HDA_INPUT
comma
l_int|3
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
macro_line|#endif
multiline_comment|/* Pin config fixes */
r_enum
(brace
"&t;"
id|PINFIX_FSC_AMILO_PI1505
comma
)brace
suffix:semicolon
r_const
r_struct
id|alc_fixup
id|alc861_fixups
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|PINFIX_FSC_AMILO_PI1505
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x0b
comma
l_int|0x0221101f
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
l_int|0x0f
comma
l_int|0x90170310
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_pci_quirk
id|alc861_fixup_tbl
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1734
comma
l_int|0x10c7
comma
l_string|&quot;FSC Amilo Pi1505&quot;
comma
id|PINFIX_FSC_AMILO_PI1505
)paren
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; */
r_int
id|patch_alc861
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x15
suffix:semicolon
"&t;"
id|alc_pick_fixup
c_func
(paren
id|codec
comma
l_int|NULL
comma
id|alc861_fixup_tbl
comma
id|alc861_fixups
)paren
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
suffix:semicolon
"&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;"
id|err
op_assign
id|alc861_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x23
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x23
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x03
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PROBE
)paren
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
id|spec-&gt;power_hook
op_assign
id|alc_power_eapd
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc861_loopbacks
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC861-VD support&n; *&n; * Based on ALC882&n; *&n; * In addition, an independent DAC&n; */
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
macro_line|#define alc861vd_loopbacks&t;alc880_loopbacks
macro_line|#endif
r_int
id|alc861vd_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc861vd_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc861vd_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc861vd_ignore
comma
id|alc861vd_ssids
)paren
suffix:semicolon
)brace
r_enum
(brace
"&t;"
id|ALC660VD_FIX_ASUS_GPIO1
comma
"&t;"
id|ALC861VD_FIX_DALLAS
comma
)brace
suffix:semicolon
multiline_comment|/* exclude VREF80 */
r_void
id|alc861vd_fixup_dallas
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
r_int
id|action
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|action
op_eq
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
(brace
"&t;&t;"
id|snd_hda_override_pin_caps
c_func
(paren
id|codec
comma
l_int|0x18
comma
l_int|0x00001714
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_override_pin_caps
c_func
(paren
id|codec
comma
l_int|0x19
comma
l_int|0x0000171c
)paren
suffix:semicolon
"&t;"
)brace
)brace
r_const
r_struct
id|alc_fixup
id|alc861vd_fixups
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC660VD_FIX_ASUS_GPIO1
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_VERBS
comma
"&t;&t;"
dot
id|v.verbs
op_assign
(paren
r_const
r_struct
id|hda_verb
(braket
)braket
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* reset GPIO1 */
"&t;&t;&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x03
)brace
comma
"&t;&t;&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x01
)brace
comma
"&t;&t;&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x01
)brace
comma
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC861VD_FIX_DALLAS
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_FUNC
comma
"&t;&t;"
dot
id|v.func
op_assign
id|alc861vd_fixup_dallas
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_pci_quirk
id|alc861vd_fixup_tbl
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x103c
comma
l_int|0x30bf
comma
l_string|&quot;HP TX1000&quot;
comma
id|ALC861VD_FIX_DALLAS
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1339
comma
l_string|&quot;ASUS A7-K&quot;
comma
id|ALC660VD_FIX_ASUS_GPIO1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1179
comma
l_int|0xff31
comma
l_string|&quot;Toshiba L30-149&quot;
comma
id|ALC861VD_FIX_DALLAS
)paren
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_const
r_struct
id|hda_verb
id|alc660vd_eapd_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_EAPD_BTLENABLE
comma
l_int|2
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_EAPD_BTLENABLE
comma
l_int|2
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; */
r_int
id|patch_alc861vd
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x0b
suffix:semicolon
"&t;"
id|alc_pick_fixup
c_func
(paren
id|codec
comma
l_int|NULL
comma
id|alc861vd_fixup_tbl
comma
id|alc861vd_fixups
)paren
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
suffix:semicolon
"&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;"
id|err
op_assign
id|alc861vd_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0660
)paren
(brace
"&t;&t;"
multiline_comment|/* always turn on EAPD */
"&t;&t;"
id|add_verb
c_func
(paren
id|spec
comma
id|alc660vd_eapd_verbs
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x23
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x02
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PROBE
)paren
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
id|spec-&gt;shutup
op_assign
id|alc_eapd_shutup
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc861vd_loopbacks
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC662 support&n; *&n; * ALC662 is almost identical with ALC880 but has cleaner and more flexible&n; * configuration.  Each pin widget can choose any input DACs and a mixer.&n; * Each ADC is connected from a mixer of all inputs.  This makes possible&n; * 6-channel independent captures.&n; *&n; * In addition, an independent DAC for the multi-playback (not used in this&n; * driver yet).&n; */
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
macro_line|#define alc662_loopbacks&t;alc880_loopbacks
macro_line|#endif
multiline_comment|/*&n; * BIOS auto configuration&n; */
r_int
id|alc662_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_const
id|hda_nid_t
id|alc662_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc663_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0x21
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
id|alc662_ssids
(braket
)braket
op_assign
(brace
l_int|0x15
comma
l_int|0x1b
comma
l_int|0x14
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_const
id|hda_nid_t
op_star
id|ssids
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0272
op_logical_or
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0663
op_logical_or
"&t;"
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0665
op_logical_or
id|codec-&gt;vendor_id
op_eq
l_int|0x10ec0670
)paren
"&t;&t;"
id|ssids
op_assign
id|alc663_ssids
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|ssids
op_assign
id|alc662_ssids
suffix:semicolon
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
id|alc662_ignore
comma
id|ssids
)paren
suffix:semicolon
)brace
r_void
id|alc272_fixup_mario
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;"
r_const
r_struct
id|alc_fixup
op_star
id|fix
comma
r_int
id|action
)paren
(brace
"&t;"
r_if
c_cond
(paren
id|action
op_ne
id|ALC_FIXUP_ACT_PROBE
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|snd_hda_override_amp_caps
c_func
(paren
id|codec
comma
l_int|0x2
comma
id|HDA_OUTPUT
comma
"&t;&t;&t;&t;"
(paren
l_int|0x3b
op_lshift
id|AC_AMPCAP_OFFSET_SHIFT
)paren
op_or
"&t;&t;&t;&t;"
(paren
l_int|0x3b
op_lshift
id|AC_AMPCAP_NUM_STEPS_SHIFT
)paren
op_or
"&t;&t;&t;&t;"
(paren
l_int|0x03
op_lshift
id|AC_AMPCAP_STEP_SIZE_SHIFT
)paren
op_or
"&t;&t;&t;&t;"
(paren
l_int|0
op_lshift
id|AC_AMPCAP_MUTE_SHIFT
)paren
)paren
)paren
"&t;&t;"
id|printk
c_func
(paren
id|KERN_WARNING
"&t;&t;"
l_string|&quot;hda_codec: failed to override amp caps for NID 0x2&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_enum
(brace
"&t;"
id|ALC662_FIXUP_ASPIRE
comma
"&t;"
id|ALC662_FIXUP_IDEAPAD
comma
"&t;"
id|ALC272_FIXUP_MARIO
comma
"&t;"
id|ALC662_FIXUP_CZC_P10T
comma
"&t;"
id|ALC662_FIXUP_SKU_IGNORE
comma
"&t;"
id|ALC662_FIXUP_HP_RP5800
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE1
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE2
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE3
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE4
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE5
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE6
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE7
comma
"&t;"
id|ALC662_FIXUP_ASUS_MODE8
comma
)brace
suffix:semicolon
r_const
r_struct
id|alc_fixup
id|alc662_fixups
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC662_FIXUP_ASPIRE
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x99130112
)brace
comma
multiline_comment|/* subwoofer */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_IDEAPAD
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x17
comma
l_int|0x99130112
)brace
comma
multiline_comment|/* subwoofer */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC272_FIXUP_MARIO
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_FUNC
comma
"&t;&t;"
dot
id|v.func
op_assign
id|alc272_fixup_mario
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_CZC_P10T
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_VERBS
comma
"&t;&t;"
dot
id|v.verbs
op_assign
(paren
r_const
r_struct
id|hda_verb
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_EAPD_BTLENABLE
comma
l_int|0
)brace
comma
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_SKU_IGNORE
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_SKU
comma
"&t;&t;"
dot
id|v.sku
op_assign
id|ALC_FIXUP_SKU_IGNORE
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_HP_RP5800
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x0221201f
)brace
comma
multiline_comment|/* HP out */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE1
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19c20
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3092f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x21
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP out */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE2
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19820
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3092f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x1b
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP out */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE3
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x0121441f
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19840
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3094f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x21
comma
l_int|0x01211420
)brace
comma
multiline_comment|/* HP2 */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE4
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x16
comma
l_int|0x99130111
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19840
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3094f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x21
comma
l_int|0x0121441f
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE5
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x0121441f
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
l_int|0x16
comma
l_int|0x99130111
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19840
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3094f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE6
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x01211420
)brace
comma
multiline_comment|/* HP2 */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19840
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3094f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x1b
comma
l_int|0x0121441f
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE7
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x17
comma
l_int|0x99130111
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19840
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x19
comma
l_int|0x99a3094f
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x1b
comma
l_int|0x01214020
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
l_int|0x21
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
"&t;"
(braket
id|ALC662_FIXUP_ASUS_MODE8
)braket
op_assign
(brace
"&t;&t;"
dot
id|type
op_assign
id|ALC_FIXUP_PINS
comma
"&t;&t;"
dot
id|v.pins
op_assign
(paren
r_const
r_struct
id|alc_pincfg
(braket
)braket
)paren
(brace
"&t;&t;&t;"
(brace
l_int|0x14
comma
l_int|0x99130110
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x12
comma
l_int|0x99a30970
)brace
comma
multiline_comment|/* int-mic */
"&t;&t;&t;"
(brace
l_int|0x15
comma
l_int|0x01214020
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
l_int|0x17
comma
l_int|0x99130111
)brace
comma
multiline_comment|/* speaker */
"&t;&t;&t;"
(brace
l_int|0x18
comma
l_int|0x01a19840
)brace
comma
multiline_comment|/* mic */
"&t;&t;&t;"
(brace
l_int|0x21
comma
l_int|0x0121401f
)brace
comma
multiline_comment|/* HP */
"&t;&t;&t;"
(brace
)brace
"&t;&t;"
)brace
comma
"&t;&t;"
dot
id|chained
op_assign
l_bool|true
comma
"&t;&t;"
dot
id|chain_id
op_assign
id|ALC662_FIXUP_SKU_IGNORE
"&t;"
)brace
comma
)brace
suffix:semicolon
r_const
r_struct
id|snd_pci_quirk
id|alc662_fixup_tbl
(braket
)braket
op_assign
(brace
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1019
comma
l_int|0x9087
comma
l_string|&quot;ECS&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1025
comma
l_int|0x0308
comma
l_string|&quot;Acer Aspire 8942G&quot;
comma
id|ALC662_FIXUP_ASPIRE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1025
comma
l_int|0x031c
comma
l_string|&quot;Gateway NV79&quot;
comma
id|ALC662_FIXUP_SKU_IGNORE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1025
comma
l_int|0x038b
comma
l_string|&quot;Acer Aspire 8943G&quot;
comma
id|ALC662_FIXUP_ASPIRE
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x103c
comma
l_int|0x1632
comma
l_string|&quot;HP RP5800&quot;
comma
id|ALC662_FIXUP_HP_RP5800
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x105b
comma
l_int|0x0cd6
comma
l_string|&quot;Foxconn&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x144d
comma
l_int|0xc051
comma
l_string|&quot;Samsung R720&quot;
comma
id|ALC662_FIXUP_IDEAPAD
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x38af
comma
l_string|&quot;Lenovo Ideapad Y550P&quot;
comma
id|ALC662_FIXUP_IDEAPAD
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x17aa
comma
l_int|0x3a0d
comma
l_string|&quot;Lenovo Ideapad Y550&quot;
comma
id|ALC662_FIXUP_IDEAPAD
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1b35
comma
l_int|0x2206
comma
l_string|&quot;CZC P10T&quot;
comma
id|ALC662_FIXUP_CZC_P10T
)paren
comma
macro_line|#if 0
"&t;"
multiline_comment|/* Below is a quirk table taken from the old code.&n;&t; * Basically the device should work as is without the fixup table.&n;&t; * If BIOS doesn&squot;t give a proper info, enable the corresponding&n;&t; * fixup entry.&n;&t; */
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1000
comma
l_string|&quot;ASUS N50Vm&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1092
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE3
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1173
comma
l_string|&quot;ASUS K73Jn&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x11c3
comma
l_string|&quot;ASUS M70V&quot;
comma
id|ALC662_FIXUP_ASUS_MODE3
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x11d3
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x11f3
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1203
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1303
comma
l_string|&quot;ASUS G60J&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1333
comma
l_string|&quot;ASUS G60Jx&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1339
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x13e3
comma
l_string|&quot;ASUS N71JA&quot;
comma
id|ALC662_FIXUP_ASUS_MODE7
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1463
comma
l_string|&quot;ASUS N71&quot;
comma
id|ALC662_FIXUP_ASUS_MODE7
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x14d3
comma
l_string|&quot;ASUS G72&quot;
comma
id|ALC662_FIXUP_ASUS_MODE8
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1563
comma
l_string|&quot;ASUS N90&quot;
comma
id|ALC662_FIXUP_ASUS_MODE3
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x15d3
comma
l_string|&quot;ASUS N50SF F50SF&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x16c3
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x16f3
comma
l_string|&quot;ASUS K40C K50C&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1733
comma
l_string|&quot;ASUS N81De&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1753
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1763
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE6
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1765
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE6
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1783
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1793
comma
l_string|&quot;ASUS F50GX&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x17b3
comma
l_string|&quot;ASUS F70SL&quot;
comma
id|ALC662_FIXUP_ASUS_MODE3
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x17f3
comma
l_string|&quot;ASUS X58LE&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1813
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1823
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE5
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1833
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE6
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1843
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1853
comma
l_string|&quot;ASUS F50Z&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1864
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1876
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1893
comma
l_string|&quot;ASUS M50Vm&quot;
comma
id|ALC662_FIXUP_ASUS_MODE3
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1894
comma
l_string|&quot;ASUS X55&quot;
comma
id|ALC662_FIXUP_ASUS_MODE3
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x18b3
comma
l_string|&quot;ASUS N80Vc&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x18c3
comma
l_string|&quot;ASUS VX5&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x18d3
comma
l_string|&quot;ASUS N81Te&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x18f3
comma
l_string|&quot;ASUS N505Tp&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1903
comma
l_string|&quot;ASUS F5GL&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1913
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1933
comma
l_string|&quot;ASUS F80Q&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1943
comma
l_string|&quot;ASUS Vx3V&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1953
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1963
comma
l_string|&quot;ASUS X71C&quot;
comma
id|ALC662_FIXUP_ASUS_MODE3
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1983
comma
l_string|&quot;ASUS N5051A&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x1993
comma
l_string|&quot;ASUS N20&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x19b3
comma
l_string|&quot;ASUS F7Z&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x19c3
comma
l_string|&quot;ASUS F5Z/F6x&quot;
comma
id|ALC662_FIXUP_ASUS_MODE2
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x19e3
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE1
)paren
comma
"&t;"
id|SND_PCI_QUIRK
c_func
(paren
l_int|0x1043
comma
l_int|0x19f3
comma
l_string|&quot;ASUS NB&quot;
comma
id|ALC662_FIXUP_ASUS_MODE4
)paren
comma
macro_line|#endif
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_const
r_struct
id|alc_model_fixup
id|alc662_fixup_models
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|id
op_assign
id|ALC272_FIXUP_MARIO
comma
dot
id|name
op_assign
l_string|&quot;mario&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE1
comma
dot
id|name
op_assign
l_string|&quot;asus-mode1&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE2
comma
dot
id|name
op_assign
l_string|&quot;asus-mode2&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE3
comma
dot
id|name
op_assign
l_string|&quot;asus-mode3&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE4
comma
dot
id|name
op_assign
l_string|&quot;asus-mode4&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE5
comma
dot
id|name
op_assign
l_string|&quot;asus-mode5&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE6
comma
dot
id|name
op_assign
l_string|&quot;asus-mode6&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE7
comma
dot
id|name
op_assign
l_string|&quot;asus-mode7&quot;
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
id|ALC662_FIXUP_ASUS_MODE8
comma
dot
id|name
op_assign
l_string|&quot;asus-mode8&quot;
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; */
r_int
id|patch_alc662
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
op_assign
l_int|0
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|spec-&gt;mixer_nid
op_assign
l_int|0x0b
suffix:semicolon
"&t;"
multiline_comment|/* handle multiple HPs as is */
"&t;"
id|spec-&gt;parse_flags
op_assign
id|HDA_PINCFG_NO_HP_FIXUP
suffix:semicolon
"&t;"
id|alc_auto_parse_customize_define
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc_fix_pll_init
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0x04
comma
l_int|15
)paren
suffix:semicolon
"&t;"
id|err
op_assign
id|alc_codec_rename_from_preset
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|alc_get_coef0
c_func
(paren
id|codec
)paren
op_amp
(paren
l_int|1
op_lshift
l_int|14
)paren
)paren
op_logical_and
"&t;"
id|codec-&gt;bus-&gt;pci-&gt;subsystem_vendor
op_eq
l_int|0x1025
op_logical_and
"&t;"
id|spec-&gt;cdefine.platform_type
op_eq
l_int|1
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|alc_codec_rename
c_func
(paren
id|codec
comma
l_string|&quot;ALC272X&quot;
)paren
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
)brace
"&t;"
id|alc_pick_fixup
c_func
(paren
id|codec
comma
id|alc662_fixup_models
comma
"&t;&t;"
id|alc662_fixup_tbl
comma
id|alc662_fixups
)paren
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PRE_PROBE
)paren
suffix:semicolon
"&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;"
id|err
op_assign
id|alc662_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;adc_nids
)paren
(brace
"&t;&t;"
id|alc_auto_fill_adc_caps
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_rebuild_imux_for_auto_mic
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
id|alc_remove_invalid_adc_nids
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
id|has_cdefine_beep
c_func
(paren
id|codec
)paren
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_attach_beep_device
c_func
(paren
id|codec
comma
l_int|0x1
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_goto
id|error
suffix:semicolon
"&t;&t;"
r_switch
c_cond
(paren
id|codec-&gt;vendor_id
)paren
(brace
"&t;&t;"
r_case
l_int|0x10ec0662
suffix:colon
"&t;&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x10ec0272
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0663
suffix:colon
"&t;&t;"
r_case
l_int|0x10ec0665
suffix:colon
"&t;&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x10ec0273
suffix:colon
"&t;&t;&t;"
id|set_beep_amp
c_func
(paren
id|spec
comma
l_int|0x0b
comma
l_int|0x03
comma
id|HDA_INPUT
)paren
suffix:semicolon
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x02
suffix:semicolon
"&t;"
id|alc_apply_fixup
c_func
(paren
id|codec
comma
id|ALC_FIXUP_ACT_PROBE
)paren
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
id|spec-&gt;shutup
op_assign
id|alc_eapd_shutup
suffix:semicolon
"&t;"
id|alc_init_jacks
c_func
(paren
id|codec
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_SND_HDA_POWER_SAVE
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;loopback.amplist
)paren
"&t;&t;"
id|spec-&gt;loopback.amplist
op_assign
id|alc662_loopbacks
suffix:semicolon
macro_line|#endif
"&t;"
r_return
l_int|0
suffix:semicolon
id|error
suffix:colon
"&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC680 support&n; */
r_int
id|alc680_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_return
id|alc_parse_auto_config
c_func
(paren
id|codec
comma
l_int|NULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; */
r_int
id|patch_alc680
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
multiline_comment|/* ALC680 has no aa-loopback mixer */
"&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;"
id|err
op_assign
id|alc680_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
(brace
"&t;&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;no_analog
op_logical_and
op_logical_neg
id|spec-&gt;cap_mixer
)paren
"&t;&t;"
id|set_capture_mixer
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|spec-&gt;vmaster_nid
op_assign
l_int|0x02
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
id|spec-&gt;init_hook
op_assign
id|alc_auto_init_std
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * patch entries&n; */
r_const
r_struct
id|hda_codec_preset
id|snd_hda_preset_realtek
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0221
comma
dot
id|name
op_assign
l_string|&quot;ALC221&quot;
comma
dot
id|patch
op_assign
id|patch_alc269
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0260
comma
dot
id|name
op_assign
l_string|&quot;ALC260&quot;
comma
dot
id|patch
op_assign
id|patch_alc260
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0262
comma
dot
id|name
op_assign
l_string|&quot;ALC262&quot;
comma
dot
id|patch
op_assign
id|patch_alc262
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0267
comma
dot
id|name
op_assign
l_string|&quot;ALC267&quot;
comma
dot
id|patch
op_assign
id|patch_alc268
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0268
comma
dot
id|name
op_assign
l_string|&quot;ALC268&quot;
comma
dot
id|patch
op_assign
id|patch_alc268
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0269
comma
dot
id|name
op_assign
l_string|&quot;ALC269&quot;
comma
dot
id|patch
op_assign
id|patch_alc269
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0270
comma
dot
id|name
op_assign
l_string|&quot;ALC270&quot;
comma
dot
id|patch
op_assign
id|patch_alc269
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0272
comma
dot
id|name
op_assign
l_string|&quot;ALC272&quot;
comma
dot
id|patch
op_assign
id|patch_alc662
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0275
comma
dot
id|name
op_assign
l_string|&quot;ALC275&quot;
comma
dot
id|patch
op_assign
id|patch_alc269
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0276
comma
dot
id|name
op_assign
l_string|&quot;ALC276&quot;
comma
dot
id|patch
op_assign
id|patch_alc269
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0861
comma
dot
id|rev
op_assign
l_int|0x100340
comma
dot
id|name
op_assign
l_string|&quot;ALC660&quot;
comma
"&t;"
dot
id|patch
op_assign
id|patch_alc861
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0660
comma
dot
id|name
op_assign
l_string|&quot;ALC660-VD&quot;
comma
dot
id|patch
op_assign
id|patch_alc861vd
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0861
comma
dot
id|name
op_assign
l_string|&quot;ALC861&quot;
comma
dot
id|patch
op_assign
id|patch_alc861
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0862
comma
dot
id|name
op_assign
l_string|&quot;ALC861-VD&quot;
comma
dot
id|patch
op_assign
id|patch_alc861vd
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0662
comma
dot
id|rev
op_assign
l_int|0x100002
comma
dot
id|name
op_assign
l_string|&quot;ALC662 rev2&quot;
comma
"&t;"
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0662
comma
dot
id|rev
op_assign
l_int|0x100101
comma
dot
id|name
op_assign
l_string|&quot;ALC662 rev1&quot;
comma
"&t;"
dot
id|patch
op_assign
id|patch_alc662
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0662
comma
dot
id|rev
op_assign
l_int|0x100300
comma
dot
id|name
op_assign
l_string|&quot;ALC662 rev3&quot;
comma
"&t;"
dot
id|patch
op_assign
id|patch_alc662
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0663
comma
dot
id|name
op_assign
l_string|&quot;ALC663&quot;
comma
dot
id|patch
op_assign
id|patch_alc662
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0665
comma
dot
id|name
op_assign
l_string|&quot;ALC665&quot;
comma
dot
id|patch
op_assign
id|patch_alc662
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0670
comma
dot
id|name
op_assign
l_string|&quot;ALC670&quot;
comma
dot
id|patch
op_assign
id|patch_alc662
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0680
comma
dot
id|name
op_assign
l_string|&quot;ALC680&quot;
comma
dot
id|patch
op_assign
id|patch_alc680
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0880
comma
dot
id|name
op_assign
l_string|&quot;ALC880&quot;
comma
dot
id|patch
op_assign
id|patch_alc880
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0882
comma
dot
id|name
op_assign
l_string|&quot;ALC882&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0883
comma
dot
id|name
op_assign
l_string|&quot;ALC883&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0885
comma
dot
id|rev
op_assign
l_int|0x100101
comma
dot
id|name
op_assign
l_string|&quot;ALC889A&quot;
comma
"&t;"
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0885
comma
dot
id|rev
op_assign
l_int|0x100103
comma
dot
id|name
op_assign
l_string|&quot;ALC889A&quot;
comma
"&t;"
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0885
comma
dot
id|name
op_assign
l_string|&quot;ALC885&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0887
comma
dot
id|name
op_assign
l_string|&quot;ALC887&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0888
comma
dot
id|rev
op_assign
l_int|0x100101
comma
dot
id|name
op_assign
l_string|&quot;ALC1200&quot;
comma
"&t;"
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0888
comma
dot
id|name
op_assign
l_string|&quot;ALC888&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0889
comma
dot
id|name
op_assign
l_string|&quot;ALC889&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0892
comma
dot
id|name
op_assign
l_string|&quot;ALC892&quot;
comma
dot
id|patch
op_assign
id|patch_alc662
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0899
comma
dot
id|name
op_assign
l_string|&quot;ALC898&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* terminator */
)brace
suffix:semicolon
id|MODULE_ALIAS
c_func
(paren
l_string|&quot;snd-hda-codec-id:10ec*&quot;
)paren
suffix:semicolon
id|MODULE_LICENSE
c_func
(paren
l_string|&quot;GPL&quot;
)paren
suffix:semicolon
id|MODULE_DESCRIPTION
c_func
(paren
l_string|&quot;Realtek HD-audio codec&quot;
)paren
suffix:semicolon
r_struct
id|hda_codec_preset_list
id|realtek_list
op_assign
(brace
"&t;"
dot
id|preset
op_assign
id|snd_hda_preset_realtek
comma
"&t;"
dot
id|owner
op_assign
id|THIS_MODULE
comma
)brace
suffix:semicolon
r_int
id|__init
id|patch_realtek_init
c_func
(paren
)paren
(brace
"&t;"
r_return
id|snd_hda_add_codec_preset
c_func
(paren
op_amp
id|realtek_list
)paren
suffix:semicolon
)brace
r_void
id|__exit
id|patch_realtek_exit
c_func
(paren
)paren
(brace
"&t;"
id|snd_hda_delete_codec_preset
c_func
(paren
op_amp
id|realtek_list
)paren
suffix:semicolon
)brace
id|module_init
c_func
(paren
id|patch_realtek_init
)paren
id|module_exit
c_func
(paren
id|patch_realtek_exit
)paren
eof
