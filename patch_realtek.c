multiline_comment|/*&n; * Universal Interface for Intel High Definition Audio Codec&n; *&n; * HD audio interface patch for ALC 260/880/882 codecs&n; *&n; * Copyright (c) 2004 Kailang Yang &lt;kailang@realtek.com.tw&gt;&n; *                    PeiSen Hou &lt;pshou@realtek.com.tw&gt;&n; *                    Takashi Iwai &lt;tiwai@suse.de&gt;&n; *                    Jonathan Woithe &lt;jwoithe@physics.adelaide.edu.au&gt;&n; *&n; *  This driver is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This driver is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA&n; */
macro_line|#include &lt;sound/driver.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;sound/core.h&gt;
macro_line|#include &quot;hda_codec.h&quot;
macro_line|#include &quot;hda_local.h&quot;
multiline_comment|/* ALC880 board config type */
r_enum
(brace
"&t;"
id|ALC880_3ST
comma
"&t;"
id|ALC880_3ST_DIG
comma
"&t;"
id|ALC880_5ST
comma
"&t;"
id|ALC880_5ST_DIG
comma
"&t;"
id|ALC880_W810
comma
"&t;"
id|ALC880_Z71V
comma
"&t;"
id|ALC880_6ST
comma
"&t;"
id|ALC880_6ST_DIG
comma
"&t;"
id|ALC880_F1734
comma
"&t;"
id|ALC880_ASUS
comma
"&t;"
id|ALC880_ASUS_DIG
comma
"&t;"
id|ALC880_ASUS_W1V
comma
"&t;"
id|ALC880_ASUS_DIG2
comma
"&t;"
id|ALC880_UNIWILL_DIG
comma
"&t;"
id|ALC880_CLEVO
comma
"&t;"
id|ALC880_TCL_S700
comma
"&t;"
id|ALC880_LG
comma
macro_line|#ifdef CONFIG_SND_DEBUG
"&t;"
id|ALC880_TEST
comma
macro_line|#endif
"&t;"
id|ALC880_AUTO
comma
"&t;"
id|ALC880_MODEL_LAST
multiline_comment|/* last tag */
)brace
suffix:semicolon
multiline_comment|/* ALC260 models */
r_enum
(brace
"&t;"
id|ALC260_BASIC
comma
"&t;"
id|ALC260_HP
comma
"&t;"
id|ALC260_HP_3013
comma
"&t;"
id|ALC260_FUJITSU_S702X
comma
"&t;"
id|ALC260_ACER
comma
macro_line|#ifdef CONFIG_SND_DEBUG
"&t;"
id|ALC260_TEST
comma
macro_line|#endif
"&t;"
id|ALC260_AUTO
comma
"&t;"
id|ALC260_MODEL_LAST
multiline_comment|/* last tag */
)brace
suffix:semicolon
multiline_comment|/* ALC262 models */
r_enum
(brace
"&t;"
id|ALC262_BASIC
comma
"&t;"
id|ALC262_FUJITSU
comma
"&t;"
id|ALC262_AUTO
comma
"&t;"
id|ALC262_MODEL_LAST
multiline_comment|/* last tag */
)brace
suffix:semicolon
multiline_comment|/* ALC861 models */
r_enum
(brace
"&t;"
id|ALC861_3ST
comma
"&t;"
id|ALC861_3ST_DIG
comma
"&t;"
id|ALC861_6ST_DIG
comma
"&t;"
id|ALC861_AUTO
comma
"&t;"
id|ALC861_MODEL_LAST
comma
)brace
suffix:semicolon
multiline_comment|/* ALC882 models */
r_enum
(brace
"&t;"
id|ALC882_3ST_DIG
comma
"&t;"
id|ALC882_6ST_DIG
comma
"&t;"
id|ALC882_AUTO
comma
"&t;"
id|ALC882_MODEL_LAST
comma
)brace
suffix:semicolon
multiline_comment|/* for GPIO Poll */
macro_line|#define GPIO_MASK&t;0x03
r_struct
id|alc_spec
(brace
"&t;"
multiline_comment|/* codec parameterization */
"&t;"
r_struct
id|snd_kcontrol_new
op_star
id|mixers
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
multiline_comment|/* mixer arrays */
"&t;"
r_int
r_int
id|num_mixers
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_verb
op_star
id|init_verbs
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
multiline_comment|/* initialization verbs&n;&t;&t;&t;&t;&t;&t; * don&squot;t forget NULL termination!&n;&t;&t;&t;&t;&t;&t; */
"&t;"
r_int
r_int
id|num_init_verbs
suffix:semicolon
"&t;"
r_char
op_star
id|stream_name_analog
suffix:semicolon
"&t;"
multiline_comment|/* analog PCM stream */
"&t;"
r_struct
id|hda_pcm_stream
op_star
id|stream_analog_playback
suffix:semicolon
"&t;"
r_struct
id|hda_pcm_stream
op_star
id|stream_analog_capture
suffix:semicolon
"&t;"
r_char
op_star
id|stream_name_digital
suffix:semicolon
"&t;"
multiline_comment|/* digital PCM stream */
"&t;"
r_struct
id|hda_pcm_stream
op_star
id|stream_digital_playback
suffix:semicolon
"&t;"
r_struct
id|hda_pcm_stream
op_star
id|stream_digital_capture
suffix:semicolon
"&t;"
multiline_comment|/* playback */
"&t;"
r_struct
id|hda_multi_out
id|multiout
suffix:semicolon
"&t;"
multiline_comment|/* playback set-up&n;&t;&t;&t;&t;&t; * max_channels, dacs must be set&n;&t;&t;&t;&t;&t; * dig_out_nid and hp_nid are optional&n;&t;&t;&t;&t;&t; */
"&t;"
multiline_comment|/* capture */
"&t;"
r_int
r_int
id|num_adc_nids
suffix:semicolon
"&t;"
id|hda_nid_t
op_star
id|adc_nids
suffix:semicolon
"&t;"
id|hda_nid_t
id|dig_in_nid
suffix:semicolon
"&t;&t;"
multiline_comment|/* digital-in NID; optional */
"&t;"
multiline_comment|/* capture source */
"&t;"
r_const
r_struct
id|hda_input_mux
op_star
id|input_mux
suffix:semicolon
"&t;"
r_int
r_int
id|cur_mux
(braket
l_int|3
)braket
suffix:semicolon
"&t;"
multiline_comment|/* channel model */
"&t;"
r_const
r_struct
id|hda_channel_mode
op_star
id|channel_mode
suffix:semicolon
"&t;"
r_int
id|num_channel_mode
suffix:semicolon
"&t;"
multiline_comment|/* PCM information */
"&t;"
r_struct
id|hda_pcm
id|pcm_rec
(braket
l_int|3
)braket
suffix:semicolon
"&t;"
multiline_comment|/* used in alc_build_pcms() */
"&t;"
multiline_comment|/* dynamic controls, init_verbs and input_mux */
"&t;"
r_struct
id|auto_pin_cfg
id|autocfg
suffix:semicolon
"&t;"
r_int
r_int
id|num_kctl_alloc
comma
id|num_kctl_used
suffix:semicolon
"&t;"
r_struct
id|snd_kcontrol_new
op_star
id|kctl_alloc
suffix:semicolon
"&t;"
r_struct
id|hda_input_mux
id|private_imux
suffix:semicolon
"&t;"
id|hda_nid_t
id|private_dac_nids
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
multiline_comment|/* hooks */
"&t;"
r_void
(paren
op_star
id|init_hook
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
suffix:semicolon
"&t;"
r_void
(paren
op_star
id|unsol_event
)paren
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|res
)paren
suffix:semicolon
"&t;"
multiline_comment|/* for pin sensing */
"&t;"
r_int
r_int
id|sense_updated
suffix:colon
l_int|1
suffix:semicolon
"&t;"
r_int
r_int
id|jack_present
suffix:colon
l_int|1
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * configuration template - to be copied to the spec instance&n; */
r_struct
id|alc_config_preset
(brace
"&t;"
r_struct
id|snd_kcontrol_new
op_star
id|mixers
(braket
l_int|5
)braket
suffix:semicolon
multiline_comment|/* should be identical size with spec */
"&t;"
r_const
r_struct
id|hda_verb
op_star
id|init_verbs
(braket
l_int|5
)braket
suffix:semicolon
"&t;"
r_int
r_int
id|num_dacs
suffix:semicolon
"&t;"
id|hda_nid_t
op_star
id|dac_nids
suffix:semicolon
"&t;"
id|hda_nid_t
id|dig_out_nid
suffix:semicolon
"&t;&t;"
multiline_comment|/* optional */
"&t;"
id|hda_nid_t
id|hp_nid
suffix:semicolon
"&t;&t;"
multiline_comment|/* optional */
"&t;"
r_int
r_int
id|num_adc_nids
suffix:semicolon
"&t;"
id|hda_nid_t
op_star
id|adc_nids
suffix:semicolon
"&t;"
id|hda_nid_t
id|dig_in_nid
suffix:semicolon
"&t;"
r_int
r_int
id|num_channel_mode
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_channel_mode
op_star
id|channel_mode
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_input_mux
op_star
id|input_mux
suffix:semicolon
"&t;"
r_void
(paren
op_star
id|unsol_event
)paren
(paren
r_struct
id|hda_codec
op_star
comma
r_int
r_int
)paren
suffix:semicolon
"&t;"
r_void
(paren
op_star
id|init_hook
)paren
(paren
r_struct
id|hda_codec
op_star
)paren
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * input MUX handling&n; */
r_int
id|alc_mux_enum_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_input_mux_info
c_func
(paren
id|spec-&gt;input_mux
comma
id|uinfo
)paren
suffix:semicolon
)brace
r_int
id|alc_mux_enum_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|adc_idx
op_assign
id|snd_ctl_get_ioffidx
c_func
(paren
id|kcontrol
comma
op_amp
id|ucontrol-&gt;id
)paren
suffix:semicolon
"&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
id|spec-&gt;cur_mux
(braket
id|adc_idx
)braket
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_mux_enum_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|adc_idx
op_assign
id|snd_ctl_get_ioffidx
c_func
(paren
id|kcontrol
comma
op_amp
id|ucontrol-&gt;id
)paren
suffix:semicolon
"&t;"
r_return
id|snd_hda_input_mux_put
c_func
(paren
id|codec
comma
id|spec-&gt;input_mux
comma
id|ucontrol
comma
"&t;&t;&t;&t;"
id|spec-&gt;adc_nids
(braket
id|adc_idx
)braket
comma
op_amp
id|spec-&gt;cur_mux
(braket
id|adc_idx
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * channel mode setting&n; */
r_int
id|alc_ch_mode_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_ch_mode_info
c_func
(paren
id|codec
comma
id|uinfo
comma
id|spec-&gt;channel_mode
comma
"&t;&t;&t;&t;"
id|spec-&gt;num_channel_mode
)paren
suffix:semicolon
)brace
r_int
id|alc_ch_mode_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_ch_mode_get
c_func
(paren
id|codec
comma
id|ucontrol
comma
id|spec-&gt;channel_mode
comma
"&t;&t;&t;&t;"
id|spec-&gt;num_channel_mode
comma
id|spec-&gt;multiout.max_channels
)paren
suffix:semicolon
)brace
r_int
id|alc_ch_mode_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_ch_mode_put
c_func
(paren
id|codec
comma
id|ucontrol
comma
id|spec-&gt;channel_mode
comma
"&t;&t;&t;&t;"
id|spec-&gt;num_channel_mode
comma
op_amp
id|spec-&gt;multiout.max_channels
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Control the mode of pin widget settings via the mixer.  &quot;pc&quot; is used&n; * instead of &quot;%&quot; to avoid consequences of accidently treating the % as &n; * being part of a format specifier.  Maximum allowed length of a value is&n; * 63 characters plus NULL terminator.&n; *&n; * Note: some retasking pin complexes seem to ignore requests for input&n; * states other than HiZ (eg: PIN_VREFxx) and revert to HiZ if any of these&n; * are requested.  Therefore order this list so that this behaviour will not&n; * cause problems when mixer clients move through the enum sequentially.&n; * NIDs 0x0f and 0x10 have been observed to have this behaviour.&n; */
r_char
op_star
id|alc_pin_mode_names
(braket
)braket
op_assign
(brace
"&t;"
l_string|&quot;Mic 50pc bias&quot;
comma
l_string|&quot;Mic 80pc bias&quot;
comma
"&t;"
l_string|&quot;Line in&quot;
comma
l_string|&quot;Line out&quot;
comma
l_string|&quot;Headphone out&quot;
comma
)brace
suffix:semicolon
r_int
r_char
id|alc_pin_mode_values
(braket
)braket
op_assign
(brace
"&t;"
id|PIN_VREF50
comma
id|PIN_VREF80
comma
id|PIN_IN
comma
id|PIN_OUT
comma
id|PIN_HP
comma
)brace
suffix:semicolon
multiline_comment|/* The control can present all 5 options, or it can limit the options based&n; * in the pin being assumed to be exclusively an input or an output pin.&n; */
macro_line|#define ALC_PIN_DIR_IN    0x00
macro_line|#define ALC_PIN_DIR_OUT   0x01
macro_line|#define ALC_PIN_DIR_INOUT 0x02
multiline_comment|/* Info about the pin modes supported by the three different pin directions. &n; * For each direction the minimum and maximum values are given.&n; */
r_int
r_char
id|alc_pin_mode_dir_info
(braket
l_int|3
)braket
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
(brace
l_int|0
comma
l_int|2
)brace
comma
multiline_comment|/* ALC_PIN_DIR_IN */
"&t;"
(brace
l_int|3
comma
l_int|4
)brace
comma
multiline_comment|/* ALC_PIN_DIR_OUT */
"&t;"
(brace
l_int|0
comma
l_int|4
)brace
comma
multiline_comment|/* ALC_PIN_DIR_INOUT */
)brace
suffix:semicolon
macro_line|#define alc_pin_mode_min(_dir) (alc_pin_mode_dir_info[_dir][0])
macro_line|#define alc_pin_mode_max(_dir) (alc_pin_mode_dir_info[_dir][1])
macro_line|#define alc_pin_mode_n_items(_dir) &bslash;&n;&t;(alc_pin_mode_max(_dir)-alc_pin_mode_min(_dir)+1)
r_int
id|alc_pin_mode_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_int
r_int
id|item_num
op_assign
id|uinfo-&gt;value.enumerated.item
suffix:semicolon
"&t;"
r_int
r_char
id|dir
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
"&t;"
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_ENUMERATED
suffix:semicolon
"&t;"
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
"&t;"
id|uinfo-&gt;value.enumerated.items
op_assign
id|alc_pin_mode_n_items
c_func
(paren
id|dir
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|item_num
id|alc_pin_mode_max
(paren
id|dir
)paren
)paren
"&t;&t;"
id|item_num
op_assign
id|alc_pin_mode_min
c_func
(paren
id|dir
)paren
suffix:semicolon
"&t;"
id|strcpy
c_func
(paren
id|uinfo-&gt;value.enumerated.name
comma
id|alc_pin_mode_names
(braket
id|item_num
)braket
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_pin_mode_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_int
r_int
id|i
suffix:semicolon
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_int
r_char
id|dir
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
"&t;"
r_int
op_star
id|valp
op_assign
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
r_int
id|pinctl
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_PIN_WIDGET_CONTROL
comma
l_int|0x00
)paren
suffix:semicolon
"&t;"
multiline_comment|/* Find enumerated value for current pinctl setting */
"&t;"
id|i
op_assign
id|alc_pin_mode_min
c_func
(paren
id|dir
)paren
suffix:semicolon
"&t;"
r_while
c_loop
(paren
id|alc_pin_mode_values
(braket
id|i
)braket
op_ne
id|pinctl
op_logical_and
id|i
op_le
id|alc_pin_mode_max
c_func
(paren
id|dir
)paren
)paren
"&t;&t;"
id|i
op_increment
suffix:semicolon
"&t;"
op_star
id|valp
op_assign
id|i
op_le
id|alc_pin_mode_max
c_func
(paren
id|dir
)paren
ques
c_cond
id|i
suffix:colon
id|alc_pin_mode_min
c_func
(paren
id|dir
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_pin_mode_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_int
r_int
id|change
suffix:semicolon
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_int
r_char
id|dir
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
"&t;"
r_int
id|val
op_assign
op_star
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
r_int
id|pinctl
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_PIN_WIDGET_CONTROL
comma
l_int|0x00
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|val
id|alc_pin_mode_max
(paren
id|dir
)paren
)paren
"&t;&t;"
id|val
op_assign
id|alc_pin_mode_min
c_func
(paren
id|dir
)paren
suffix:semicolon
"&t;"
id|change
op_assign
id|pinctl
op_ne
id|alc_pin_mode_values
(braket
id|val
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|change
)paren
(brace
"&t;&t;"
multiline_comment|/* Set pin mode to that requested */
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;"
id|alc_pin_mode_values
(braket
id|val
)braket
)paren
suffix:semicolon
"&t;&t;"
multiline_comment|/* Also enable the retasking pin&squot;s input/output as required &n;&t;&t; * for the requested pin mode.  Enum values of 2 or less are&n;&t;&t; * input modes.&n;&t;&t; *&n;&t;&t; * Dynamically switching the input/output buffers probably&n;&t;&t; * reduces noise slightly, particularly on input.  However,&n;&t;&t; * havingboth input and output buffers enabled&n;&t;&t; * simultaneously doesn&squot;t seem to be problematic.&n;&t;&t; */
"&t;&t;"
r_if
c_cond
(paren
id|val
op_le
l_int|2
)paren
(brace
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_OUT_MUTE
)paren
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)paren
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)paren
suffix:semicolon
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|AMP_OUT_UNMUTE
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
id|change
suffix:semicolon
)brace
macro_line|#define ALC_PIN_MODE(xname, nid, dir) &bslash;&n;&t;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = 0,  &bslash;&n;&t;  .info = alc_pin_mode_info, &bslash;&n;&t;  .get = alc_pin_mode_get, &bslash;&n;&t;  .put = alc_pin_mode_put, &bslash;&n;&t;  .private_value = nid | (dir&lt;&lt;16) }
multiline_comment|/* A switch control for ALC260 GPIO pins.  Multiple GPIOs can be ganged&n; * together using a mask with more than one bit set.  This control is&n; * currently used only by the ALC260 test model.  At this stage they are not&n; * needed for any &quot;production&quot; models.&n; */
macro_line|#ifdef CONFIG_SND_DEBUG
r_int
id|alc_gpio_data_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:semicolon
"&t;"
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
"&t;"
id|uinfo-&gt;value.integer.min
op_assign
l_int|0
suffix:semicolon
"&t;"
id|uinfo-&gt;value.integer.max
op_assign
l_int|1
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_gpio_data_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_int
r_char
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
"&t;"
r_int
op_star
id|valp
op_assign
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
r_int
id|val
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_GPIO_DATA
comma
l_int|0x00
)paren
suffix:semicolon
"&t;"
op_star
id|valp
op_assign
(paren
id|val
op_amp
id|mask
)paren
op_ne
l_int|0
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_gpio_data_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_int
r_int
id|change
suffix:semicolon
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_int
r_char
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
"&t;"
r_int
id|val
op_assign
op_star
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
r_int
id|gpio_data
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_GPIO_DATA
comma
l_int|0x00
)paren
suffix:semicolon
"&t;"
multiline_comment|/* Set/unset the masked GPIO bit(s) as needed */
"&t;"
id|change
op_assign
(paren
id|val
op_eq
l_int|0
ques
c_cond
l_int|0
suffix:colon
id|mask
)paren
op_ne
(paren
id|gpio_data
op_amp
id|mask
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|val
op_eq
l_int|0
)paren
"&t;&t;"
id|gpio_data
op_and_assign
op_complement
id|mask
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|gpio_data
op_or_assign
id|mask
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_GPIO_DATA
comma
id|gpio_data
)paren
suffix:semicolon
"&t;"
r_return
id|change
suffix:semicolon
)brace
macro_line|#define ALC_GPIO_DATA_SWITCH(xname, nid, mask) &bslash;&n;&t;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = 0,  &bslash;&n;&t;  .info = alc_gpio_data_info, &bslash;&n;&t;  .get = alc_gpio_data_get, &bslash;&n;&t;  .put = alc_gpio_data_put, &bslash;&n;&t;  .private_value = nid | (mask&lt;&lt;16) }
macro_line|#endif   /* CONFIG_SND_DEBUG */
multiline_comment|/* A switch control to allow the enabling of the digital IO pins on the&n; * ALC260.  This is incredibly simplistic; the intention of this control is&n; * to provide something in the test model allowing digital outputs to be&n; * identified if present.  If models are found which can utilise these&n; * outputs a more complete mixer control can be devised for those models if&n; * necessary.&n; */
macro_line|#ifdef CONFIG_SND_DEBUG
r_int
id|alc_spdif_ctrl_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_BOOLEAN
suffix:semicolon
"&t;"
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
"&t;"
id|uinfo-&gt;value.integer.min
op_assign
l_int|0
suffix:semicolon
"&t;"
id|uinfo-&gt;value.integer.max
op_assign
l_int|1
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_spdif_ctrl_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_int
r_char
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
"&t;"
r_int
op_star
id|valp
op_assign
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
r_int
id|val
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_DIGI_CONVERT
comma
l_int|0x00
)paren
suffix:semicolon
"&t;"
op_star
id|valp
op_assign
(paren
id|val
op_amp
id|mask
)paren
op_ne
l_int|0
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_spdif_ctrl_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_int
r_int
id|change
suffix:semicolon
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|kcontrol-&gt;private_value
op_amp
l_int|0xffff
suffix:semicolon
"&t;"
r_int
r_char
id|mask
op_assign
(paren
id|kcontrol-&gt;private_value
op_rshift
l_int|16
)paren
op_amp
l_int|0xff
suffix:semicolon
"&t;"
r_int
id|val
op_assign
op_star
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
r_int
id|ctrl_data
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_DIGI_CONVERT
comma
l_int|0x00
)paren
suffix:semicolon
"&t;"
multiline_comment|/* Set/unset the masked control bit(s) as needed */
"&t;"
id|change
op_assign
(paren
id|val
op_eq
l_int|0
ques
c_cond
l_int|0
suffix:colon
id|mask
)paren
op_ne
(paren
id|ctrl_data
op_amp
id|mask
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|val
op_eq
l_int|0
)paren
"&t;&t;"
id|ctrl_data
op_and_assign
op_complement
id|mask
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|ctrl_data
op_or_assign
id|mask
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_DIGI_CONVERT_1
comma
id|ctrl_data
)paren
suffix:semicolon
"&t;"
r_return
id|change
suffix:semicolon
)brace
macro_line|#define ALC_SPDIF_CTRL_SWITCH(xname, nid, mask) &bslash;&n;&t;{ .iface = SNDRV_CTL_ELEM_IFACE_MIXER, .name = xname, .index = 0,  &bslash;&n;&t;  .info = alc_spdif_ctrl_info, &bslash;&n;&t;  .get = alc_spdif_ctrl_get, &bslash;&n;&t;  .put = alc_spdif_ctrl_put, &bslash;&n;&t;  .private_value = nid | (mask&lt;&lt;16) }
macro_line|#endif   /* CONFIG_SND_DEBUG */
multiline_comment|/*&n; * set up from the preset table&n; */
r_void
id|setup_preset
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_const
r_struct
id|alc_config_preset
op_star
id|preset
)paren
(brace
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ARRAY_SIZE
c_func
(paren
id|preset-&gt;mixers
)paren
op_logical_and
id|preset-&gt;mixers
(braket
id|i
)braket
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
op_increment
)braket
op_assign
id|preset-&gt;mixers
(braket
id|i
)braket
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ARRAY_SIZE
c_func
(paren
id|preset-&gt;init_verbs
)paren
op_logical_and
id|preset-&gt;init_verbs
(braket
id|i
)braket
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|spec-&gt;init_verbs
(braket
id|spec-&gt;num_init_verbs
op_increment
)braket
op_assign
id|preset-&gt;init_verbs
(braket
id|i
)braket
suffix:semicolon
"&t;"
"&t;"
id|spec-&gt;channel_mode
op_assign
id|preset-&gt;channel_mode
suffix:semicolon
"&t;"
id|spec-&gt;num_channel_mode
op_assign
id|preset-&gt;num_channel_mode
suffix:semicolon
"&t;"
id|spec-&gt;multiout.max_channels
op_assign
id|spec-&gt;channel_mode
(braket
l_int|0
)braket
dot
id|channels
suffix:semicolon
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
id|preset-&gt;num_dacs
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dac_nids
op_assign
id|preset-&gt;dac_nids
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dig_out_nid
op_assign
id|preset-&gt;dig_out_nid
suffix:semicolon
"&t;"
id|spec-&gt;multiout.hp_nid
op_assign
id|preset-&gt;hp_nid
suffix:semicolon
"&t;"
"&t;"
id|spec-&gt;input_mux
op_assign
id|preset-&gt;input_mux
suffix:semicolon
"&t;"
id|spec-&gt;num_adc_nids
op_assign
id|preset-&gt;num_adc_nids
suffix:semicolon
"&t;"
id|spec-&gt;adc_nids
op_assign
id|preset-&gt;adc_nids
suffix:semicolon
"&t;"
id|spec-&gt;dig_in_nid
op_assign
id|preset-&gt;dig_in_nid
suffix:semicolon
"&t;"
id|spec-&gt;unsol_event
op_assign
id|preset-&gt;unsol_event
suffix:semicolon
"&t;"
id|spec-&gt;init_hook
op_assign
id|preset-&gt;init_hook
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC880 3-stack model&n; *&n; * DAC: Front = 0x02 (0x0c), Surr = 0x05 (0x0f), CLFE = 0x04 (0x0e)&n; * Pin assignment: Front = 0x14, Line-In/Surr = 0x1a, Mic/CLFE = 0x18, F-Mic = 0x1b&n; *                 HP = 0x19&n; */
id|hda_nid_t
id|alc880_dac_nids
(braket
l_int|4
)braket
op_assign
(brace
"&t;"
multiline_comment|/* front, rear, clfe, rear_surr */
"&t;"
l_int|0x02
comma
l_int|0x05
comma
l_int|0x04
comma
l_int|0x03
)brace
suffix:semicolon
id|hda_nid_t
id|alc880_adc_nids
(braket
l_int|3
)braket
op_assign
(brace
"&t;"
multiline_comment|/* ADC0-2 */
"&t;"
l_int|0x07
comma
l_int|0x08
comma
l_int|0x09
comma
)brace
suffix:semicolon
multiline_comment|/* The datasheet says the node 0x07 is connected from inputs,&n; * but it shows zero connection in the real implementation on some devices.&n; * Note: this is a 915GAV bug, fixed on 915GLV&n; */
id|hda_nid_t
id|alc880_adc_nids_alt
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
multiline_comment|/* ADC1-2 */
"&t;"
l_int|0x08
comma
l_int|0x09
comma
)brace
suffix:semicolon
macro_line|#define ALC880_DIGOUT_NID&t;0x06
macro_line|#define ALC880_DIGIN_NID&t;0x0a
r_struct
id|hda_input_mux
id|alc880_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|4
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Front Mic&quot;
comma
l_int|0x3
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Line&quot;
comma
l_int|0x2
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* channel source setting (2/6 channel selection for 3-stack) */
multiline_comment|/* 2ch mode */
r_struct
id|hda_verb
id|alc880_threestack_ch2_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set line-in to input, mute it */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* set mic-in to input vref 80%, mute it */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* 6ch mode */
r_struct
id|hda_verb
id|alc880_threestack_ch6_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set line-in to output, unmute it */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* set mic-in to output, unmute it */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_channel_mode
id|alc880_threestack_modes
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
(brace
l_int|2
comma
id|alc880_threestack_ch2_init
)brace
comma
"&t;"
(brace
l_int|6
comma
id|alc880_threestack_ch6_init
)brace
comma
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc880_three_stack_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Surround Playback Volume&quot;
comma
l_int|0x0f
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x0f
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Center Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;LFE Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x3
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x3
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;PC Speaker Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;PC Speaker Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x19
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_ch_mode_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_ch_mode_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_ch_mode_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* capture mixer elements */
r_struct
id|snd_kcontrol_new
id|alc880_capture_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|1
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|1
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|2
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|2
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; * FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|3
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* capture mixer elements (in case NID 0x07 not available) */
r_struct
id|snd_kcontrol_new
id|alc880_capture_alt_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|1
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|1
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; * FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|2
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/*&n; * ALC880 5-stack model&n; *&n; * DAC: Front = 0x02 (0x0c), Surr = 0x05 (0x0f), CLFE = 0x04 (0x0d), Side = 0x02 (0xd)&n; * Pin assignment: Front = 0x14, Surr = 0x17, CLFE = 0x16&n; *                 Line-In/Side = 0x1a, Mic = 0x18, F-Mic = 0x1b, HP = 0x19&n; */
multiline_comment|/* additional mixers to alc880_three_stack_mixer */
r_struct
id|snd_kcontrol_new
id|alc880_five_stack_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Side Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Side Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* channel source setting (6/8 channel selection for 5-stack) */
multiline_comment|/* 6ch mode */
r_struct
id|hda_verb
id|alc880_fivestack_ch6_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set line-in to input, mute it */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* 8ch mode */
r_struct
id|hda_verb
id|alc880_fivestack_ch8_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set line-in to output, unmute it */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_channel_mode
id|alc880_fivestack_modes
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
(brace
l_int|6
comma
id|alc880_fivestack_ch6_init
)brace
comma
"&t;"
(brace
l_int|8
comma
id|alc880_fivestack_ch8_init
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * ALC880 6-stack model&n; *&n; * DAC: Front = 0x02 (0x0c), Surr = 0x03 (0x0d), CLFE = 0x04 (0x0e), Side = 0x05 (0x0f)&n; * Pin assignment: Front = 0x14, Surr = 0x15, CLFE = 0x16, Side = 0x17,&n; *   Mic = 0x18, F-Mic = 0x19, Line = 0x1a, HP = 0x1b&n; */
id|hda_nid_t
id|alc880_6st_dac_nids
(braket
l_int|4
)braket
op_assign
(brace
"&t;"
multiline_comment|/* front, rear, clfe, rear_surr */
"&t;"
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
)brace
suffix:semicolon
"&t;"
r_struct
id|hda_input_mux
id|alc880_6stack_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|4
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Front Mic&quot;
comma
l_int|0x1
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Line&quot;
comma
l_int|0x2
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* fixed 8-channels */
r_struct
id|hda_channel_mode
id|alc880_sixstack_modes
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
(brace
l_int|8
comma
l_int|NULL
)brace
comma
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc880_six_stack_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Surround Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Center Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;LFE Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Side Playback Volume&quot;
comma
l_int|0x0f
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Side Playback Switch&quot;
comma
l_int|0x0f
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;PC Speaker Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;PC Speaker Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_ch_mode_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_ch_mode_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_ch_mode_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/*&n; * ALC880 W810 model&n; *&n; * W810 has rear IO for:&n; * Front (DAC 02)&n; * Surround (DAC 03)&n; * Center/LFE (DAC 04)&n; * Digital out (06)&n; *&n; * The system also has a pair of internal speakers, and a headphone jack.&n; * These are both connected to Line2 on the codec, hence to DAC 02.&n; * &n; * There is a variable resistor to control the speaker or headphone&n; * volume. This is a hardware-only device without a software API.&n; *&n; * Plugging headphones in will disable the internal speakers. This is&n; * implemented in hardware, not via the driver using jack sense. In&n; * a similar fashion, plugging into the rear socket marked &quot;front&quot; will&n; * disable both the speakers and headphones.&n; *&n; * For input, there&squot;s a microphone jack, and an &quot;audio in&quot; jack.&n; * These may not do anything useful with this driver yet, because I&n; * haven&squot;t setup any initialization verbs for these yet...&n; */
id|hda_nid_t
id|alc880_w810_dac_nids
(braket
l_int|3
)braket
op_assign
(brace
"&t;"
multiline_comment|/* front, rear/surround, clfe */
"&t;"
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
)brace
suffix:semicolon
multiline_comment|/* fixed 6 channels */
r_struct
id|hda_channel_mode
id|alc880_w810_modes
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
(brace
l_int|6
comma
l_int|NULL
)brace
)brace
suffix:semicolon
multiline_comment|/* Pin assignment: Front = 0x14, Surr = 0x15, CLFE = 0x16, HP = 0x1b */
r_struct
id|snd_kcontrol_new
id|alc880_w810_base_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Surround Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Center Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;LFE Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x1b
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/*&n; * Z710V model&n; *&n; * DAC: Front = 0x02 (0x0c), HP = 0x03 (0x0d)&n; * Pin assignment: Front = 0x14, HP = 0x15, Mic = 0x18, Mic2 = 0x19(?), Line = 0x1a&n; */
id|hda_nid_t
id|alc880_z71v_dac_nids
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
l_int|0x02
)brace
suffix:semicolon
macro_line|#define ALC880_Z71V_HP_DAC&t;0x03
multiline_comment|/* fixed 2 channels */
r_struct
id|hda_channel_mode
id|alc880_2_jack_modes
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
(brace
l_int|2
comma
l_int|NULL
)brace
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc880_z71v_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Headphone Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* FIXME! */
multiline_comment|/*&n; * ALC880 F1734 model&n; *&n; * DAC: HP = 0x02 (0x0c), Front = 0x03 (0x0d)&n; * Pin assignment: HP = 0x14, Front = 0x15, Mic = 0x18&n; */
id|hda_nid_t
id|alc880_f1734_dac_nids
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
l_int|0x03
)brace
suffix:semicolon
macro_line|#define ALC880_F1734_HP_DAC&t;0x02
r_struct
id|snd_kcontrol_new
id|alc880_f1734_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Headphone Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Internal Speaker Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Internal Speaker Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* FIXME! */
multiline_comment|/*&n; * ALC880 ASUS model&n; *&n; * DAC: HP/Front = 0x02 (0x0c), Surr = 0x03 (0x0d), CLFE = 0x04 (0x0e)&n; * Pin assignment: HP/Front = 0x14, Surr = 0x15, CLFE = 0x16,&n; *  Mic = 0x18, Line = 0x1a&n; */
macro_line|#define alc880_asus_dac_nids&t;alc880_w810_dac_nids&t;/* identical with w810 */
macro_line|#define alc880_asus_modes&t;alc880_threestack_modes&t;/* 2/6 channel mode */
r_struct
id|snd_kcontrol_new
id|alc880_asus_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Surround Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Center Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;LFE Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_ch_mode_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_ch_mode_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_ch_mode_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* FIXME! */
multiline_comment|/*&n; * ALC880 ASUS W1V model&n; *&n; * DAC: HP/Front = 0x02 (0x0c), Surr = 0x03 (0x0d), CLFE = 0x04 (0x0e)&n; * Pin assignment: HP/Front = 0x14, Surr = 0x15, CLFE = 0x16,&n; *  Mic = 0x18, Line = 0x1a, Line2 = 0x1b&n; */
multiline_comment|/* additional mixers to alc880_asus_mixer */
r_struct
id|snd_kcontrol_new
id|alc880_asus_w1v_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line2 Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x03
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line2 Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x03
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* additional mixers to alc880_asus_mixer */
r_struct
id|snd_kcontrol_new
id|alc880_pcbeep_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;PC Speaker Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;PC Speaker Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* TCL S700 */
r_struct
id|snd_kcontrol_new
id|alc880_tcl_s700_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x1b
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x14
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0B
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0B
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0B
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0B
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; * FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|1
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/*&n; * build control elements&n; */
r_int
id|alc_build_controls
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_mixers
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_add_new_ctls
c_func
(paren
id|codec
comma
id|spec-&gt;mixers
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dig_out_nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_create_spdif_out_ctls
c_func
(paren
id|codec
comma
id|spec-&gt;multiout.dig_out_nid
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dig_in_nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|snd_hda_create_spdif_in_ctls
c_func
(paren
id|codec
comma
id|spec-&gt;dig_in_nid
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * initialize the codec volumes, etc&n; */
multiline_comment|/*&n; * generic initialization of ADC, input mixers and output mixers&n; */
r_struct
id|hda_verb
id|alc880_volume_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0-2 and set the default input to mic-in&n;&t; */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute input amps (CD, Line In, Mic 1 &amp; Mic 2) of the analog-loopback&n;&t; * mixer widget&n;&t; * Note: PASD motherboards uses the Line In 2 as the input for front panel&n;&t; * mic (mic 2)&n;&t; */
"&t;"
multiline_comment|/* Amp Indices: Mic1 = 0, Mic2 = 1, Line1 = 2, Line2 = 3, CD = 4 */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/*&n;&t; * Set up output mixers (0x0c - 0x0f)&n;&t; */
"&t;"
multiline_comment|/* set vol=0 to output mixers */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* set up input amps for analog loopback */
"&t;"
multiline_comment|/* Amp Indices: DAC = 0, mixer = 1 */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * 3-stack pin configuration:&n; * front = 0x14, mic/clfe = 0x18, HP = 0x19, line/surr = 0x1a, f-mic = 0x1b&n; */
r_struct
id|hda_verb
id|alc880_pin_3stack_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * preset connection lists of input pins&n;&t; * 0 = front, 1 = rear_surr, 2 = CLFE, 3 = surround&n;&t; */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
multiline_comment|/* mic/clfe */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
multiline_comment|/* HP */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x03
)brace
comma
multiline_comment|/* line/surround */
"&t;"
multiline_comment|/*&n;&t; * Set pin mode and muting&n;&t; */
"&t;"
multiline_comment|/* set front pin widgets 0x14 for output */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Mic1 (rear panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* Mic2 (as headphone out) for HP output */
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Line In pin widget for input */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* Line2 (as front mic) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* CD pin widget for input */
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * 5-stack pin configuration:&n; * front = 0x14, surround = 0x17, clfe = 0x16, mic = 0x18, HP = 0x19,&n; * line-in/side = 0x1a, f-mic = 0x1b&n; */
r_struct
id|hda_verb
id|alc880_pin_5stack_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * preset connection lists of input pins&n;&t; * 0 = front, 1 = rear_surr, 2 = CLFE, 3 = surround&n;&t; */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
multiline_comment|/* HP */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
multiline_comment|/* line/side */
"&t;"
multiline_comment|/*&n;&t; * Set pin mode and muting&n;&t; */
"&t;"
multiline_comment|/* set pin widgets 0x14-0x17 for output */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
multiline_comment|/* unmute pins for output (no gain on this amp) */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Mic1 (rear panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* Mic2 (as headphone out) for HP output */
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Line In pin widget for input */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* Line2 (as front mic) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* CD pin widget for input */
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * W810 pin configuration:&n; * front = 0x14, surround = 0x15, clfe = 0x16, HP = 0x1b&n; */
r_struct
id|hda_verb
id|alc880_pin_w810_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* hphone/speaker input selector: front DAC */
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x0
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * Z71V pin configuration:&n; * Speaker-out = 0x14, HP = 0x15, Mic = 0x18, Line-in = 0x1a, Mic2 = 0x1b (?)&n; */
r_struct
id|hda_verb
id|alc880_pin_z71v_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * 6-stack pin configuration:&n; * front = 0x14, surr = 0x15, clfe = 0x16, side = 0x17, mic = 0x18, f-mic = 0x19,&n; * line = 0x1a, HP = 0x1b&n; */
r_struct
id|hda_verb
id|alc880_pin_6stack_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
multiline_comment|/* HP */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* FIXME! */
multiline_comment|/*&n; * F1734 pin configuration:&n; * HP = 0x14, speaker-out = 0x15, mic = 0x18&n; */
r_struct
id|hda_verb
id|alc880_pin_f1734_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* FIXME! */
multiline_comment|/*&n; * ASUS pin configuration:&n; * HP/front = 0x14, surr = 0x15, clfe = 0x16, mic = 0x18, line = 0x1a&n; */
r_struct
id|hda_verb
id|alc880_pin_asus_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* Enable GPIO mask and set output */
r_struct
id|hda_verb
id|alc880_gpio1_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x01
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* Enable GPIO mask and set output */
r_struct
id|hda_verb
id|alc880_gpio2_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x02
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x02
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x02
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* Clevo m520g init */
r_struct
id|hda_verb
id|alc880_pin_clevo_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* headphone output */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
multiline_comment|/* line-out */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Line-in */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* CD */
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Mic1 (rear panel) */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Mic2 (front panel) */
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* headphone */
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
multiline_comment|/* change to EAPD mode */
"&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|0x07
)brace
comma
"&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x3060
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc880_pin_tcl_S700_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Headphone output */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
multiline_comment|/* Front output*/
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Line In pin widget for input */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* CD pin widget for input */
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* Mic1 (rear panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
multiline_comment|/* change to EAPD mode */
"&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|0x07
)brace
comma
"&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_PROC_COEF
comma
l_int|0x3070
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * LG m1 express dual&n; *&n; * Pin assignment:&n; *   Rear Line-In/Out (blue): 0x14&n; *   Build-in Mic-In: 0x15&n; *   Speaker-out: 0x17&n; *   HP-Out (green): 0x1b&n; *   Mic-In/Out (red): 0x19&n; *   SPDIF-Out: 0x1e&n; */
multiline_comment|/* To make 5.1 output working (green=Front, blue=Surr, red=CLFE) */
id|hda_nid_t
id|alc880_lg_dac_nids
(braket
l_int|3
)braket
op_assign
(brace
"&t;"
l_int|0x05
comma
l_int|0x02
comma
l_int|0x03
)brace
suffix:semicolon
multiline_comment|/* seems analog CD is not working */
r_struct
id|hda_input_mux
id|alc880_lg_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|3
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x1
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Line&quot;
comma
l_int|0x5
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Internal Mic&quot;
comma
l_int|0x6
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* 2,4,6 channel modes */
r_struct
id|hda_verb
id|alc880_lg_ch2_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set line-in and mic-in to input */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc880_lg_ch4_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set line-in to out and mic-in to input */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc880_lg_ch6_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set line-in and mic-in to output */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_channel_mode
id|alc880_lg_ch_modes
(braket
l_int|3
)braket
op_assign
(brace
"&t;"
(brace
l_int|2
comma
id|alc880_lg_ch2_init
)brace
comma
"&t;"
(brace
l_int|4
comma
id|alc880_lg_ch4_init
)brace
comma
"&t;"
(brace
l_int|6
comma
id|alc880_lg_ch6_init
)brace
comma
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc880_lg_mixer
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* FIXME: it&squot;s not really &quot;master&quot; but front channels */
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Master Playback Volume&quot;
comma
l_int|0x0f
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Master Playback Switch&quot;
comma
l_int|0x0f
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Surround Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Center Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;LFE Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x06
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x06
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Internal Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x07
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Internal Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x07
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_ch_mode_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_ch_mode_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_ch_mode_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc880_lg_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set capture source to mic-in */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* mute all amp mixer inputs */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|5
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|6
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|7
)paren
)brace
comma
"&t;"
multiline_comment|/* line-in to input */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* built-in mic */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* speaker-out */
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* mic-in to input */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* HP-out */
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x03
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* jack sense */
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_UNSOLICITED_ENABLE
comma
id|AC_USRSP_EN
op_or
l_int|0x1
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* toggle speaker-output according to the hp-jack state */
r_void
id|alc880_lg_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_int
r_int
id|present
suffix:semicolon
"&t;"
id|present
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x1b
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_GET_PIN_SENSE
comma
l_int|0
)paren
op_amp
l_int|0x80000000
suffix:semicolon
"&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x17
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;"
l_int|0x80
comma
id|present
ques
c_cond
l_int|0x80
suffix:colon
l_int|0
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x17
comma
l_int|1
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;"
l_int|0x80
comma
id|present
ques
c_cond
l_int|0x80
suffix:colon
l_int|0
)paren
suffix:semicolon
)brace
r_void
id|alc880_lg_unsol_event
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|res
)paren
(brace
"&t;"
multiline_comment|/* Looks like the unsol event is incompatible with the standard&n;&t; * definition.  4bit tag is placed at 28 bit!&n;&t; */
"&t;"
r_if
c_cond
(paren
(paren
id|res
op_rshift
l_int|28
)paren
op_eq
l_int|0x01
)paren
"&t;&t;"
id|alc880_lg_automute
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Common callbacks&n; */
r_int
id|alc_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_init_verbs
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|snd_hda_sequence_write
c_func
(paren
id|codec
comma
id|spec-&gt;init_verbs
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;init_hook
)paren
"&t;&t;"
id|spec
op_member_access_from_pointer
id|init_hook
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_void
id|alc_unsol_event
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
r_int
id|res
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;unsol_event
)paren
"&t;&t;"
id|spec
op_member_access_from_pointer
id|unsol_event
c_func
(paren
id|codec
comma
id|res
)paren
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_PM
multiline_comment|/*&n; * resume&n; */
r_int
id|alc_resume
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
id|alc_init
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_mixers
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;"
id|snd_hda_resume_ctls
c_func
(paren
id|codec
comma
id|spec-&gt;mixers
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dig_out_nid
)paren
"&t;&t;"
id|snd_hda_resume_spdif_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;dig_in_nid
)paren
"&t;&t;"
id|snd_hda_resume_spdif_in
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
multiline_comment|/*&n; * Analog playback callbacks&n; */
r_int
id|alc880_playback_pcm_open
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_analog_open
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
comma
id|substream
)paren
suffix:semicolon
)brace
r_int
id|alc880_playback_pcm_prepare
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|stream_tag
comma
"&t;&t;&t;&t;"
r_int
r_int
id|format
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_analog_prepare
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
comma
id|stream_tag
comma
"&t;&t;&t;&t;&t;&t;"
id|format
comma
id|substream
)paren
suffix:semicolon
)brace
r_int
id|alc880_playback_pcm_cleanup
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_analog_cleanup
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Digital out&n; */
r_int
id|alc880_dig_playback_pcm_open
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_dig_open
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
)brace
r_int
id|alc880_dig_playback_pcm_close
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_return
id|snd_hda_multi_out_dig_close
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;multiout
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Analog capture&n; */
r_int
id|alc880_capture_pcm_prepare
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|stream_tag
comma
"&t;&t;&t;&t;"
r_int
r_int
id|format
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|snd_hda_codec_setup_stream
c_func
(paren
id|codec
comma
id|spec-&gt;adc_nids
(braket
id|substream-&gt;number
)braket
comma
"&t;&t;&t;&t;"
id|stream_tag
comma
l_int|0
comma
id|format
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc880_capture_pcm_cleanup
c_func
(paren
r_struct
id|hda_pcm_stream
op_star
id|hinfo
comma
"&t;&t;&t;&t;"
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_struct
id|snd_pcm_substream
op_star
id|substream
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|snd_hda_codec_setup_stream
c_func
(paren
id|codec
comma
id|spec-&gt;adc_nids
(braket
id|substream-&gt;number
)braket
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; */
r_struct
id|hda_pcm_stream
id|alc880_pcm_analog_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|8
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|open
op_assign
id|alc880_playback_pcm_open
comma
"&t;&t;"
dot
id|prepare
op_assign
id|alc880_playback_pcm_prepare
comma
"&t;&t;"
dot
id|cleanup
op_assign
id|alc880_playback_pcm_cleanup
"&t;"
)brace
comma
)brace
suffix:semicolon
r_struct
id|hda_pcm_stream
id|alc880_pcm_analog_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|2
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|prepare
op_assign
id|alc880_capture_pcm_prepare
comma
"&t;&t;"
dot
id|cleanup
op_assign
id|alc880_capture_pcm_cleanup
"&t;"
)brace
comma
)brace
suffix:semicolon
r_struct
id|hda_pcm_stream
id|alc880_pcm_digital_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
"&t;"
dot
id|ops
op_assign
(brace
"&t;&t;"
dot
id|open
op_assign
id|alc880_dig_playback_pcm_open
comma
"&t;&t;"
dot
id|close
op_assign
id|alc880_dig_playback_pcm_close
"&t;"
)brace
comma
)brace
suffix:semicolon
r_struct
id|hda_pcm_stream
id|alc880_pcm_digital_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
"&t;"
multiline_comment|/* NID is set in alc_build_pcms */
)brace
suffix:semicolon
multiline_comment|/* Used by alc_build_pcms to flag that a PCM has no playback stream */
r_struct
id|hda_pcm_stream
id|alc_pcm_null_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|0
comma
"&t;"
dot
id|channels_min
op_assign
l_int|0
comma
"&t;"
dot
id|channels_max
op_assign
l_int|0
comma
)brace
suffix:semicolon
r_int
id|alc_build_pcms
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_struct
id|hda_pcm
op_star
id|info
op_assign
id|spec-&gt;pcm_rec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
id|codec-&gt;num_pcms
op_assign
l_int|1
suffix:semicolon
"&t;"
id|codec-&gt;pcm_info
op_assign
id|info
suffix:semicolon
"&t;"
id|info-&gt;name
op_assign
id|spec-&gt;stream_name_analog
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;stream_analog_playback
)paren
(brace
"&t;&t;"
id|snd_assert
c_func
(paren
id|spec-&gt;multiout.dac_nids
comma
r_return
id|EINVAL
)paren
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
op_assign
op_star
(paren
id|spec-&gt;stream_analog_playback
)paren
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|nid
op_assign
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;stream_analog_capture
)paren
(brace
"&t;&t;"
id|snd_assert
c_func
(paren
id|spec-&gt;adc_nids
comma
r_return
id|EINVAL
)paren
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
op_assign
op_star
(paren
id|spec-&gt;stream_analog_capture
)paren
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|nid
op_assign
id|spec-&gt;adc_nids
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;channel_mode
)paren
(brace
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|channels_max
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_channel_mode
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;channel_mode
(braket
id|i
)braket
dot
id|channels
OG
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|channels_max
)paren
(brace
"&t;&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|channels_max
op_assign
id|spec-&gt;channel_mode
(braket
id|i
)braket
dot
id|channels
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
multiline_comment|/* If the use of more than one ADC is requested for the current&n;&t; * model, configure a second analog capture-only PCM.&n;&t; */
"&t;"
r_if
c_cond
(paren
id|spec-&gt;num_adc_nids
OG
l_int|1
)paren
(brace
"&t;&t;"
id|codec-&gt;num_pcms
op_increment
suffix:semicolon
"&t;&t;"
id|info
op_increment
suffix:semicolon
"&t;&t;"
id|info-&gt;name
op_assign
id|spec-&gt;stream_name_analog
suffix:semicolon
"&t;&t;"
multiline_comment|/* No playback stream for second PCM */
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
op_assign
id|alc_pcm_null_playback
suffix:semicolon
"&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|nid
op_assign
l_int|0
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;stream_analog_capture
)paren
(brace
"&t;&t;&t;"
id|snd_assert
c_func
(paren
id|spec-&gt;adc_nids
comma
r_return
id|EINVAL
)paren
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
op_assign
op_star
(paren
id|spec-&gt;stream_analog_capture
)paren
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|nid
op_assign
id|spec-&gt;adc_nids
(braket
l_int|1
)braket
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dig_out_nid
op_logical_or
id|spec-&gt;dig_in_nid
)paren
(brace
"&t;&t;"
id|codec-&gt;num_pcms
op_increment
suffix:semicolon
"&t;&t;"
id|info
op_increment
suffix:semicolon
"&t;&t;"
id|info-&gt;name
op_assign
id|spec-&gt;stream_name_digital
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dig_out_nid
op_logical_and
"&t;&t;"
id|spec-&gt;stream_digital_playback
)paren
(brace
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
op_assign
op_star
(paren
id|spec-&gt;stream_digital_playback
)paren
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_PLAYBACK
)braket
dot
id|nid
op_assign
id|spec-&gt;multiout.dig_out_nid
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;dig_in_nid
op_logical_and
"&t;&t;"
id|spec-&gt;stream_digital_capture
)paren
(brace
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
op_assign
op_star
(paren
id|spec-&gt;stream_digital_capture
)paren
suffix:semicolon
"&t;&t;&t;"
id|info-&gt;stream
(braket
id|SNDRV_PCM_STREAM_CAPTURE
)braket
dot
id|nid
op_assign
id|spec-&gt;dig_in_nid
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_void
id|alc_free
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|i
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;kctl_alloc
)paren
(brace
"&t;&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;num_kctl_used
suffix:semicolon
id|i
op_increment
)paren
"&t;&t;&t;"
id|kfree
c_func
(paren
id|spec-&gt;kctl_alloc
(braket
id|i
)braket
dot
id|name
)paren
suffix:semicolon
"&t;&t;"
id|kfree
c_func
(paren
id|spec-&gt;kctl_alloc
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
id|kfree
c_func
(paren
id|spec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; */
r_struct
id|hda_codec_ops
id|alc_patch_ops
op_assign
(brace
"&t;"
dot
id|build_controls
op_assign
id|alc_build_controls
comma
"&t;"
dot
id|build_pcms
op_assign
id|alc_build_pcms
comma
"&t;"
dot
id|init
op_assign
id|alc_init
comma
"&t;"
dot
id|free
op_assign
id|alc_free
comma
"&t;"
dot
id|unsol_event
op_assign
id|alc_unsol_event
comma
macro_line|#ifdef CONFIG_PM
"&t;"
dot
id|resume
op_assign
id|alc_resume
comma
macro_line|#endif
)brace
suffix:semicolon
multiline_comment|/*&n; * Test configuration for debugging&n; *&n; * Almost all inputs/outputs are enabled.  I/O pins can be configured via&n; * enum controls.&n; */
macro_line|#ifdef CONFIG_SND_DEBUG
id|hda_nid_t
id|alc880_test_dac_nids
(braket
l_int|4
)braket
op_assign
(brace
"&t;"
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
)brace
suffix:semicolon
r_struct
id|hda_input_mux
id|alc880_test_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|7
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;In-1&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;In-2&quot;
comma
l_int|0x1
)brace
comma
"&t;&t;"
(brace
l_string|&quot;In-3&quot;
comma
l_int|0x2
)brace
comma
"&t;&t;"
(brace
l_string|&quot;In-4&quot;
comma
l_int|0x3
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Front&quot;
comma
l_int|0x5
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Surround&quot;
comma
l_int|0x6
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
r_struct
id|hda_channel_mode
id|alc880_test_modes
(braket
l_int|4
)braket
op_assign
(brace
"&t;"
(brace
l_int|2
comma
l_int|NULL
)brace
comma
"&t;"
(brace
l_int|4
comma
l_int|NULL
)brace
comma
"&t;"
(brace
l_int|6
comma
l_int|NULL
)brace
comma
"&t;"
(brace
l_int|8
comma
l_int|NULL
)brace
comma
)brace
suffix:semicolon
r_int
id|alc_test_pin_ctl_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_char
op_star
id|texts
(braket
)braket
op_assign
(brace
"&t;&t;"
l_string|&quot;N/A&quot;
comma
l_string|&quot;Line Out&quot;
comma
l_string|&quot;HP Out&quot;
comma
"&t;&t;"
l_string|&quot;In Hi-Z&quot;
comma
l_string|&quot;In 50%&quot;
comma
l_string|&quot;In Grd&quot;
comma
l_string|&quot;In 80%&quot;
comma
l_string|&quot;In 100%&quot;
"&t;"
)brace
suffix:semicolon
"&t;"
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_ENUMERATED
suffix:semicolon
"&t;"
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
"&t;"
id|uinfo-&gt;value.enumerated.items
op_assign
l_int|8
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|uinfo-&gt;value.enumerated.item
op_ge
l_int|8
)paren
"&t;&t;"
id|uinfo-&gt;value.enumerated.item
op_assign
l_int|7
suffix:semicolon
"&t;"
id|strcpy
c_func
(paren
id|uinfo-&gt;value.enumerated.name
comma
id|texts
(braket
id|uinfo-&gt;value.enumerated.item
)braket
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_test_pin_ctl_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
(paren
id|hda_nid_t
)paren
id|kcontrol-&gt;private_value
suffix:semicolon
"&t;"
r_int
r_int
id|pin_ctl
comma
id|item
op_assign
l_int|0
suffix:semicolon
"&t;"
id|pin_ctl
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_GET_PIN_WIDGET_CONTROL
comma
l_int|0
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|pin_ctl
op_amp
id|AC_PINCTL_OUT_EN
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|pin_ctl
op_amp
id|AC_PINCTL_HP_EN
)paren
"&t;&t;&t;"
id|item
op_assign
l_int|2
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|item
op_assign
l_int|1
suffix:semicolon
"&t;"
)brace
r_else
r_if
c_cond
(paren
id|pin_ctl
op_amp
id|AC_PINCTL_IN_EN
)paren
(brace
"&t;&t;"
r_switch
c_cond
(paren
id|pin_ctl
op_amp
id|AC_PINCTL_VREFEN
)paren
(brace
"&t;&t;"
r_case
id|AC_PINCTL_VREF_HIZ
suffix:colon
id|item
op_assign
l_int|3
suffix:semicolon
r_break
suffix:semicolon
"&t;&t;"
r_case
id|AC_PINCTL_VREF_50
suffix:colon
id|item
op_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
"&t;&t;"
r_case
id|AC_PINCTL_VREF_GRD
suffix:colon
id|item
op_assign
l_int|5
suffix:semicolon
r_break
suffix:semicolon
"&t;&t;"
r_case
id|AC_PINCTL_VREF_80
suffix:colon
id|item
op_assign
l_int|6
suffix:semicolon
r_break
suffix:semicolon
"&t;&t;"
r_case
id|AC_PINCTL_VREF_100
suffix:colon
id|item
op_assign
l_int|7
suffix:semicolon
r_break
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
id|item
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_test_pin_ctl_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
(paren
id|hda_nid_t
)paren
id|kcontrol-&gt;private_value
suffix:semicolon
"&t;"
r_int
r_int
id|ctls
(braket
)braket
op_assign
(brace
"&t;&t;"
l_int|0
comma
id|AC_PINCTL_OUT_EN
comma
id|AC_PINCTL_OUT_EN
op_or
id|AC_PINCTL_HP_EN
comma
"&t;&t;"
id|AC_PINCTL_IN_EN
op_or
id|AC_PINCTL_VREF_HIZ
comma
"&t;&t;"
id|AC_PINCTL_IN_EN
op_or
id|AC_PINCTL_VREF_50
comma
"&t;&t;"
id|AC_PINCTL_IN_EN
op_or
id|AC_PINCTL_VREF_GRD
comma
"&t;&t;"
id|AC_PINCTL_IN_EN
op_or
id|AC_PINCTL_VREF_80
comma
"&t;&t;"
id|AC_PINCTL_IN_EN
op_or
id|AC_PINCTL_VREF_100
comma
"&t;"
)brace
suffix:semicolon
"&t;"
r_int
r_int
id|old_ctl
comma
id|new_ctl
suffix:semicolon
"&t;"
id|old_ctl
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_GET_PIN_WIDGET_CONTROL
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|new_ctl
op_assign
id|ctls
(braket
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|old_ctl
op_ne
id|new_ctl
)paren
(brace
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|new_ctl
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_ge
l_int|3
ques
c_cond
l_int|0xb080
suffix:colon
l_int|0xb000
)paren
suffix:semicolon
"&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_test_pin_src_info
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_info
op_star
id|uinfo
)paren
(brace
"&t;"
r_char
op_star
id|texts
(braket
)braket
op_assign
(brace
"&t;&t;"
l_string|&quot;Front&quot;
comma
l_string|&quot;Surround&quot;
comma
l_string|&quot;CLFE&quot;
comma
l_string|&quot;Side&quot;
"&t;"
)brace
suffix:semicolon
"&t;"
id|uinfo-&gt;type
op_assign
id|SNDRV_CTL_ELEM_TYPE_ENUMERATED
suffix:semicolon
"&t;"
id|uinfo-&gt;count
op_assign
l_int|1
suffix:semicolon
"&t;"
id|uinfo-&gt;value.enumerated.items
op_assign
l_int|4
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|uinfo-&gt;value.enumerated.item
op_ge
l_int|4
)paren
"&t;&t;"
id|uinfo-&gt;value.enumerated.item
op_assign
l_int|3
suffix:semicolon
"&t;"
id|strcpy
c_func
(paren
id|uinfo-&gt;value.enumerated.name
comma
id|texts
(braket
id|uinfo-&gt;value.enumerated.item
)braket
)paren
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_test_pin_src_get
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
(paren
id|hda_nid_t
)paren
id|kcontrol-&gt;private_value
suffix:semicolon
"&t;"
r_int
r_int
id|sel
suffix:semicolon
"&t;"
id|sel
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_CONNECT_SEL
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_assign
id|sel
op_amp
l_int|3
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc_test_pin_src_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
(paren
id|hda_nid_t
)paren
id|kcontrol-&gt;private_value
suffix:semicolon
"&t;"
r_int
r_int
id|sel
suffix:semicolon
"&t;"
id|sel
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_GET_CONNECT_SEL
comma
l_int|0
)paren
op_amp
l_int|3
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_ne
id|sel
)paren
(brace
"&t;&t;"
id|sel
op_assign
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
op_amp
l_int|3
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_CONNECT_SEL
comma
id|sel
)paren
suffix:semicolon
"&t;&t;"
r_return
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#define PIN_CTL_TEST(xname,nid) {&t;&t;&t;&bslash;&n;&t;&t;.iface = SNDRV_CTL_ELEM_IFACE_MIXER,&t;&bslash;&n;&t;&t;&t;.name = xname,&t;&t;       &bslash;&n;&t;&t;&t;.info = alc_test_pin_ctl_info, &bslash;&n;&t;&t;&t;.get = alc_test_pin_ctl_get,   &bslash;&n;&t;&t;&t;.put = alc_test_pin_ctl_put,   &bslash;&n;&t;&t;&t;.private_value = nid&t;       &bslash;&n;&t;&t;&t;}
macro_line|#define PIN_SRC_TEST(xname,nid) {&t;&t;&t;&bslash;&n;&t;&t;.iface = SNDRV_CTL_ELEM_IFACE_MIXER,&t;&bslash;&n;&t;&t;&t;.name = xname,&t;&t;       &bslash;&n;&t;&t;&t;.info = alc_test_pin_src_info, &bslash;&n;&t;&t;&t;.get = alc_test_pin_src_get,   &bslash;&n;&t;&t;&t;.put = alc_test_pin_src_put,   &bslash;&n;&t;&t;&t;.private_value = nid&t;       &bslash;&n;&t;&t;&t;}
r_struct
id|snd_kcontrol_new
id|alc880_test_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Surround Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CLFE Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Side Playback Volume&quot;
comma
l_int|0x0f
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;CLFE Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Side Playback Switch&quot;
comma
l_int|0x0f
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;Front Pin Mode&quot;
comma
l_int|0x14
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;Surround Pin Mode&quot;
comma
l_int|0x15
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;CLFE Pin Mode&quot;
comma
l_int|0x16
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;Side Pin Mode&quot;
comma
l_int|0x17
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;In-1 Pin Mode&quot;
comma
l_int|0x18
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;In-2 Pin Mode&quot;
comma
l_int|0x19
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;In-3 Pin Mode&quot;
comma
l_int|0x1a
)paren
comma
"&t;"
id|PIN_CTL_TEST
c_func
(paren
l_string|&quot;In-4 Pin Mode&quot;
comma
l_int|0x1b
)paren
comma
"&t;"
id|PIN_SRC_TEST
c_func
(paren
l_string|&quot;In-1 Pin Source&quot;
comma
l_int|0x18
)paren
comma
"&t;"
id|PIN_SRC_TEST
c_func
(paren
l_string|&quot;In-2 Pin Source&quot;
comma
l_int|0x19
)paren
comma
"&t;"
id|PIN_SRC_TEST
c_func
(paren
l_string|&quot;In-3 Pin Source&quot;
comma
l_int|0x1a
)paren
comma
"&t;"
id|PIN_SRC_TEST
c_func
(paren
l_string|&quot;In-4 Pin Source&quot;
comma
l_int|0x1b
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;In-1 Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;In-1 Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;In-2 Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;In-2 Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;In-3 Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;In-3 Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;In-4 Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x3
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;In-4 Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x3
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x4
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x4
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_ch_mode_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_ch_mode_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_ch_mode_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc880_test_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Unmute inputs of 0x0c - 0x0f */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* Vol output for 0x0c-0x0f */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* Set output pins 0x14-0x17 */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
multiline_comment|/* Unmute output pins 0x14-0x17 */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Set input pins 0x18-0x1c */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* Mute input pins 0x18-0x1b */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* ADC set up */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Analog input/passthru */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
macro_line|#endif
multiline_comment|/*&n; */
r_struct
id|hda_board_config
id|alc880_cfg_tbl
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Back 3 jack, front 2 jack */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;3stack&quot;
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe200
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe201
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe202
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe203
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe204
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe205
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe206
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe207
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe208
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe209
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe20a
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe20b
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe20c
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe20d
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe20e
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe20f
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe210
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe211
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe214
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe302
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe303
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe304
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe306
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe307
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe404
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xa101
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x3031
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x4036
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x4037
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x4038
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x4040
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x4041
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
multiline_comment|/* TCL S700 */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x19db
comma
dot
id|pci_subdevice
op_assign
l_int|0x4188
comma
dot
id|config
op_assign
id|ALC880_TCL_S700
)brace
comma
"&t;"
multiline_comment|/* Back 3 jack, front 2 jack (Internal add Aux-In) */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1025
comma
dot
id|pci_subdevice
op_assign
l_int|0xe310
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x104d
comma
dot
id|pci_subdevice
op_assign
l_int|0x81d6
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x104d
comma
dot
id|pci_subdevice
op_assign
l_int|0x81a0
comma
dot
id|config
op_assign
id|ALC880_3ST
)brace
comma
"&t;"
multiline_comment|/* Back 3 jack plus 1 SPDIF out jack, front 2 jack */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;3stack-digout&quot;
comma
dot
id|config
op_assign
id|ALC880_3ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe308
comma
dot
id|config
op_assign
id|ALC880_3ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1025
comma
dot
id|pci_subdevice
op_assign
l_int|0x0070
comma
dot
id|config
op_assign
id|ALC880_3ST_DIG
)brace
comma
"&t;"
multiline_comment|/* Clevo m520G NB */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1558
comma
dot
id|pci_subdevice
op_assign
l_int|0x0520
comma
dot
id|config
op_assign
id|ALC880_CLEVO
)brace
comma
"&t;"
multiline_comment|/* Back 3 jack plus 1 SPDIF out jack, front 2 jack (Internal add Aux-In)*/
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe305
comma
dot
id|config
op_assign
id|ALC880_3ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xd402
comma
dot
id|config
op_assign
id|ALC880_3ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1025
comma
dot
id|pci_subdevice
op_assign
l_int|0xe309
comma
dot
id|config
op_assign
id|ALC880_3ST_DIG
)brace
comma
"&t;"
multiline_comment|/* Back 5 jack, front 2 jack */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;5stack&quot;
comma
dot
id|config
op_assign
id|ALC880_5ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x3033
comma
dot
id|config
op_assign
id|ALC880_5ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x4039
comma
dot
id|config
op_assign
id|ALC880_5ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x107b
comma
dot
id|pci_subdevice
op_assign
l_int|0x3032
comma
dot
id|config
op_assign
id|ALC880_5ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x2a09
comma
dot
id|config
op_assign
id|ALC880_5ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x814e
comma
dot
id|config
op_assign
id|ALC880_5ST
)brace
comma
"&t;"
multiline_comment|/* Back 5 jack plus 1 SPDIF out jack, front 2 jack */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;5stack-digout&quot;
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe224
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe400
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe401
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xe402
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xd400
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xd401
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xa100
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1565
comma
dot
id|pci_subdevice
op_assign
l_int|0x8202
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1019
comma
dot
id|pci_subdevice
op_assign
l_int|0xa880
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0xa0a0
comma
dot
id|pci_subdevice
op_assign
l_int|0x0560
comma
"&t;"
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
multiline_comment|/* Aopen i915GMm-HFS */
"&t;"
multiline_comment|/* { .pci_subvendor = 0x1019, .pci_subdevice = 0xa884, .config = ALC880_5ST_DIG }, */
multiline_comment|/* conflict with 6stack */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1695
comma
dot
id|pci_subdevice
op_assign
l_int|0x400d
comma
dot
id|config
op_assign
id|ALC880_5ST_DIG
)brace
comma
"&t;"
multiline_comment|/* note subvendor = 0 below */
"&t;"
multiline_comment|/* { .pci_subvendor = 0x0000, .pci_subdevice = 0x8086, .config = ALC880_5ST_DIG }, */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;w810&quot;
comma
dot
id|config
op_assign
id|ALC880_W810
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x161f
comma
dot
id|pci_subdevice
op_assign
l_int|0x203d
comma
dot
id|config
op_assign
id|ALC880_W810
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;z71v&quot;
comma
dot
id|config
op_assign
id|ALC880_Z71V
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1964
comma
dot
id|config
op_assign
id|ALC880_Z71V
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;6stack&quot;
comma
dot
id|config
op_assign
id|ALC880_6ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x8196
comma
dot
id|config
op_assign
id|ALC880_6ST
)brace
comma
multiline_comment|/* ASUS P5GD1-HVM */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x81b4
comma
dot
id|config
op_assign
id|ALC880_6ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1019
comma
dot
id|pci_subdevice
op_assign
l_int|0xa884
comma
dot
id|config
op_assign
id|ALC880_6ST
)brace
comma
multiline_comment|/* Acer APFV */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1458
comma
dot
id|pci_subdevice
op_assign
l_int|0xa102
comma
dot
id|config
op_assign
id|ALC880_6ST
)brace
comma
multiline_comment|/* Gigabyte K8N51 */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;6stack-digout&quot;
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x2668
comma
dot
id|pci_subdevice
op_assign
l_int|0x8086
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0x2668
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1462
comma
dot
id|pci_subdevice
op_assign
l_int|0x1150
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0xe803
comma
dot
id|pci_subdevice
op_assign
l_int|0x1019
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1039
comma
dot
id|pci_subdevice
op_assign
l_int|0x1234
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1025
comma
dot
id|pci_subdevice
op_assign
l_int|0x0077
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1025
comma
dot
id|pci_subdevice
op_assign
l_int|0x0078
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1025
comma
dot
id|pci_subdevice
op_assign
l_int|0x0087
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1297
comma
dot
id|pci_subdevice
op_assign
l_int|0xc790
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
multiline_comment|/* Shuttle ST20G5 */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1509
comma
dot
id|pci_subdevice
op_assign
l_int|0x925d
comma
dot
id|config
op_assign
id|ALC880_6ST_DIG
)brace
comma
multiline_comment|/* FIC P4M-915GD1 */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;asus&quot;
comma
dot
id|config
op_assign
id|ALC880_ASUS
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1964
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1973
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x19b3
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1113
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1173
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1993
comma
dot
id|config
op_assign
id|ALC880_ASUS
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x10c3
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1133
comma
dot
id|config
op_assign
id|ALC880_ASUS
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1123
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x1143
comma
dot
id|config
op_assign
id|ALC880_ASUS
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x10b3
comma
dot
id|config
op_assign
id|ALC880_ASUS_W1V
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1043
comma
dot
id|pci_subdevice
op_assign
l_int|0x8181
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG
)brace
comma
multiline_comment|/* ASUS P4GPL-X */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1558
comma
dot
id|pci_subdevice
op_assign
l_int|0x5401
comma
dot
id|config
op_assign
id|ALC880_ASUS_DIG2
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;uniwill&quot;
comma
dot
id|config
op_assign
id|ALC880_UNIWILL_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1584
comma
dot
id|pci_subdevice
op_assign
l_int|0x9050
comma
dot
id|config
op_assign
id|ALC880_UNIWILL_DIG
)brace
comma
"&t;"
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;F1734&quot;
comma
dot
id|config
op_assign
id|ALC880_F1734
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1734
comma
dot
id|pci_subdevice
op_assign
l_int|0x107c
comma
dot
id|config
op_assign
id|ALC880_F1734
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1584
comma
dot
id|pci_subdevice
op_assign
l_int|0x9054
comma
dot
id|config
op_assign
id|ALC880_F1734
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;lg&quot;
comma
dot
id|config
op_assign
id|ALC880_LG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1854
comma
dot
id|pci_subdevice
op_assign
l_int|0x003b
comma
dot
id|config
op_assign
id|ALC880_LG
)brace
comma
macro_line|#ifdef CONFIG_SND_DEBUG
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;test&quot;
comma
dot
id|config
op_assign
id|ALC880_TEST
)brace
comma
macro_line|#endif
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;auto&quot;
comma
dot
id|config
op_assign
id|ALC880_AUTO
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * ALC880 codec presets&n; */
r_struct
id|alc_config_preset
id|alc880_presets
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC880_3ST
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_three_stack_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_3stack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_dac_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_threestack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_threestack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_3ST_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_three_stack_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_3stack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_threestack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_threestack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_TCL_S700
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_tcl_s700_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_pin_tcl_S700_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_gpio2_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_dac_nids
comma
"&t;&t;"
dot
id|hp_nid
op_assign
l_int|0x03
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_2_jack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_2_jack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_5ST
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_three_stack_mixer
comma
id|alc880_five_stack_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_5stack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_dac_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_fivestack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_fivestack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_5ST_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_three_stack_mixer
comma
id|alc880_five_stack_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_5stack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_fivestack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_fivestack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_6ST
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_six_stack_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_6stack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_6st_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_6st_dac_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_sixstack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_sixstack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_6stack_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_6ST_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_six_stack_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_6stack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_6st_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_6st_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_sixstack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_sixstack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_6stack_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_W810
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_w810_base_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_w810_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_gpio2_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_w810_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_w810_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_w810_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_w810_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_Z71V
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_z71v_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_z71v_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_z71v_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_z71v_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|hp_nid
op_assign
l_int|0x03
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_2_jack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_2_jack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_F1734
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_f1734_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_f1734_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_f1734_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_f1734_dac_nids
comma
"&t;&t;"
dot
id|hp_nid
op_assign
l_int|0x02
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_2_jack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_2_jack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_ASUS
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_asus_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_asus_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_gpio1_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_asus_dac_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_asus_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_ASUS_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_asus_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_asus_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_gpio1_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_asus_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_asus_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_ASUS_DIG2
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_asus_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_asus_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_gpio2_init_verbs
)brace
comma
multiline_comment|/* use GPIO2 */
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_asus_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_asus_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_ASUS_W1V
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_asus_mixer
comma
id|alc880_asus_w1v_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_asus_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_gpio1_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_asus_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_asus_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_UNIWILL_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_asus_mixer
comma
id|alc880_pcbeep_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
id|alc880_pin_asus_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_asus_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_asus_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_asus_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_CLEVO
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_three_stack_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_pin_clevo_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_dac_nids
comma
"&t;&t;"
dot
id|hp_nid
op_assign
l_int|0x03
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_threestack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_threestack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC880_LG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_lg_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_volume_init_verbs
comma
"&t;&t;&t;&t;"
id|alc880_lg_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_lg_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_lg_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_lg_ch_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_lg_ch_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_lg_capture_source
comma
"&t;&t;"
dot
id|unsol_event
op_assign
id|alc880_lg_unsol_event
comma
"&t;&t;"
dot
id|init_hook
op_assign
id|alc880_lg_automute
comma
"&t;"
)brace
comma
macro_line|#ifdef CONFIG_SND_DEBUG
"&t;"
(braket
id|ALC880_TEST
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc880_test_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc880_test_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_test_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc880_test_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_test_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc880_test_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc880_test_capture_source
comma
"&t;"
)brace
comma
macro_line|#endif
)brace
suffix:semicolon
multiline_comment|/*&n; * Automatic parse of I/O pins from the BIOS configuration&n; */
macro_line|#define NUM_CONTROL_ALLOC&t;32
macro_line|#define NUM_VERB_ALLOC&t;&t;32
r_enum
(brace
"&t;"
id|ALC_CTL_WIDGET_VOL
comma
"&t;"
id|ALC_CTL_WIDGET_MUTE
comma
"&t;"
id|ALC_CTL_BIND_MUTE
comma
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc880_control_templates
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_int|NULL
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_int|NULL
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_int|NULL
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
comma
)brace
suffix:semicolon
multiline_comment|/* add dynamic controls */
r_int
id|add_control
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_int
id|type
comma
r_const
r_char
op_star
id|name
comma
r_int
r_int
id|val
)paren
(brace
"&t;"
r_struct
id|snd_kcontrol_new
op_star
id|knew
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;num_kctl_used
op_ge
id|spec-&gt;num_kctl_alloc
)paren
(brace
"&t;&t;"
r_int
id|num
op_assign
id|spec-&gt;num_kctl_alloc
op_plus
id|NUM_CONTROL_ALLOC
suffix:semicolon
"&t;&t;"
id|knew
op_assign
id|kcalloc
c_func
(paren
id|num
op_plus
l_int|1
comma
r_sizeof
(paren
op_star
id|knew
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
multiline_comment|/* array + terminator */
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew
)paren
"&t;&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|spec-&gt;kctl_alloc
)paren
(brace
"&t;&t;&t;"
id|memcpy
c_func
(paren
id|knew
comma
id|spec-&gt;kctl_alloc
comma
r_sizeof
(paren
op_star
id|knew
)paren
op_star
id|spec-&gt;num_kctl_alloc
)paren
suffix:semicolon
"&t;&t;&t;"
id|kfree
c_func
(paren
id|spec-&gt;kctl_alloc
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|spec-&gt;kctl_alloc
op_assign
id|knew
suffix:semicolon
"&t;&t;"
id|spec-&gt;num_kctl_alloc
op_assign
id|num
suffix:semicolon
"&t;"
)brace
"&t;"
id|knew
op_assign
op_amp
id|spec-&gt;kctl_alloc
(braket
id|spec-&gt;num_kctl_used
)braket
suffix:semicolon
"&t;"
op_star
id|knew
op_assign
id|alc880_control_templates
(braket
id|type
)braket
suffix:semicolon
"&t;"
id|knew-&gt;name
op_assign
id|kstrdup
c_func
(paren
id|name
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|knew-&gt;name
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|knew-&gt;private_value
op_assign
id|val
suffix:semicolon
"&t;"
id|spec-&gt;num_kctl_used
op_increment
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#define alc880_is_fixed_pin(nid)&t;((nid) &gt;= 0x14 &amp;&amp; (nid) &lt;= 0x17)
macro_line|#define alc880_fixed_pin_idx(nid)&t;((nid) - 0x14)
macro_line|#define alc880_is_multi_pin(nid)&t;((nid) &gt;= 0x18)
macro_line|#define alc880_multi_pin_idx(nid)&t;((nid) - 0x18)
macro_line|#define alc880_is_input_pin(nid)&t;((nid) &gt;= 0x18)
macro_line|#define alc880_input_pin_idx(nid)&t;((nid) - 0x18)
macro_line|#define alc880_idx_to_dac(nid)&t;&t;((nid) + 0x02)
macro_line|#define alc880_dac_to_idx(nid)&t;&t;((nid) - 0x02)
macro_line|#define alc880_idx_to_mixer(nid)&t;((nid) + 0x0c)
macro_line|#define alc880_idx_to_selector(nid)&t;((nid) + 0x10)
macro_line|#define ALC880_PIN_CD_NID&t;&t;0x1c
multiline_comment|/* fill in the dac_nids table from the parsed pin configuration */
r_int
id|alc880_auto_fill_dac_nids
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_int
id|assigned
(braket
l_int|4
)braket
suffix:semicolon
"&t;"
r_int
id|i
comma
id|j
suffix:semicolon
"&t;"
id|memset
c_func
(paren
id|assigned
comma
l_int|0
comma
r_sizeof
(paren
id|assigned
)paren
)paren
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dac_nids
op_assign
id|spec-&gt;private_dac_nids
suffix:semicolon
"&t;"
multiline_comment|/* check the pins hardwired to audio widget */
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|nid
op_assign
id|cfg-&gt;line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|alc880_is_fixed_pin
c_func
(paren
id|nid
)paren
)paren
(brace
"&t;&t;&t;"
r_int
id|idx
op_assign
id|alc880_fixed_pin_idx
c_func
(paren
id|nid
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
op_assign
id|alc880_idx_to_dac
c_func
(paren
id|idx
)paren
suffix:semicolon
"&t;&t;&t;"
id|assigned
(braket
id|idx
)braket
op_assign
l_int|1
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
multiline_comment|/* left pins can be connect to any audio widget */
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|nid
op_assign
id|cfg-&gt;line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|alc880_is_fixed_pin
c_func
(paren
id|nid
)paren
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
multiline_comment|/* search for an empty channel */
"&t;&t;"
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|j
op_increment
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|assigned
(braket
id|j
)braket
)paren
(brace
"&t;&t;&t;&t;"
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
op_assign
id|alc880_idx_to_dac
c_func
(paren
id|j
)paren
suffix:semicolon
"&t;&t;&t;&t;"
id|assigned
(braket
id|j
)braket
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
)brace
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
id|cfg-&gt;line_outs
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* add playback controls from the parsed DAC table */
r_int
id|alc880_auto_create_multi_out_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
"&t;&t;&t;&t;&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|chname
(braket
l_int|4
)braket
op_assign
(brace
l_string|&quot;Front&quot;
comma
l_string|&quot;Surround&quot;
comma
l_int|NULL
multiline_comment|/*CLFE*/
comma
l_string|&quot;Side&quot;
)brace
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
id|nid
op_assign
id|alc880_idx_to_mixer
c_func
(paren
id|alc880_dac_to_idx
c_func
(paren
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
)paren
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|i
op_eq
l_int|2
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* Center/LFE */
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
l_string|&quot;Center Playback Volume&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|1
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
l_string|&quot;LFE Playback Volume&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_MUTE
comma
l_string|&quot;Center Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_MUTE
comma
l_string|&quot;LFE Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|2
comma
l_int|2
comma
id|HDA_INPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Volume&quot;
comma
id|chname
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
id|name
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Switch&quot;
comma
id|chname
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_MUTE
comma
id|name
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|2
comma
id|HDA_INPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* add playback controls for speaker and HP outputs */
r_int
id|alc880_auto_create_extra_out
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
id|hda_nid_t
id|pin
comma
"&t;&t;&t;&t;&t;"
r_const
r_char
op_star
id|pfx
)paren
(brace
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|pin
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|alc880_is_fixed_pin
c_func
(paren
id|pin
)paren
)paren
(brace
"&t;&t;"
id|nid
op_assign
id|alc880_idx_to_dac
c_func
(paren
id|alc880_fixed_pin_idx
c_func
(paren
id|pin
)paren
)paren
suffix:semicolon
"&t;&t;"
multiline_comment|/* specify the DAC as the extra output */
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;multiout.hp_nid
)paren
"&t;&t;&t;"
id|spec-&gt;multiout.hp_nid
op_assign
id|nid
suffix:semicolon
"&t;&t;"
r_else
"&t;&t;&t;"
id|spec-&gt;multiout.extra_out_nid
(braket
l_int|0
)braket
op_assign
id|nid
suffix:semicolon
"&t;&t;"
multiline_comment|/* control HP volume/switch on the output mixer amp */
"&t;&t;"
id|nid
op_assign
id|alc880_idx_to_mixer
c_func
(paren
id|alc880_fixed_pin_idx
c_func
(paren
id|pin
)paren
)paren
suffix:semicolon
"&t;&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Volume&quot;
comma
id|pfx
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
id|name
comma
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Switch&quot;
comma
id|pfx
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_MUTE
comma
id|name
comma
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|2
comma
id|HDA_INPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
r_else
r_if
c_cond
(paren
id|alc880_is_multi_pin
c_func
(paren
id|pin
)paren
)paren
(brace
"&t;&t;"
multiline_comment|/* set manual connection */
"&t;&t;"
multiline_comment|/* we have only a switch on HP-out PIN */
"&t;&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Switch&quot;
comma
id|pfx
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
id|name
comma
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|pin
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* create input playback/capture controls for the given pin */
r_int
id|new_analog_input
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
id|hda_nid_t
id|pin
comma
r_const
r_char
op_star
id|ctlname
comma
"&t;&t;&t;"
r_int
id|idx
comma
id|hda_nid_t
id|mix_nid
)paren
(brace
"&t;"
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Volume&quot;
comma
id|ctlname
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
id|name
comma
"&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|mix_nid
comma
l_int|3
comma
id|idx
comma
id|HDA_INPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Switch&quot;
comma
id|ctlname
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
id|name
comma
"&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|mix_nid
comma
l_int|3
comma
id|idx
comma
id|HDA_INPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* create playback/capture controls for input pins */
r_int
id|alc880_auto_create_analog_input_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
"&t;&t;&t;&t;&t;&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
r_struct
id|hda_input_mux
op_star
id|imux
op_assign
op_amp
id|spec-&gt;private_imux
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
comma
id|idx
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|AUTO_PIN_LAST
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|alc880_is_input_pin
c_func
(paren
id|cfg-&gt;input_pins
(braket
id|i
)braket
)paren
)paren
(brace
"&t;&t;&t;"
id|idx
op_assign
id|alc880_input_pin_idx
c_func
(paren
id|cfg-&gt;input_pins
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|new_analog_input
c_func
(paren
id|spec
comma
id|cfg-&gt;input_pins
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;"
id|auto_pin_cfg_labels
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;"
id|idx
comma
l_int|0x0b
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|label
op_assign
id|auto_pin_cfg_labels
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|index
op_assign
id|alc880_input_pin_idx
c_func
(paren
id|cfg-&gt;input_pins
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;num_items
op_increment
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_void
id|alc880_auto_set_output_and_unmute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
id|hda_nid_t
id|nid
comma
r_int
id|pin_type
comma
"&t;&t;&t;&t;&t;"
r_int
id|dac_idx
)paren
(brace
"&t;"
multiline_comment|/* set as output */
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|pin_type
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)paren
suffix:semicolon
"&t;"
multiline_comment|/* need the manual connection? */
"&t;"
r_if
c_cond
(paren
id|alc880_is_multi_pin
c_func
(paren
id|nid
)paren
)paren
(brace
"&t;&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;&t;"
r_int
id|idx
op_assign
id|alc880_multi_pin_idx
c_func
(paren
id|nid
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|alc880_idx_to_selector
c_func
(paren
id|idx
)paren
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_CONNECT_SEL
comma
"&t;&t;&t;&t;"
id|alc880_dac_to_idx
c_func
(paren
id|spec-&gt;multiout.dac_nids
(braket
id|dac_idx
)braket
)paren
)paren
suffix:semicolon
"&t;"
)brace
)brace
r_void
id|alc880_auto_init_multi_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;autocfg.line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
id|alc880_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|nid
comma
id|PIN_OUT
comma
id|i
)paren
suffix:semicolon
"&t;"
)brace
)brace
r_void
id|alc880_auto_init_extra_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|pin
suffix:semicolon
"&t;"
id|pin
op_assign
id|spec-&gt;autocfg.speaker_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|pin
)paren
multiline_comment|/* connect to front */
"&t;&t;"
id|alc880_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|pin
comma
id|PIN_OUT
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|pin
op_assign
id|spec-&gt;autocfg.hp_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|pin
)paren
multiline_comment|/* connect to front */
"&t;&t;"
id|alc880_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|pin
comma
id|PIN_HP
comma
l_int|0
)paren
suffix:semicolon
)brace
r_void
id|alc880_auto_init_analog_input
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|AUTO_PIN_LAST
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.input_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|alc880_is_input_pin
c_func
(paren
id|nid
)paren
)paren
(brace
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|i
op_le
id|AUTO_PIN_FRONT_MIC
ques
c_cond
id|PIN_VREF80
suffix:colon
id|PIN_IN
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|nid
op_ne
id|ALC880_PIN_CD_NID
)paren
"&t;&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;&t;&t;"
id|AMP_OUT_MUTE
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
)brace
multiline_comment|/* parse the BIOS configuration and set up the alc_spec */
multiline_comment|/* return 1 if successful, 0 if the proper config is not found, or a negative error code */
r_int
id|alc880_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|hda_nid_t
id|alc880_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_hda_parse_pin_def_config
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;autocfg
comma
"&t;&t;&t;&t;&t;&t;"
id|alc880_ignore
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;autocfg.line_outs
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* can&squot;t find valid BIOS pin config */
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|alc880_auto_fill_dac_nids
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc880_auto_create_multi_out_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc880_auto_create_extra_out
c_func
(paren
id|spec
comma
"&t;&t;&t;&t;&t;&t;"
id|spec-&gt;autocfg.speaker_pins
(braket
l_int|0
)braket
comma
"&t;&t;&t;&t;&t;&t;"
l_string|&quot;Speaker&quot;
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc880_auto_create_extra_out
c_func
(paren
id|spec
comma
id|spec-&gt;autocfg.hp_pin
comma
"&t;&t;&t;&t;&t;&t;"
l_string|&quot;Headphone&quot;
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc880_auto_create_analog_input_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|spec-&gt;multiout.max_channels
op_assign
id|spec-&gt;multiout.num_dacs
op_star
l_int|2
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.dig_out_pin
)paren
"&t;&t;"
id|spec-&gt;multiout.dig_out_nid
op_assign
id|ALC880_DIGOUT_NID
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.dig_in_pin
)paren
"&t;&t;"
id|spec-&gt;dig_in_nid
op_assign
id|ALC880_DIGIN_NID
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;kctl_alloc
)paren
"&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
op_increment
)braket
op_assign
id|spec-&gt;kctl_alloc
suffix:semicolon
"&t;"
id|spec-&gt;init_verbs
(braket
id|spec-&gt;num_init_verbs
op_increment
)braket
op_assign
id|alc880_volume_init_verbs
suffix:semicolon
"&t;"
id|spec-&gt;input_mux
op_assign
op_amp
id|spec-&gt;private_imux
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* additional initialization for auto-configuration model */
r_void
id|alc880_auto_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc880_auto_init_multi_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc880_auto_init_extra_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc880_auto_init_analog_input
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * OK, here we have finally the patch for ALC880&n; */
r_int
id|patch_alc880
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|board_config
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|board_config
op_assign
id|snd_hda_check_board_config
c_func
(paren
id|codec
comma
id|alc880_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
op_logical_or
id|board_config
op_ge
id|ALC880_MODEL_LAST
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Unknown model for ALC880, trying auto-probe from BIOS...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC880_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC880_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc880_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
(brace
"&t;&t;&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Cannot set up configuration from BIOS.  Using 3-stack mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC880_3ST
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC880_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|spec
comma
op_amp
id|alc880_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_analog
op_assign
l_string|&quot;ALC880 Analog&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_playback
op_assign
op_amp
id|alc880_pcm_analog_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_capture
op_assign
op_amp
id|alc880_pcm_analog_capture
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_digital
op_assign
l_string|&quot;ALC880 Digital&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_playback
op_assign
op_amp
id|alc880_pcm_digital_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_capture
op_assign
op_amp
id|alc880_pcm_digital_capture
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;adc_nids
op_logical_and
id|spec-&gt;input_mux
)paren
(brace
"&t;&t;"
multiline_comment|/* check whether NID 0x07 is valid */
"&t;&t;"
r_int
r_int
id|wcap
op_assign
id|get_wcaps
c_func
(paren
id|codec
comma
id|alc880_adc_nids
(braket
l_int|0
)braket
)paren
suffix:semicolon
"&t;&t;"
id|wcap
op_assign
(paren
id|wcap
op_amp
id|AC_WCAP_TYPE
)paren
op_rshift
id|AC_WCAP_TYPE_SHIFT
suffix:semicolon
multiline_comment|/* get type */
"&t;&t;"
r_if
c_cond
(paren
id|wcap
op_ne
id|AC_WID_AUD_IN
)paren
(brace
"&t;&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc880_adc_nids_alt
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_adc_nids_alt
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc880_capture_alt_mixer
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc880_adc_nids
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc880_adc_nids
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc880_capture_mixer
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC880_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc880_auto_init
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC260 support&n; */
id|hda_nid_t
id|alc260_dac_nids
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
multiline_comment|/* front */
"&t;"
l_int|0x02
comma
)brace
suffix:semicolon
id|hda_nid_t
id|alc260_adc_nids
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
multiline_comment|/* ADC0 */
"&t;"
l_int|0x04
comma
)brace
suffix:semicolon
id|hda_nid_t
id|alc260_adc_nids_alt
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
multiline_comment|/* ADC1 */
"&t;"
l_int|0x05
comma
)brace
suffix:semicolon
id|hda_nid_t
id|alc260_hp_adc_nids
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
multiline_comment|/* ADC1, 0 */
"&t;"
l_int|0x05
comma
l_int|0x04
)brace
suffix:semicolon
multiline_comment|/* NIDs used when simultaneous access to both ADCs makes sense.  Note that&n; * alc260_capture_mixer assumes ADC0 (nid 0x04) is the first ADC.&n; */
id|hda_nid_t
id|alc260_dual_adc_nids
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
multiline_comment|/* ADC0, ADC1 */
"&t;"
l_int|0x04
comma
l_int|0x05
)brace
suffix:semicolon
macro_line|#define ALC260_DIGOUT_NID&t;0x03
macro_line|#define ALC260_DIGIN_NID&t;0x06
r_struct
id|hda_input_mux
id|alc260_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|4
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Front Mic&quot;
comma
l_int|0x1
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Line&quot;
comma
l_int|0x2
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* On Fujitsu S702x laptops capture only makes sense from Mic/LineIn jack,&n; * headphone jack and the internal CD lines.&n; */
r_struct
id|hda_input_mux
id|alc260_fujitsu_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|3
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic/Line&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Headphone&quot;
comma
l_int|0x2
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* Acer TravelMate(/Extensa/Aspire) notebooks have similar configutation to&n; * the Fujitsu S702x, but jacks are marked differently. We won&squot;t allow&n; * retasking the Headphone jack, so it won&squot;t be available here.&n; */
r_struct
id|hda_input_mux
id|alc260_acer_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|3
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Line&quot;
comma
l_int|0x2
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * This is just place-holder, so there&squot;s something for alc_build_pcms to look&n; * at when it calculates the maximum number of channels. ALC260 has no mixer&n; * element which allows changing the channel mode, so the verb list is&n; * never used.&n; */
r_struct
id|hda_channel_mode
id|alc260_modes
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
(brace
l_int|2
comma
l_int|NULL
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* Mixer combinations&n; *&n; * basic: base_output + input + pc_beep + capture&n; * HP: base_output + input + capture_alt&n; * HP_3013: hp_3013 + input + capture&n; * fujitsu: fujitsu + capture&n; * acer: acer + capture&n; */
r_struct
id|snd_kcontrol_new
id|alc260_base_output_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x08
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Headphone Playback Volume&quot;
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x09
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Mono Playback Volume&quot;
comma
l_int|0x0a
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Mono Playback Switch&quot;
comma
l_int|0x0a
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
"&t;"
r_struct
id|snd_kcontrol_new
id|alc260_input_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Mic Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Mic Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc260_pc_beep_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;PC Speaker Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;PC Speaker Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc260_hp_3013_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x10
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Aux-In Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x06
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Aux-In Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x06
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Headphone Playback Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;iSpeaker Playback Volume&quot;
comma
l_int|0x0a
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_MONO
c_func
(paren
l_string|&quot;iSpeaker Playback Switch&quot;
comma
l_int|0x11
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc260_fujitsu_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Headphone Playback Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x08
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;Headphone Jack Mode&quot;
comma
l_int|0x14
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic/Line Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic/Line Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;Mic/Line Jack Mode&quot;
comma
l_int|0x12
comma
id|ALC_PIN_DIR_IN
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Beep Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Beep Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Internal Speaker Playback Volume&quot;
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Internal Speaker Playback Switch&quot;
comma
l_int|0x09
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc260_acer_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Master Playback Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Master Playback Switch&quot;
comma
l_int|0x08
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;Mic Jack Mode&quot;
comma
l_int|0x12
comma
id|ALC_PIN_DIR_IN
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;Line Jack Mode&quot;
comma
l_int|0x14
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Beep Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Beep Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* capture mixer elements */
r_struct
id|snd_kcontrol_new
id|alc260_capture_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x04
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x04
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|1
comma
l_int|0x05
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|1
comma
l_int|0x05
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; * FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|2
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc260_capture_alt_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x05
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x05
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; * FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|1
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/*&n; * initialization verbs&n; */
r_struct
id|hda_verb
id|alc260_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Line In pin widget for input */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* CD pin widget for input */
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* Mic1 (rear panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
multiline_comment|/* Mic2 (front panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
multiline_comment|/* LINE-2 is used for line-out in rear */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
multiline_comment|/* select line-out */
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* LINE-OUT pin */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
multiline_comment|/* enable HP */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
multiline_comment|/* enable Mono */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
multiline_comment|/* mute capture amp left and right */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* set connection select to line in (default select for this ADC) */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
multiline_comment|/* mute capture amp left and right */
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* set connection select to line in (default select for this ADC) */
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
multiline_comment|/* set vol=0 Line-Out mixer amp left and right */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* unmute pin widget amp left and right (no gain on this amp) */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* set vol=0 HP mixer amp left and right */
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* unmute pin widget amp left and right (no gain on this amp) */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* set vol=0 Mono mixer amp left and right */
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* unmute pin widget amp left and right (no gain on this amp) */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* unmute LINE-2 out pin */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Amp Indexes: CD = 0x04, Line In 1 = 0x02, Mic 1 = 0x00 &amp; Line In 2 = 0x03 */
"&t;"
multiline_comment|/* mute CD */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/* mute Line In */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
multiline_comment|/* mute Mic */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Amp Indexes: DAC = 0x01 &amp; mixer = 0x00 */
"&t;"
multiline_comment|/* mute Front out path */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* mute Headphone out path */
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* mute Mono out path */
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc260_hp_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Headphone and output */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0xc0
)brace
comma
"&t;"
multiline_comment|/* mono output */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
multiline_comment|/* Mic1 (rear panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* Mic2 (front panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* Line In pin widget for input */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* Line-2 pin widget for output */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
multiline_comment|/* CD pin widget for input */
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* unmute amp left and right */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x7000
)brace
comma
"&t;"
multiline_comment|/* set connection select to line in (default select for this ADC) */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
multiline_comment|/* unmute Line-Out mixer amp left and right (volume = 0) */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb000
)brace
comma
"&t;"
multiline_comment|/* mute pin widget amp left and right (no gain on this amp) */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
multiline_comment|/* unmute HP mixer amp left and right (volume = 0) */
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb000
)brace
comma
"&t;"
multiline_comment|/* mute pin widget amp left and right (no gain on this amp) */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
multiline_comment|/* Amp Indexes: CD = 0x04, Line In 1 = 0x02, Mic 1 = 0x00 &amp; Line In 2 = 0x03 */
"&t;"
multiline_comment|/* unmute CD */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* unmute Line In */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* unmute Mic */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Amp Indexes: DAC = 0x01 &amp; mixer = 0x00 */
"&t;"
multiline_comment|/* Unmute Front out path */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute Headphone out path */
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute Mono out path */
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc260_hp_3013_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Line out and output */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
multiline_comment|/* mono output */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
multiline_comment|/* Mic1 (rear panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* Mic2 (front panel) pin widget for input and vref at 80% */
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* Line In pin widget for input */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* Headphone pin widget for output */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0xc0
)brace
comma
"&t;"
multiline_comment|/* CD pin widget for input */
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* unmute amp left and right */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x7000
)brace
comma
"&t;"
multiline_comment|/* set connection select to line in (default select for this ADC) */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
multiline_comment|/* unmute Line-Out mixer amp left and right (volume = 0) */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb000
)brace
comma
"&t;"
multiline_comment|/* mute pin widget amp left and right (no gain on this amp) */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
multiline_comment|/* unmute HP mixer amp left and right (volume = 0) */
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb000
)brace
comma
"&t;"
multiline_comment|/* mute pin widget amp left and right (no gain on this amp) */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
multiline_comment|/* Amp Indexes: CD = 0x04, Line In 1 = 0x02, Mic 1 = 0x00 &amp; Line In 2 = 0x03 */
"&t;"
multiline_comment|/* unmute CD */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* unmute Line In */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* unmute Mic */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Amp Indexes: DAC = 0x01 &amp; mixer = 0x00 */
"&t;"
multiline_comment|/* Unmute Front out path */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute Headphone out path */
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute Mono out path */
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* Initialisation sequence for ALC260 as configured in Fujitsu S702x&n; * laptops.&n; */
r_struct
id|hda_verb
id|alc260_fujitsu_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Disable all GPIOs */
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0
)brace
comma
"&t;"
multiline_comment|/* Internal speaker is connected to headphone pin */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
multiline_comment|/* Headphone/Line-out jack connects to Line1 pin; make it an output */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
multiline_comment|/* Mic/Line-in jack is connected to mic1 pin, so make it an input */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* Ensure all other unused pins are disabled and muted. */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Disable digital (SPDIF) pins */
"&t;"
(brace
l_int|0x03
comma
id|AC_VERB_SET_DIGI_CONVERT_1
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x06
comma
id|AC_VERB_SET_DIGI_CONVERT_1
comma
l_int|0
)brace
comma
"&t;"
multiline_comment|/* Ensure Line1 pin widget takes its input from the OUT1 sum bus &n;&t; * when acting as an output.&n;&t; */
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0
)brace
comma
"&t;"
multiline_comment|/* Start with output sum widgets muted and their output gains at min */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* Unmute HP pin widget amp left and right (no equiv mixer ctrl) */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Unmute Line1 pin widget output buffer since it starts as an output.&n;&t; * If the pin mode is changed by the user the pin mode control will&n;&t; * take care of enabling the pin&squot;s input/output buffers as needed.&n;&t; * Therefore there&squot;s no need to enable the input buffer at this&n;&t; * stage.&n;&t; */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Unmute input buffer of pin widget used for Line-in (no equiv &n;&t; * mixer ctrl)&n;&t; */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Mute capture amp left and right */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Set ADC connection select to match default mixer setting - line &n;&t; * in (on mic1 pin)&n;&t; */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Do the same for the second ADC: mute capture input amp and&n;&t; * set ADC connection to line in (on mic1 pin)&n;&t; */
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Mute all inputs to mixer widget (even unconnected ones) */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
multiline_comment|/* mic1 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
multiline_comment|/* mic2 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|2
)paren
)brace
comma
multiline_comment|/* line1 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|3
)paren
)brace
comma
multiline_comment|/* line2 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|4
)paren
)brace
comma
multiline_comment|/* CD pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|5
)paren
)brace
comma
multiline_comment|/* Beep-gen pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|6
)paren
)brace
comma
multiline_comment|/* Line-out pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|7
)paren
)brace
comma
multiline_comment|/* HP-pin pin */
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* Initialisation sequence for ALC260 as configured in Acer TravelMate and&n; * similar laptops (adapted from Fujitsu init verbs).&n; */
r_struct
id|hda_verb
id|alc260_acer_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* On TravelMate laptops, GPIO 0 enables the internal speaker and&n;&t; * the headphone jack.  Turn this on and rely on the standard mute&n;&t; * methods whenever the user wants to turn these outputs off.&n;&t; */
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x01
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x01
)brace
comma
"&t;"
multiline_comment|/* Internal speaker/Headphone jack is connected to Line-out pin */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
multiline_comment|/* Internal microphone/Mic jack is connected to Mic1 pin */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF50
)brace
comma
"&t;"
multiline_comment|/* Line In jack is connected to Line1 pin */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* Ensure all other unused pins are disabled and muted. */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Disable digital (SPDIF) pins */
"&t;"
(brace
l_int|0x03
comma
id|AC_VERB_SET_DIGI_CONVERT_1
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x06
comma
id|AC_VERB_SET_DIGI_CONVERT_1
comma
l_int|0
)brace
comma
"&t;"
multiline_comment|/* Ensure Mic1 and Line1 pin widgets take input from the OUT1 sum &n;&t; * bus when acting as outputs.&n;&t; */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0
)brace
comma
"&t;"
multiline_comment|/* Start with output sum widgets muted and their output gains at min */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* Unmute Line-out pin widget amp left and right (no equiv mixer ctrl) */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Unmute Mic1 and Line1 pin widget input buffers since they start as&n;&t; * inputs. If the pin mode is changed by the user the pin mode control&n;&t; * will take care of enabling the pin&squot;s input/output buffers as needed.&n;&t; * Therefore there&squot;s no need to enable the input buffer at this&n;&t; * stage.&n;&t; */
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Mute capture amp left and right */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Set ADC connection select to match default mixer setting - mic&n;&t; * (on mic1 pin)&n;&t; */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Do similar with the second ADC: mute capture input amp and&n;&t; * set ADC connection to line (on line1 pin)&n;&t; */
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
multiline_comment|/* Mute all inputs to mixer widget (even unconnected ones) */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
multiline_comment|/* mic1 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
multiline_comment|/* mic2 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|2
)paren
)brace
comma
multiline_comment|/* line1 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|3
)paren
)brace
comma
multiline_comment|/* line2 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|4
)paren
)brace
comma
multiline_comment|/* CD pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|5
)paren
)brace
comma
multiline_comment|/* Beep-gen pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|6
)paren
)brace
comma
multiline_comment|/* Line-out pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|7
)paren
)brace
comma
multiline_comment|/* HP-pin pin */
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* Test configuration for debugging, modelled after the ALC880 test&n; * configuration.&n; */
macro_line|#ifdef CONFIG_SND_DEBUG
id|hda_nid_t
id|alc260_test_dac_nids
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
l_int|0x02
comma
)brace
suffix:semicolon
id|hda_nid_t
id|alc260_test_adc_nids
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
l_int|0x04
comma
l_int|0x05
comma
)brace
suffix:semicolon
multiline_comment|/* This is a bit messy since the two input muxes in the ALC260 have slight&n; * variations in their signal assignments.  The ideal way to deal with this&n; * is to extend alc_spec.input_mux to allow a different input MUX for each&n; * ADC.  For the purposes of the test model it&squot;s sufficient to just list&n; * both options for affected signal indices.  The separate input mux&n; * functionality only needs to be considered if a model comes along which&n; * actually uses signals 0x5, 0x6 and 0x7 for something which makes sense to&n; * record.&n; */
r_struct
id|hda_input_mux
id|alc260_test_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|8
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;MIC1 pin&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;MIC2 pin&quot;
comma
l_int|0x1
)brace
comma
"&t;&t;"
(brace
l_string|&quot;LINE1 pin&quot;
comma
l_int|0x2
)brace
comma
"&t;&t;"
(brace
l_string|&quot;LINE2 pin&quot;
comma
l_int|0x3
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD pin&quot;
comma
l_int|0x4
)brace
comma
"&t;&t;"
(brace
l_string|&quot;LINE-OUT pin (cap1), Mixer (cap2)&quot;
comma
l_int|0x5
)brace
comma
"&t;&t;"
(brace
l_string|&quot;HP-OUT pin (cap1), LINE-OUT pin (cap2)&quot;
comma
l_int|0x6
)brace
comma
"&t;&t;"
(brace
l_string|&quot;HP-OUT pin (cap2 only)&quot;
comma
l_int|0x7
)brace
comma
)brace
comma
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc260_test_mixer
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Output driver widgets */
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Mono Playback Volume&quot;
comma
l_int|0x0a
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Mono Playback Switch&quot;
comma
l_int|0x0a
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;LOUT2 Playback Volume&quot;
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;LOUT2 Playback Switch&quot;
comma
l_int|0x09
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;LOUT1 Playback Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;LOUT1 Playback Switch&quot;
comma
l_int|0x08
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
multiline_comment|/* Modes for retasking pin widgets */
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;HP-OUT pin mode&quot;
comma
l_int|0x10
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;LINE-OUT pin mode&quot;
comma
l_int|0x0f
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;LINE2 pin mode&quot;
comma
l_int|0x15
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;LINE1 pin mode&quot;
comma
l_int|0x14
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;MIC2 pin mode&quot;
comma
l_int|0x13
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
id|ALC_PIN_MODE
c_func
(paren
l_string|&quot;MIC1 pin mode&quot;
comma
l_int|0x12
comma
id|ALC_PIN_DIR_INOUT
)paren
comma
"&t;"
multiline_comment|/* Loopback mixer controls */
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;MIC1 Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x00
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;MIC1 Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x00
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;MIC2 Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;MIC2 Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;LINE1 Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;LINE1 Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;LINE2 Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x03
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;LINE2 Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x03
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Beep Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Beep Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;LINE-OUT loopback Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x06
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;LINE-OUT loopback Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x06
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;HP-OUT loopback Playback Volume&quot;
comma
l_int|0x07
comma
l_int|0x7
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;HP-OUT loopback Playback Switch&quot;
comma
l_int|0x07
comma
l_int|0x7
comma
id|HDA_INPUT
)paren
comma
"&t;"
multiline_comment|/* Controls for GPIO pins, assuming they are configured as outputs */
"&t;"
id|ALC_GPIO_DATA_SWITCH
c_func
(paren
l_string|&quot;GPIO pin 0&quot;
comma
l_int|0x01
comma
l_int|0x01
)paren
comma
"&t;"
id|ALC_GPIO_DATA_SWITCH
c_func
(paren
l_string|&quot;GPIO pin 1&quot;
comma
l_int|0x01
comma
l_int|0x02
)paren
comma
"&t;"
id|ALC_GPIO_DATA_SWITCH
c_func
(paren
l_string|&quot;GPIO pin 2&quot;
comma
l_int|0x01
comma
l_int|0x04
)paren
comma
"&t;"
id|ALC_GPIO_DATA_SWITCH
c_func
(paren
l_string|&quot;GPIO pin 3&quot;
comma
l_int|0x01
comma
l_int|0x08
)paren
comma
"&t;"
multiline_comment|/* Switches to allow the digital IO pins to be enabled.  The datasheet&n;&t; * is ambigious as to which NID is which; testing on laptops which&n;&t; * make this output available should provide clarification. &n;&t; */
"&t;"
id|ALC_SPDIF_CTRL_SWITCH
c_func
(paren
l_string|&quot;SPDIF Playback Switch&quot;
comma
l_int|0x03
comma
l_int|0x01
)paren
comma
"&t;"
id|ALC_SPDIF_CTRL_SWITCH
c_func
(paren
l_string|&quot;SPDIF Capture Switch&quot;
comma
l_int|0x06
comma
l_int|0x01
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc260_test_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Enable all GPIOs as outputs with an initial value of 0 */
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DIRECTION
comma
l_int|0x0f
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_DATA
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x01
comma
id|AC_VERB_SET_GPIO_MASK
comma
l_int|0x0f
)brace
comma
"&t;"
multiline_comment|/* Enable retasking pins as output, initially without power amp */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
multiline_comment|/* Disable digital (SPDIF) pins initially, but users can enable&n;&t; * them via a mixer switch.  In the case of SPDIF-out, this initverb&n;&t; * payload also sets the generation to 0, output to be in &quot;consumer&quot;&n;&t; * PCM format, copyright asserted, no pre-emphasis and no validity&n;&t; * control.&n;&t; */
"&t;"
(brace
l_int|0x03
comma
id|AC_VERB_SET_DIGI_CONVERT_1
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x06
comma
id|AC_VERB_SET_DIGI_CONVERT_1
comma
l_int|0
)brace
comma
"&t;"
multiline_comment|/* Ensure mic1, mic2, line1 and line2 pin widgets take input from the &n;&t; * OUT1 sum bus when acting as an output.&n;&t; */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0
)brace
comma
"&t;"
multiline_comment|/* Start with output sum widgets muted and their output gains at min */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* Unmute retasking pin widget output buffers since the default&n;&t; * state appears to be output.  As the pin mode is changed by the&n;&t; * user the pin mode control will take care of enabling the pin&squot;s&n;&t; * input/output buffers as needed.&n;&t; */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x13
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x12
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Also unmute the mono-out pin widget */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
multiline_comment|/* Mute capture amp left and right */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Set ADC connection select to match default mixer setting (mic1&n;&t; * pin)&n;&t; */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Do the same for the second ADC: mute capture input amp and&n;&t; * set ADC connection to mic1 pin&n;&t; */
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Mute all inputs to mixer widget (even unconnected ones) */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
multiline_comment|/* mic1 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
multiline_comment|/* mic2 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|2
)paren
)brace
comma
multiline_comment|/* line1 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|3
)paren
)brace
comma
multiline_comment|/* line2 pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|4
)paren
)brace
comma
multiline_comment|/* CD pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|5
)paren
)brace
comma
multiline_comment|/* Beep-gen pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|6
)paren
)brace
comma
multiline_comment|/* Line-out pin */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|7
)paren
)brace
comma
multiline_comment|/* HP-pin pin */
"&t;"
(brace
)brace
)brace
suffix:semicolon
macro_line|#endif
r_struct
id|hda_pcm_stream
id|alc260_pcm_analog_playback
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
)brace
suffix:semicolon
r_struct
id|hda_pcm_stream
id|alc260_pcm_analog_capture
op_assign
(brace
"&t;"
dot
id|substreams
op_assign
l_int|1
comma
"&t;"
dot
id|channels_min
op_assign
l_int|2
comma
"&t;"
dot
id|channels_max
op_assign
l_int|2
comma
)brace
suffix:semicolon
macro_line|#define alc260_pcm_digital_playback&t;alc880_pcm_digital_playback
macro_line|#define alc260_pcm_digital_capture&t;alc880_pcm_digital_capture
multiline_comment|/*&n; * for BIOS auto-configuration&n; */
r_int
id|alc260_add_playback_controls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
id|hda_nid_t
id|nid
comma
"&t;&t;&t;&t;&t;"
r_const
r_char
op_star
id|pfx
)paren
(brace
"&t;"
id|hda_nid_t
id|nid_vol
suffix:semicolon
"&t;"
r_int
r_int
id|vol_val
comma
id|sw_val
suffix:semicolon
"&t;"
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
op_ge
l_int|0x0f
op_logical_and
id|nid
OL
l_int|0x11
)paren
(brace
"&t;&t;"
id|nid_vol
op_assign
id|nid
l_int|0x7
suffix:semicolon
"&t;&t;"
id|vol_val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid_vol
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;&t;"
id|sw_val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
)brace
r_else
r_if
c_cond
(paren
id|nid
op_eq
l_int|0x11
)paren
(brace
"&t;&t;"
id|nid_vol
op_assign
id|nid
l_int|0x7
suffix:semicolon
"&t;&t;"
id|vol_val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid_vol
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;&t;"
id|sw_val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
)brace
r_else
r_if
c_cond
(paren
id|nid
op_ge
l_int|0x12
op_logical_and
id|nid
op_le
l_int|0x15
)paren
(brace
"&t;&t;"
id|nid_vol
op_assign
l_int|0x08
suffix:semicolon
"&t;&t;"
id|vol_val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid_vol
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;&t;"
id|sw_val
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
suffix:semicolon
"&t;"
)brace
r_else
"&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* N/A */
"&t;"
"&t;"
id|snprintf
c_func
(paren
id|name
comma
r_sizeof
(paren
id|name
)paren
comma
l_string|&quot;%s Playback Volume&quot;
comma
id|pfx
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
id|name
comma
id|vol_val
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|snprintf
c_func
(paren
id|name
comma
r_sizeof
(paren
id|name
)paren
comma
l_string|&quot;%s Playback Switch&quot;
comma
id|pfx
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
id|name
comma
id|sw_val
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* add playback controls from the parsed DAC table */
r_int
id|alc260_auto_create_multi_out_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
"&t;&t;&t;&t;&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
l_int|1
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dac_nids
op_assign
id|spec-&gt;private_dac_nids
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
op_assign
l_int|0x02
suffix:semicolon
"&t;"
id|nid
op_assign
id|cfg-&gt;line_out_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|alc260_add_playback_controls
c_func
(paren
id|spec
comma
id|nid
comma
l_string|&quot;Front&quot;
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
id|nid
op_assign
id|cfg-&gt;speaker_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|alc260_add_playback_controls
c_func
(paren
id|spec
comma
id|nid
comma
l_string|&quot;Speaker&quot;
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
id|nid
op_assign
id|cfg-&gt;hp_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
(brace
"&t;&t;"
id|err
op_assign
id|alc260_add_playback_controls
c_func
(paren
id|spec
comma
id|nid
comma
l_string|&quot;Headphone&quot;
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
)brace
multiline_comment|/* create playback/capture controls for input pins */
r_int
id|alc260_auto_create_analog_input_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
"&t;&t;&t;&t;&t;&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
r_struct
id|hda_input_mux
op_star
id|imux
op_assign
op_amp
id|spec-&gt;private_imux
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
comma
id|idx
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|AUTO_PIN_LAST
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|cfg-&gt;input_pins
(braket
id|i
)braket
op_ge
l_int|0x12
)paren
(brace
"&t;&t;&t;"
id|idx
op_assign
id|cfg-&gt;input_pins
(braket
id|i
)braket
l_int|0x12
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|new_analog_input
c_func
(paren
id|spec
comma
id|cfg-&gt;input_pins
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;"
id|auto_pin_cfg_labels
(braket
id|i
)braket
comma
id|idx
comma
l_int|0x07
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|label
op_assign
id|auto_pin_cfg_labels
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|index
op_assign
id|idx
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;num_items
op_increment
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
r_if
c_cond
(paren
(paren
id|cfg-&gt;input_pins
(braket
id|i
)braket
op_ge
l_int|0x0f
)paren
op_logical_and
(paren
id|cfg-&gt;input_pins
(braket
id|i
)braket
op_le
l_int|0x10
)paren
)paren
(brace
"&t;&t;&t;"
id|idx
op_assign
id|cfg-&gt;input_pins
(braket
id|i
)braket
l_int|0x09
suffix:semicolon
"&t;&t;&t;"
id|err
op_assign
id|new_analog_input
c_func
(paren
id|spec
comma
id|cfg-&gt;input_pins
(braket
id|i
)braket
comma
"&t;&t;&t;&t;&t;"
id|auto_pin_cfg_labels
(braket
id|i
)braket
comma
id|idx
comma
l_int|0x07
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|label
op_assign
id|auto_pin_cfg_labels
(braket
id|i
)braket
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|index
op_assign
id|idx
suffix:semicolon
"&t;&t;&t;"
id|imux-&gt;num_items
op_increment
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_void
id|alc260_auto_set_output_and_unmute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
id|hda_nid_t
id|nid
comma
r_int
id|pin_type
comma
"&t;&t;&t;&t;&t;"
r_int
id|sel_idx
)paren
(brace
"&t;"
multiline_comment|/* set as output */
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|pin_type
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)paren
suffix:semicolon
"&t;"
multiline_comment|/* need the manual connection? */
"&t;"
r_if
c_cond
(paren
id|nid
op_ge
l_int|0x12
)paren
(brace
"&t;&t;"
r_int
id|idx
op_assign
id|nid
l_int|0x12
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|idx
op_plus
l_int|0x0b
comma
l_int|0
comma
"&t;&t;&t;&t;"
id|AC_VERB_SET_CONNECT_SEL
comma
id|sel_idx
)paren
suffix:semicolon
"&t;&t;&t;&t;"
"&t;"
)brace
)brace
r_void
id|alc260_auto_init_multi_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
id|nid
op_assign
id|spec-&gt;autocfg.line_out_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
"&t;"
r_if
c_cond
(paren
id|nid
)paren
"&t;&t;"
id|alc260_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|nid
comma
id|PIN_OUT
comma
l_int|0
)paren
suffix:semicolon
"&t;"
"&t;"
id|nid
op_assign
id|spec-&gt;autocfg.speaker_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
"&t;&t;"
id|alc260_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|nid
comma
id|PIN_OUT
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|nid
op_assign
id|spec-&gt;autocfg.hp_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
"&t;&t;"
id|alc260_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|nid
comma
id|PIN_OUT
comma
l_int|0
)paren
suffix:semicolon
)brace
"&t;"
macro_line|#define ALC260_PIN_CD_NID&t;&t;0x16
r_void
id|alc260_auto_init_analog_input
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|AUTO_PIN_LAST
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.input_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|nid
op_ge
l_int|0x12
)paren
(brace
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|i
op_le
id|AUTO_PIN_FRONT_MIC
ques
c_cond
id|PIN_VREF80
suffix:colon
id|PIN_IN
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|nid
op_ne
id|ALC260_PIN_CD_NID
)paren
"&t;&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;&t;&t;"
id|AMP_OUT_MUTE
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
)brace
multiline_comment|/*&n; * generic initialization of ADC, input mixers and output mixers&n; */
r_struct
id|hda_verb
id|alc260_volume_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0-1 and set the default input to mic-in&n;&t; */
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute input amps (CD, Line In, Mic 1 &amp; Mic 2) of the analog-loopback&n;&t; * mixer widget&n;&t; * Note: PASD motherboards uses the Line In 2 as the input for front panel&n;&t; * mic (mic 2)&n;&t; */
"&t;"
multiline_comment|/* Amp Indices: Mic1 = 0, Mic2 = 1, Line1 = 2, Line2 = 3, CD = 4 */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/*&n;&t; * Set up output mixers (0x08 - 0x0a)&n;&t; */
"&t;"
multiline_comment|/* set vol=0 to output mixers */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* set up input amps for analog loopback */
"&t;"
multiline_comment|/* Amp Indices: DAC = 0, mixer = 1 */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_int
id|alc260_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|wcap
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|hda_nid_t
id|alc260_ignore
(braket
)braket
op_assign
(brace
l_int|0x17
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_hda_parse_pin_def_config
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;autocfg
comma
"&t;&t;&t;&t;&t;&t;"
id|alc260_ignore
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|alc260_auto_create_multi_out_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;kctl_alloc
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* can&squot;t find valid BIOS pin config */
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|alc260_auto_create_analog_input_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|spec-&gt;multiout.max_channels
op_assign
l_int|2
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.dig_out_pin
)paren
"&t;&t;"
id|spec-&gt;multiout.dig_out_nid
op_assign
id|ALC260_DIGOUT_NID
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;kctl_alloc
)paren
"&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
op_increment
)braket
op_assign
id|spec-&gt;kctl_alloc
suffix:semicolon
"&t;"
id|spec-&gt;init_verbs
(braket
id|spec-&gt;num_init_verbs
op_increment
)braket
op_assign
id|alc260_volume_init_verbs
suffix:semicolon
"&t;"
id|spec-&gt;input_mux
op_assign
op_amp
id|spec-&gt;private_imux
suffix:semicolon
"&t;"
multiline_comment|/* check whether NID 0x04 is valid */
"&t;"
id|wcap
op_assign
id|get_wcaps
c_func
(paren
id|codec
comma
l_int|0x04
)paren
suffix:semicolon
"&t;"
id|wcap
op_assign
(paren
id|wcap
op_amp
id|AC_WCAP_TYPE
)paren
op_rshift
id|AC_WCAP_TYPE_SHIFT
suffix:semicolon
multiline_comment|/* get type */
"&t;"
r_if
c_cond
(paren
id|wcap
op_ne
id|AC_WID_AUD_IN
)paren
(brace
"&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc260_adc_nids_alt
suffix:semicolon
"&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_adc_nids_alt
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc260_capture_alt_mixer
suffix:semicolon
"&t;"
)brace
r_else
(brace
"&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc260_adc_nids
suffix:semicolon
"&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_adc_nids
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc260_capture_mixer
suffix:semicolon
"&t;"
)brace
"&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* additional initialization for auto-configuration model */
r_void
id|alc260_auto_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc260_auto_init_multi_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc260_auto_init_analog_input
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC260 configurations&n; */
r_struct
id|hda_board_config
id|alc260_cfg_tbl
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;basic&quot;
comma
dot
id|config
op_assign
id|ALC260_BASIC
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x104d
comma
dot
id|pci_subdevice
op_assign
l_int|0x81bb
comma
"&t;"
dot
id|config
op_assign
id|ALC260_BASIC
)brace
comma
multiline_comment|/* Sony VAIO */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x152d
comma
dot
id|pci_subdevice
op_assign
l_int|0x0729
comma
"&t;"
dot
id|config
op_assign
id|ALC260_BASIC
)brace
comma
multiline_comment|/* CTL Travel Master U553W */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;hp&quot;
comma
dot
id|config
op_assign
id|ALC260_HP
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x3010
comma
dot
id|config
op_assign
id|ALC260_HP
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x3011
comma
dot
id|config
op_assign
id|ALC260_HP
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x3012
comma
dot
id|config
op_assign
id|ALC260_HP
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x3013
comma
dot
id|config
op_assign
id|ALC260_HP_3013
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x3014
comma
dot
id|config
op_assign
id|ALC260_HP
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x3015
comma
dot
id|config
op_assign
id|ALC260_HP
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x103c
comma
dot
id|pci_subdevice
op_assign
l_int|0x3016
comma
dot
id|config
op_assign
id|ALC260_HP
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;fujitsu&quot;
comma
dot
id|config
op_assign
id|ALC260_FUJITSU_S702X
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x10cf
comma
dot
id|pci_subdevice
op_assign
l_int|0x1326
comma
dot
id|config
op_assign
id|ALC260_FUJITSU_S702X
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;acer&quot;
comma
dot
id|config
op_assign
id|ALC260_ACER
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1025
comma
dot
id|pci_subdevice
op_assign
l_int|0x008f
comma
dot
id|config
op_assign
id|ALC260_ACER
)brace
comma
macro_line|#ifdef CONFIG_SND_DEBUG
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;test&quot;
comma
dot
id|config
op_assign
id|ALC260_TEST
)brace
comma
macro_line|#endif
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;auto&quot;
comma
dot
id|config
op_assign
id|ALC260_AUTO
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|alc_config_preset
id|alc260_presets
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC260_BASIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc260_base_output_mixer
comma
"&t;&t;&t;"
id|alc260_input_mixer
comma
"&t;&t;&t;"
id|alc260_pc_beep_mixer
comma
"&t;&t;&t;"
id|alc260_capture_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc260_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc260_dac_nids
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc260_adc_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc260_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc260_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC260_HP
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc260_base_output_mixer
comma
"&t;&t;&t;"
id|alc260_input_mixer
comma
"&t;&t;&t;"
id|alc260_capture_alt_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc260_hp_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc260_dac_nids
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_hp_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc260_hp_adc_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc260_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc260_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC260_HP_3013
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc260_hp_3013_mixer
comma
"&t;&t;&t;"
id|alc260_input_mixer
comma
"&t;&t;&t;"
id|alc260_capture_alt_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc260_hp_3013_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc260_dac_nids
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_hp_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc260_hp_adc_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc260_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc260_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC260_FUJITSU_S702X
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc260_fujitsu_mixer
comma
"&t;&t;&t;"
id|alc260_capture_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc260_fujitsu_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc260_dac_nids
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_dual_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc260_dual_adc_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc260_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc260_fujitsu_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC260_ACER
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc260_acer_mixer
comma
"&t;&t;&t;"
id|alc260_capture_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc260_acer_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc260_dac_nids
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_dual_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc260_dual_adc_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc260_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc260_acer_capture_source
comma
"&t;"
)brace
comma
macro_line|#ifdef CONFIG_SND_DEBUG
"&t;"
(braket
id|ALC260_TEST
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc260_test_mixer
comma
"&t;&t;&t;"
id|alc260_capture_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc260_test_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_test_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc260_test_dac_nids
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_test_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc260_test_adc_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc260_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc260_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc260_test_capture_source
comma
"&t;"
)brace
comma
macro_line|#endif
)brace
suffix:semicolon
r_int
id|patch_alc260
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
comma
id|board_config
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|board_config
op_assign
id|snd_hda_check_board_config
c_func
(paren
id|codec
comma
id|alc260_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
op_logical_or
id|board_config
op_ge
id|ALC260_MODEL_LAST
)paren
(brace
"&t;&t;"
id|snd_printd
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Unknown model for ALC260&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC260_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC260_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc260_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
(brace
"&t;&t;&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Cannot set up configuration from BIOS.  Using base mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC260_BASIC
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC260_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|spec
comma
op_amp
id|alc260_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_analog
op_assign
l_string|&quot;ALC260 Analog&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_playback
op_assign
op_amp
id|alc260_pcm_analog_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_capture
op_assign
op_amp
id|alc260_pcm_analog_capture
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_digital
op_assign
l_string|&quot;ALC260 Digital&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_playback
op_assign
op_amp
id|alc260_pcm_digital_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_capture
op_assign
op_amp
id|alc260_pcm_digital_capture
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC260_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc260_auto_init
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC882 support&n; *&n; * ALC882 is almost identical with ALC880 but has cleaner and more flexible&n; * configuration.  Each pin widget can choose any input DACs and a mixer.&n; * Each ADC is connected from a mixer of all inputs.  This makes possible&n; * 6-channel independent captures.&n; *&n; * In addition, an independent DAC for the multi-playback (not used in this&n; * driver yet).&n; */
macro_line|#define ALC882_DIGOUT_NID&t;0x06
macro_line|#define ALC882_DIGIN_NID&t;0x0a
r_struct
id|hda_channel_mode
id|alc882_ch_modes
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
(brace
l_int|8
comma
l_int|NULL
)brace
)brace
suffix:semicolon
id|hda_nid_t
id|alc882_dac_nids
(braket
l_int|4
)braket
op_assign
(brace
"&t;"
multiline_comment|/* front, rear, clfe, rear_surr */
"&t;"
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x05
)brace
suffix:semicolon
multiline_comment|/* identical with ALC880 */
macro_line|#define alc882_adc_nids&t;&t;alc880_adc_nids
macro_line|#define alc882_adc_nids_alt&t;alc880_adc_nids_alt
multiline_comment|/* input MUX */
multiline_comment|/* FIXME: should be a matrix-type input source selection */
r_struct
id|hda_input_mux
id|alc882_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|4
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Front Mic&quot;
comma
l_int|0x1
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Line&quot;
comma
l_int|0x2
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
macro_line|#define alc882_mux_enum_info alc_mux_enum_info
macro_line|#define alc882_mux_enum_get alc_mux_enum_get
r_int
id|alc882_mux_enum_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_const
r_struct
id|hda_input_mux
op_star
id|imux
op_assign
id|spec-&gt;input_mux
suffix:semicolon
"&t;"
r_int
r_int
id|adc_idx
op_assign
id|snd_ctl_get_ioffidx
c_func
(paren
id|kcontrol
comma
op_amp
id|ucontrol-&gt;id
)paren
suffix:semicolon
"&t;"
id|hda_nid_t
id|capture_mixers
(braket
l_int|3
)braket
op_assign
(brace
l_int|0x24
comma
l_int|0x23
comma
l_int|0x22
)brace
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
op_assign
id|capture_mixers
(braket
id|adc_idx
)braket
suffix:semicolon
"&t;"
r_int
r_int
op_star
id|cur_val
op_assign
op_amp
id|spec-&gt;cur_mux
(braket
id|adc_idx
)braket
suffix:semicolon
"&t;"
r_int
r_int
id|i
comma
id|idx
suffix:semicolon
"&t;"
id|idx
op_assign
id|ucontrol-&gt;value.enumerated.item
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|idx
op_ge
id|imux-&gt;num_items
)paren
"&t;&t;"
id|idx
op_assign
id|imux-&gt;num_items
l_int|1
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_star
id|cur_val
op_eq
id|idx
op_logical_and
op_logical_neg
id|codec-&gt;in_resume
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|imux-&gt;num_items
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_int
r_int
id|v
op_assign
(paren
id|i
op_eq
id|idx
)paren
ques
c_cond
l_int|0x7000
suffix:colon
l_int|0x7080
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;"
id|v
op_or
(paren
id|imux-&gt;items
(braket
id|i
)braket
dot
id|index
op_lshift
l_int|8
)paren
)paren
suffix:semicolon
"&t;"
)brace
"&t;"
op_star
id|cur_val
op_assign
id|idx
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/*&n; * 6ch mode&n; */
r_struct
id|hda_verb
id|alc882_sixstack_ch6_init
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/*&n; * 8ch mode&n; */
r_struct
id|hda_verb
id|alc882_sixstack_ch8_init
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_channel_mode
id|alc882_sixstack_modes
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
(brace
l_int|6
comma
id|alc882_sixstack_ch6_init
)brace
comma
"&t;"
(brace
l_int|8
comma
id|alc882_sixstack_ch8_init
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* Pin assignment: Front=0x14, Rear=0x15, CLFE=0x16, Side=0x17&n; *                 Mic=0x18, Front Mic=0x19, Line-In=0x1a, HP=0x1b&n; */
r_struct
id|snd_kcontrol_new
id|alc882_base_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x0c
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Surround Playback Volume&quot;
comma
l_int|0x0d
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x0d
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Center Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;LFE Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|1
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Side Playback Volume&quot;
comma
l_int|0x0f
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_BIND_MUTE
c_func
(paren
l_string|&quot;Side Playback Switch&quot;
comma
l_int|0x0f
comma
l_int|2
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x1b
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x1
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;PC Speaker Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;PC Speaker Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x05
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|1
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|1
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|2
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|2
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|3
comma
"&t;&t;"
dot
id|info
op_assign
id|alc882_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc882_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc882_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc882_chmode_mixer
(braket
)braket
op_assign
(brace
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_ch_mode_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_ch_mode_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_ch_mode_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc882_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* Front mixer: unmute input/output amp left and right (volume = 0) */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* Rear mixer */
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* CLFE mixer */
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* Side mixer */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* Front Pin: output 0 (0x0c) */
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* Rear Pin: output 1 (0x0d) */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
multiline_comment|/* CLFE Pin: output 2 (0x0e) */
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x02
)brace
comma
"&t;"
multiline_comment|/* Side Pin: output 3 (0x0f) */
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_OUT
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x03
)brace
comma
"&t;"
multiline_comment|/* Mic (rear) pin: input vref at 80% */
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* Front Mic pin: input vref at 80% */
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_VREF80
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* Line In pin: input */
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
multiline_comment|/* Line-2 In: Headphone output (output 0 - 0x0c) */
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* CD pin widget for input */
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_IN
)brace
comma
"&t;"
multiline_comment|/* FIXME: use matrix-type input source selection */
"&t;"
multiline_comment|/* Mixer elements: 0x18, 19, 1a, 1b, 1c, 1d, 14, 15, 16, 17, 0b */
"&t;"
multiline_comment|/* Input mixer1: unmute Mic, F-Mic, Line, CD inputs */
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer2 */
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer3 */
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/* ADC1: mute amp left and right */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* ADC2: mute amp left and right */
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* ADC3: mute amp left and right */
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * generic initialization of ADC, input mixers and output mixers&n; */
r_struct
id|hda_verb
id|alc882_auto_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0-2 and set the default input to mic-in&n;&t; */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute input amps (CD, Line In, Mic 1 &amp; Mic 2) of the analog-loopback&n;&t; * mixer widget&n;&t; * Note: PASD motherboards uses the Line In 2 as the input for front panel&n;&t; * mic (mic 2)&n;&t; */
"&t;"
multiline_comment|/* Amp Indices: Mic1 = 0, Mic2 = 1, Line1 = 2, Line2 = 3, CD = 4 */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/*&n;&t; * Set up output mixers (0x0c - 0x0f)&n;&t; */
"&t;"
multiline_comment|/* set vol=0 to output mixers */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* set up input amps for analog loopback */
"&t;"
multiline_comment|/* Amp Indices: DAC = 0, mixer = 1 */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x26
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x26
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* FIXME: use matrix-type input source selection */
"&t;"
multiline_comment|/* Mixer elements: 0x18, 19, 1a, 1b, 1c, 1d, 14, 15, 16, 17, 0b */
"&t;"
multiline_comment|/* Input mixer1: unmute Mic, F-Mic, Line, CD inputs */
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer2 */
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer3 */
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* capture mixer elements */
r_struct
id|snd_kcontrol_new
id|alc882_capture_alt_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|1
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|1
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; * FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|2
comma
"&t;&t;"
dot
id|info
op_assign
id|alc882_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc882_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc882_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc882_capture_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x07
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|1
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|1
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_IDX
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|2
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_IDX
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|2
comma
l_int|0x09
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; * FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|3
comma
"&t;&t;"
dot
id|info
op_assign
id|alc882_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc882_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc882_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* pcm configuration: identiacal with ALC880 */
macro_line|#define alc882_pcm_analog_playback&t;alc880_pcm_analog_playback
macro_line|#define alc882_pcm_analog_capture&t;alc880_pcm_analog_capture
macro_line|#define alc882_pcm_digital_playback&t;alc880_pcm_digital_playback
macro_line|#define alc882_pcm_digital_capture&t;alc880_pcm_digital_capture
multiline_comment|/*&n; * configuration and preset&n; */
r_struct
id|hda_board_config
id|alc882_cfg_tbl
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;3stack-dig&quot;
comma
dot
id|config
op_assign
id|ALC882_3ST_DIG
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;6stack-dig&quot;
comma
dot
id|config
op_assign
id|ALC882_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1462
comma
dot
id|pci_subdevice
op_assign
l_int|0x6668
comma
dot
id|config
op_assign
id|ALC882_6ST_DIG
)brace
comma
multiline_comment|/* MSI  */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x105b
comma
dot
id|pci_subdevice
op_assign
l_int|0x6668
comma
dot
id|config
op_assign
id|ALC882_6ST_DIG
)brace
comma
multiline_comment|/* Foxconn */
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x1019
comma
dot
id|pci_subdevice
op_assign
l_int|0x6668
comma
dot
id|config
op_assign
id|ALC882_6ST_DIG
)brace
comma
multiline_comment|/* ECS */
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;auto&quot;
comma
dot
id|config
op_assign
id|ALC882_AUTO
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|alc_config_preset
id|alc882_presets
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC882_3ST_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc882_base_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc882_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc882_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC882_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc882_adc_nids
comma
"&t;&t;"
dot
id|dig_in_nid
op_assign
id|ALC882_DIGIN_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_ch_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc882_ch_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc882_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC882_6ST_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc882_base_mixer
comma
id|alc882_chmode_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc882_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc882_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC882_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc882_adc_nids
comma
"&t;&t;"
dot
id|dig_in_nid
op_assign
id|ALC882_DIGIN_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_sixstack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc882_sixstack_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc882_capture_source
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * BIOS auto configuration&n; */
r_void
id|alc882_auto_set_output_and_unmute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;&t;"
id|hda_nid_t
id|nid
comma
r_int
id|pin_type
comma
"&t;&t;&t;&t;&t;"
r_int
id|dac_idx
)paren
(brace
"&t;"
multiline_comment|/* set as output */
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|idx
suffix:semicolon
"&t;"
"&t;"
r_if
c_cond
(paren
id|spec-&gt;multiout.dac_nids
(braket
id|dac_idx
)braket
op_eq
l_int|0x25
)paren
"&t;&t;"
id|idx
op_assign
l_int|4
suffix:semicolon
"&t;"
r_else
"&t;&t;"
id|idx
op_assign
id|spec-&gt;multiout.dac_nids
(braket
id|dac_idx
)braket
l_int|2
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|pin_type
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_CONNECT_SEL
comma
id|idx
)paren
suffix:semicolon
)brace
r_void
id|alc882_auto_init_multi_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
op_le
id|HDA_SIDE
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;"
"&t;&t;"
r_if
c_cond
(paren
id|nid
)paren
"&t;&t;&t;"
id|alc882_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|nid
comma
id|PIN_OUT
comma
id|i
)paren
suffix:semicolon
"&t;"
)brace
)brace
r_void
id|alc882_auto_init_hp_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|pin
suffix:semicolon
"&t;"
id|pin
op_assign
id|spec-&gt;autocfg.hp_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|pin
)paren
multiline_comment|/* connect to front */
"&t;&t;"
id|alc882_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|pin
comma
id|PIN_HP
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* use dac 0 */
)brace
macro_line|#define alc882_is_input_pin(nid)&t;alc880_is_input_pin(nid)
macro_line|#define ALC882_PIN_CD_NID&t;&t;ALC880_PIN_CD_NID
r_void
id|alc882_auto_init_analog_input
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|AUTO_PIN_LAST
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.input_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|alc882_is_input_pin
c_func
(paren
id|nid
)paren
)paren
(brace
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|i
op_le
id|AUTO_PIN_FRONT_MIC
ques
c_cond
id|PIN_VREF80
suffix:colon
id|PIN_IN
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
id|nid
op_ne
id|ALC882_PIN_CD_NID
)paren
"&t;&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
"&t;&t;&t;&t;&t;&t;"
id|AMP_OUT_MUTE
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
)brace
multiline_comment|/* almost identical with ALC880 parser... */
r_int
id|alc882_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|err
op_assign
id|alc880_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_else
r_if
c_cond
(paren
id|err
OG
l_int|0
)paren
"&t;&t;"
multiline_comment|/* hack - override the init verbs */
"&t;&t;"
id|spec-&gt;init_verbs
(braket
l_int|0
)braket
op_assign
id|alc882_auto_init_verbs
suffix:semicolon
"&t;"
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/* additional initialization for auto-configuration model */
r_void
id|alc882_auto_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc882_auto_init_multi_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc882_auto_init_hp_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc882_auto_init_analog_input
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; *  ALC882 Headphone poll in 3.5.1a or 3.5.2&n; */
r_int
id|patch_alc882
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|err
comma
id|board_config
suffix:semicolon
"&t;"
id|spec
op_assign
id|kzalloc
c_func
(paren
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|board_config
op_assign
id|snd_hda_check_board_config
c_func
(paren
id|codec
comma
id|alc882_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
op_logical_or
id|board_config
op_ge
id|ALC882_MODEL_LAST
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Unknown model for ALC882, trying auto-probe from BIOS...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC882_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC882_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc882_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
(brace
"&t;&t;&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Cannot set up configuration from BIOS.  Using base mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC882_3ST_DIG
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC882_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|spec
comma
op_amp
id|alc882_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_analog
op_assign
l_string|&quot;ALC882 Analog&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_playback
op_assign
op_amp
id|alc882_pcm_analog_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_capture
op_assign
op_amp
id|alc882_pcm_analog_capture
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_digital
op_assign
l_string|&quot;ALC882 Digital&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_playback
op_assign
op_amp
id|alc882_pcm_digital_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_capture
op_assign
op_amp
id|alc882_pcm_digital_capture
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;adc_nids
op_logical_and
id|spec-&gt;input_mux
)paren
(brace
"&t;&t;"
multiline_comment|/* check whether NID 0x07 is valid */
"&t;&t;"
r_int
r_int
id|wcap
op_assign
id|get_wcaps
c_func
(paren
id|codec
comma
l_int|0x07
)paren
suffix:semicolon
"&t;&t;"
id|wcap
op_assign
(paren
id|wcap
op_amp
id|AC_WCAP_TYPE
)paren
op_rshift
id|AC_WCAP_TYPE_SHIFT
suffix:semicolon
multiline_comment|/* get type */
"&t;&t;"
r_if
c_cond
(paren
id|wcap
op_ne
id|AC_WID_AUD_IN
)paren
(brace
"&t;&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc882_adc_nids_alt
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_adc_nids_alt
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc882_capture_alt_mixer
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc882_adc_nids
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc882_adc_nids
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc882_capture_mixer
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC882_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc882_auto_init
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * ALC262 support&n; */
macro_line|#define ALC262_DIGOUT_NID&t;ALC880_DIGOUT_NID
macro_line|#define ALC262_DIGIN_NID&t;ALC880_DIGIN_NID
macro_line|#define alc262_dac_nids&t;&t;alc260_dac_nids
macro_line|#define alc262_adc_nids&t;&t;alc882_adc_nids
macro_line|#define alc262_adc_nids_alt&t;alc882_adc_nids_alt
macro_line|#define alc262_modes&t;&t;alc260_modes
macro_line|#define alc262_capture_source&t;alc882_capture_source
r_struct
id|snd_kcontrol_new
id|alc262_base_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Playback Volume&quot;
comma
l_int|0x0c
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x14
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Front Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
multiline_comment|/* HDA_CODEC_VOLUME(&quot;PC Beep Playback Volume&quot;, 0x0b, 0x05, HDA_INPUT),&n;&t;   HDA_CODEC_MUTE(&quot;PC Beelp Playback Switch&quot;, 0x0b, 0x05, HDA_INPUT), */
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Headphone Playback Volume&quot;
comma
l_int|0x0D
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME_MONO
c_func
(paren
l_string|&quot;Mono Playback Volume&quot;
comma
l_int|0x0e
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_MONO
c_func
(paren
l_string|&quot;Mono Playback Switch&quot;
comma
l_int|0x16
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
macro_line|#define alc262_capture_mixer&t;&t;alc882_capture_mixer
macro_line|#define alc262_capture_alt_mixer&t;alc882_capture_alt_mixer
multiline_comment|/*&n; * generic initialization of ADC, input mixers and output mixers&n; */
r_struct
id|hda_verb
id|alc262_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0-2 and set the default input to mic-in&n;&t; */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute input amps (CD, Line In, Mic 1 &amp; Mic 2) of the analog-loopback&n;&t; * mixer widget&n;&t; * Note: PASD motherboards uses the Line In 2 as the input for front panel&n;&t; * mic (mic 2)&n;&t; */
"&t;"
multiline_comment|/* Amp Indices: Mic1 = 0, Mic2 = 1, Line1 = 2, Line2 = 3, CD = 4 */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/*&n;&t; * Set up output mixers (0x0c - 0x0e)&n;&t; */
"&t;"
multiline_comment|/* set vol=0 to output mixers */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
multiline_comment|/* set up input amps for analog loopback */
"&t;"
multiline_comment|/* Amp Indices: DAC = 0, mixer = 1 */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0xc0
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
(brace
l_int|0x1c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0x0000
)brace
comma
"&t;"
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
"&t;"
multiline_comment|/* FIXME: use matrix-type input source selection */
"&t;"
multiline_comment|/* Mixer elements: 0x18, 19, 1a, 1b, 1c, 1d, 14, 15, 16, 17, 0b */
"&t;"
multiline_comment|/* Input mixer1: unmute Mic, F-Mic, Line, CD inputs */
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer2 */
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer3 */
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * fujitsu model&n; *  0x14 = headphone/spdif-out, 0x15 = internal speaker&n; */
macro_line|#define ALC_HP_EVENT&t;0x37
r_struct
id|hda_verb
id|alc262_fujitsu_unsol_verbs
(braket
)braket
op_assign
(brace
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_UNSOLICITED_ENABLE
comma
id|AC_USRSP_EN
op_or
id|ALC_HP_EVENT
)brace
comma
"&t;"
(brace
l_int|0x14
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|PIN_HP
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_input_mux
id|alc262_fujitsu_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|2
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* mute/unmute internal speaker according to the hp jack and mute state */
r_void
id|alc262_fujitsu_automute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
r_int
id|force
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
r_int
id|mute
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|force
op_logical_or
op_logical_neg
id|spec-&gt;sense_updated
)paren
(brace
"&t;&t;"
r_int
r_int
id|present
suffix:semicolon
"&t;&t;"
multiline_comment|/* need to execute and sync at first */
"&t;&t;"
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x14
comma
l_int|0
comma
id|AC_VERB_SET_PIN_SENSE
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|present
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x14
comma
l_int|0
comma
"&t;&t;&t;&t;"
"&t;"
id|AC_VERB_GET_PIN_SENSE
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|spec-&gt;jack_present
op_assign
(paren
id|present
op_amp
l_int|0x80000000
)paren
op_ne
l_int|0
suffix:semicolon
"&t;&t;"
id|spec-&gt;sense_updated
op_assign
l_int|1
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|spec-&gt;jack_present
)paren
(brace
"&t;&t;"
multiline_comment|/* mute internal speaker */
"&t;&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x15
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x80
comma
l_int|0x80
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x15
comma
l_int|1
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x80
comma
l_int|0x80
)paren
suffix:semicolon
"&t;"
)brace
r_else
(brace
"&t;&t;"
multiline_comment|/* unmute internal speaker if necessary */
"&t;&t;"
id|mute
op_assign
id|snd_hda_codec_amp_read
c_func
(paren
id|codec
comma
l_int|0x14
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x15
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x80
comma
id|mute
op_amp
l_int|0x80
)paren
suffix:semicolon
"&t;&t;"
id|mute
op_assign
id|snd_hda_codec_amp_read
c_func
(paren
id|codec
comma
l_int|0x14
comma
l_int|1
comma
id|HDA_OUTPUT
comma
l_int|0
)paren
suffix:semicolon
"&t;&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x15
comma
l_int|1
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x80
comma
id|mute
op_amp
l_int|0x80
)paren
suffix:semicolon
"&t;"
)brace
)brace
multiline_comment|/* unsolicited event for HP jack sensing */
r_void
id|alc262_fujitsu_unsol_event
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
"&t;&t;&t;&t;"
r_int
r_int
id|res
)paren
(brace
"&t;"
r_if
c_cond
(paren
(paren
id|res
op_rshift
l_int|26
)paren
op_ne
id|ALC_HP_EVENT
)paren
"&t;&t;"
r_return
suffix:semicolon
"&t;"
id|alc262_fujitsu_automute
c_func
(paren
id|codec
comma
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/* bind volumes of both NID 0x0c and 0x0d */
r_int
id|alc262_fujitsu_master_vol_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_int
op_star
id|valp
op_assign
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
id|change
suffix:semicolon
"&t;"
id|change
op_assign
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x0c
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x7f
comma
id|valp
(braket
l_int|0
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
"&t;"
id|change
op_or_assign
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x0c
comma
l_int|1
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x7f
comma
id|valp
(braket
l_int|1
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x0d
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;"
l_int|0x7f
comma
id|valp
(braket
l_int|0
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x0d
comma
l_int|1
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;"
l_int|0x7f
comma
id|valp
(braket
l_int|1
)braket
op_amp
l_int|0x7f
)paren
suffix:semicolon
"&t;"
r_return
id|change
suffix:semicolon
)brace
multiline_comment|/* bind hp and internal speaker mute (with plug check) */
r_int
id|alc262_fujitsu_master_sw_put
c_func
(paren
r_struct
id|snd_kcontrol
op_star
id|kcontrol
comma
"&t;&t;&t;&t;&t;"
r_struct
id|snd_ctl_elem_value
op_star
id|ucontrol
)paren
(brace
"&t;"
r_struct
id|hda_codec
op_star
id|codec
op_assign
id|snd_kcontrol_chip
c_func
(paren
id|kcontrol
)paren
suffix:semicolon
"&t;"
r_int
op_star
id|valp
op_assign
id|ucontrol-&gt;value.integer.value
suffix:semicolon
"&t;"
r_int
id|change
suffix:semicolon
"&t;"
id|change
op_assign
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x14
comma
l_int|0
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x80
comma
id|valp
(braket
l_int|0
)braket
ques
c_cond
l_int|0
suffix:colon
l_int|0x80
)paren
suffix:semicolon
"&t;"
id|change
op_or_assign
id|snd_hda_codec_amp_update
c_func
(paren
id|codec
comma
l_int|0x14
comma
l_int|1
comma
id|HDA_OUTPUT
comma
l_int|0
comma
"&t;&t;&t;&t;&t;"
l_int|0x80
comma
id|valp
(braket
l_int|1
)braket
ques
c_cond
l_int|0
suffix:colon
l_int|0x80
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|change
op_logical_or
id|codec-&gt;in_resume
)paren
"&t;&t;"
id|alc262_fujitsu_automute
c_func
(paren
id|codec
comma
id|codec-&gt;in_resume
)paren
suffix:semicolon
"&t;"
r_return
id|change
suffix:semicolon
)brace
r_struct
id|snd_kcontrol_new
id|alc262_fujitsu_mixer
(braket
)braket
op_assign
(brace
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Master Playback Volume&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|snd_hda_mixer_amp_volume_info
comma
"&t;&t;"
dot
id|get
op_assign
id|snd_hda_mixer_amp_volume_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc262_fujitsu_master_vol_put
comma
"&t;&t;"
dot
id|private_value
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
l_int|0x0c
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
)brace
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Master Playback Switch&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|snd_hda_mixer_amp_switch_info
comma
"&t;&t;"
dot
id|get
op_assign
id|snd_hda_mixer_amp_switch_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc262_fujitsu_master_sw_put
comma
"&t;&t;"
dot
id|private_value
op_assign
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
l_int|0x14
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
)brace
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x04
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Boost&quot;
comma
l_int|0x18
comma
l_int|0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x0b
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/* add playback controls from the parsed DAC table */
r_int
id|alc262_auto_create_multi_out_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
l_int|1
suffix:semicolon
"&t;"
multiline_comment|/* only use one dac */
"&t;"
id|spec-&gt;multiout.dac_nids
op_assign
id|spec-&gt;private_dac_nids
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
op_assign
l_int|2
suffix:semicolon
"&t;"
id|nid
op_assign
id|cfg-&gt;line_out_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
l_string|&quot;Front Playback Volume&quot;
comma
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
l_int|0x0c
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
l_string|&quot;Front Playback Switch&quot;
comma
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
)brace
"&t;"
id|nid
op_assign
id|cfg-&gt;speaker_pins
(braket
l_int|0
)braket
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
(brace
"&t;&t;"
r_if
c_cond
(paren
id|nid
op_eq
l_int|0x16
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
l_string|&quot;Speaker Playback Volume&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
l_int|0x0e
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
l_string|&quot;Speaker Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
l_string|&quot;Speaker Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|nid
op_assign
id|cfg-&gt;hp_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|nid
)paren
(brace
"&t;&t;"
multiline_comment|/* spec-&gt;multiout.hp_nid = 2; */
"&t;&t;"
r_if
c_cond
(paren
id|nid
op_eq
l_int|0x16
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_VOL
comma
l_string|&quot;Headphone Playback Volume&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
l_int|0x0e
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
l_string|&quot;Headphone Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
l_string|&quot;Headphone Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
)brace
multiline_comment|/* identical with ALC880 */
macro_line|#define alc262_auto_create_analog_input_ctls alc880_auto_create_analog_input_ctls
multiline_comment|/*&n; * generic initialization of ADC, input mixers and output mixers&n; */
r_struct
id|hda_verb
id|alc262_volume_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0-2 and set the default input to mic-in&n;&t; */
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x09
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute input amps (CD, Line In, Mic 1 &amp; Mic 2) of the analog-loopback&n;&t; * mixer widget&n;&t; * Note: PASD motherboards uses the Line In 2 as the input for front panel&n;&t; * mic (mic 2)&n;&t; */
"&t;"
multiline_comment|/* Amp Indices: Mic1 = 0, Mic2 = 1, Line1 = 2, Line2 = 3, CD = 4 */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|4
)paren
)brace
comma
"&t;"
multiline_comment|/*&n;&t; * Set up output mixers (0x0c - 0x0f)&n;&t; */
"&t;"
multiline_comment|/* set vol=0 to output mixers */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_ZERO
)brace
comma
"&t;"
"&t;"
multiline_comment|/* set up input amps for analog loopback */
"&t;"
multiline_comment|/* Amp Indices: DAC = 0, mixer = 1 */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
multiline_comment|/* FIXME: use matrix-type input source selection */
"&t;"
multiline_comment|/* Mixer elements: 0x18, 19, 1a, 1b, 1c, 1d, 14, 15, 16, 17, 0b */
"&t;"
multiline_comment|/* Input mixer1: unmute Mic, F-Mic, Line, CD inputs */
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x24
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer2 */
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x23
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
multiline_comment|/* Input mixer3 */
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x00
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x03
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
l_int|0x22
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x04
op_lshift
l_int|8
)paren
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* pcm configuration: identiacal with ALC880 */
macro_line|#define alc262_pcm_analog_playback&t;alc880_pcm_analog_playback
macro_line|#define alc262_pcm_analog_capture&t;alc880_pcm_analog_capture
macro_line|#define alc262_pcm_digital_playback&t;alc880_pcm_digital_playback
macro_line|#define alc262_pcm_digital_capture&t;alc880_pcm_digital_capture
multiline_comment|/*&n; * BIOS auto configuration&n; */
r_int
id|alc262_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|hda_nid_t
id|alc262_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_hda_parse_pin_def_config
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;autocfg
comma
"&t;&t;&t;&t;&t;&t;"
id|alc262_ignore
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;autocfg.line_outs
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* can&squot;t find valid BIOS pin config */
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|alc262_auto_create_multi_out_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc262_auto_create_analog_input_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|spec-&gt;multiout.max_channels
op_assign
id|spec-&gt;multiout.num_dacs
op_star
l_int|2
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.dig_out_pin
)paren
"&t;&t;"
id|spec-&gt;multiout.dig_out_nid
op_assign
id|ALC262_DIGOUT_NID
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.dig_in_pin
)paren
"&t;&t;"
id|spec-&gt;dig_in_nid
op_assign
id|ALC262_DIGIN_NID
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;kctl_alloc
)paren
"&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
op_increment
)braket
op_assign
id|spec-&gt;kctl_alloc
suffix:semicolon
"&t;"
id|spec-&gt;init_verbs
(braket
id|spec-&gt;num_init_verbs
op_increment
)braket
op_assign
id|alc262_volume_init_verbs
suffix:semicolon
"&t;"
id|spec-&gt;input_mux
op_assign
op_amp
id|spec-&gt;private_imux
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
macro_line|#define alc262_auto_init_multi_out&t;alc882_auto_init_multi_out
macro_line|#define alc262_auto_init_hp_out&t;&t;alc882_auto_init_hp_out
macro_line|#define alc262_auto_init_analog_input&t;alc882_auto_init_analog_input
multiline_comment|/* init callback for auto-configuration model -- overriding the default init */
r_void
id|alc262_auto_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc262_auto_init_multi_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc262_auto_init_hp_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc262_auto_init_analog_input
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * configuration and preset&n; */
r_struct
id|hda_board_config
id|alc262_cfg_tbl
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;basic&quot;
comma
dot
id|config
op_assign
id|ALC262_BASIC
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;fujitsu&quot;
comma
dot
id|config
op_assign
id|ALC262_FUJITSU
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x10cf
comma
dot
id|pci_subdevice
op_assign
l_int|0x1397
comma
dot
id|config
op_assign
id|ALC262_FUJITSU
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;auto&quot;
comma
dot
id|config
op_assign
id|ALC262_AUTO
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|alc_config_preset
id|alc262_presets
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC262_BASIC
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc262_base_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc262_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc262_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc262_dac_nids
comma
"&t;&t;"
dot
id|hp_nid
op_assign
l_int|0x03
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc262_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc262_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc262_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC262_FUJITSU
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc262_fujitsu_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc262_init_verbs
comma
id|alc262_fujitsu_unsol_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc262_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc262_dac_nids
comma
"&t;&t;"
dot
id|hp_nid
op_assign
l_int|0x03
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC262_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc262_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc262_modes
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc262_fujitsu_capture_source
comma
"&t;&t;"
dot
id|unsol_event
op_assign
id|alc262_fujitsu_unsol_event
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
r_int
id|patch_alc262
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|board_config
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kcalloc
c_func
(paren
l_int|1
comma
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
macro_line|#if 0
"&t;"
multiline_comment|/* pshou 07/11/05  set a zero PCM sample to DAC when FIFO is under-run */
"&t;"
(brace
"&t;"
r_int
id|tmp
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;"
id|tmp
op_assign
id|snd_hda_codec_read
c_func
(paren
id|codec
comma
l_int|0x20
comma
l_int|0
comma
id|AC_VERB_GET_PROC_COEF
comma
l_int|0
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
id|AC_VERB_SET_COEF_INDEX
comma
l_int|7
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
l_int|0x1a
comma
l_int|0
comma
id|AC_VERB_SET_PROC_COEF
comma
id|tmp
op_or
l_int|0x80
)paren
suffix:semicolon
"&t;"
)brace
macro_line|#endif
"&t;"
id|board_config
op_assign
id|snd_hda_check_board_config
c_func
(paren
id|codec
comma
id|alc262_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
op_logical_or
id|board_config
op_ge
id|ALC262_MODEL_LAST
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Unknown model for ALC262, trying auto-probe from BIOS...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC262_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC262_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc262_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
(brace
"&t;&t;&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Cannot set up configuration from BIOS.  Using base mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;&t;"
id|board_config
op_assign
id|ALC262_BASIC
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC262_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|spec
comma
op_amp
id|alc262_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_analog
op_assign
l_string|&quot;ALC262 Analog&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_playback
op_assign
op_amp
id|alc262_pcm_analog_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_capture
op_assign
op_amp
id|alc262_pcm_analog_capture
suffix:semicolon
"&t;&t;"
"&t;"
id|spec-&gt;stream_name_digital
op_assign
l_string|&quot;ALC262 Digital&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_playback
op_assign
op_amp
id|alc262_pcm_digital_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_capture
op_assign
op_amp
id|alc262_pcm_digital_capture
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;adc_nids
op_logical_and
id|spec-&gt;input_mux
)paren
(brace
"&t;&t;"
multiline_comment|/* check whether NID 0x07 is valid */
"&t;&t;"
r_int
r_int
id|wcap
op_assign
id|get_wcaps
c_func
(paren
id|codec
comma
l_int|0x07
)paren
suffix:semicolon
"&t;&t;"
id|wcap
op_assign
(paren
id|wcap
op_amp
id|AC_WCAP_TYPE
)paren
op_rshift
id|AC_WCAP_TYPE_SHIFT
suffix:semicolon
multiline_comment|/* get type */
"&t;&t;"
r_if
c_cond
(paren
id|wcap
op_ne
id|AC_WID_AUD_IN
)paren
(brace
"&t;&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc262_adc_nids_alt
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc262_adc_nids_alt
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc262_capture_alt_mixer
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
id|spec-&gt;adc_nids
op_assign
id|alc262_adc_nids
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc262_adc_nids
)paren
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc262_capture_mixer
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC262_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc262_auto_init
suffix:semicolon
"&t;&t;"
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; *  ALC861 channel source setting (2/6 channel selection for 3-stack)&n; */
multiline_comment|/*&n; * set the path ways for 2 channel output&n; * need to set the codec line out and mic 1 pin widgets to inputs&n; */
r_struct
id|hda_verb
id|alc861_threestack_ch2_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set pin widget 1Ah (line in) for input */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* set pin widget 18h (mic1/2) for input, for mic also enable the vref */
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb00c
)brace
comma
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
singleline_comment|//mic
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7000
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
singleline_comment|//line in
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
multiline_comment|/*&n; * 6ch mode&n; * need to set the codec line out and mic 1 pin widgets to outputs&n; */
r_struct
id|hda_verb
id|alc861_threestack_ch6_init
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/* set pin widget 1Ah (line in) for output (Back Surround)*/
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
multiline_comment|/* set pin widget 18h (mic1) for output (CLFE)*/
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
(brace
l_int|0x0d
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb080
)brace
comma
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x01
op_lshift
l_int|8
)paren
)paren
)brace
comma
singleline_comment|//mic
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
(paren
l_int|0x7080
op_or
(paren
l_int|0x02
op_lshift
l_int|8
)paren
)paren
)brace
comma
singleline_comment|//line in
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|hda_channel_mode
id|alc861_threestack_modes
(braket
l_int|2
)braket
op_assign
(brace
"&t;"
(brace
l_int|2
comma
id|alc861_threestack_ch2_init
)brace
comma
"&t;"
(brace
l_int|6
comma
id|alc861_threestack_ch6_init
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* patch-ALC861 */
r_struct
id|snd_kcontrol_new
id|alc861_base_mixer
(braket
)braket
op_assign
(brace
multiline_comment|/* output mixer control */
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x03
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x06
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x05
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x05
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Side Playback Switch&quot;
comma
l_int|0x04
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
multiline_comment|/*Input mixer control */
"&t;"
multiline_comment|/* HDA_CODEC_VOLUME(&quot;Input Playback Volume&quot;, 0x15, 0x0, HDA_OUTPUT),&n;&t;   HDA_CODEC_MUTE(&quot;Input Playback Switch&quot;, 0x15, 0x0, HDA_OUTPUT), */
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x15
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x15
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x15
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Mic Playback Switch&quot;
comma
l_int|0x10
comma
l_int|0x01
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x1a
comma
l_int|0x03
comma
id|HDA_INPUT
)paren
comma
multiline_comment|/* Capture mixer control */
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Capture Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|1
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_struct
id|snd_kcontrol_new
id|alc861_3ST_mixer
(braket
)braket
op_assign
(brace
multiline_comment|/* output mixer control */
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Playback Switch&quot;
comma
l_int|0x03
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Surround Playback Switch&quot;
comma
l_int|0x06
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_MONO
c_func
(paren
l_string|&quot;Center Playback Switch&quot;
comma
l_int|0x05
comma
l_int|1
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE_MONO
c_func
(paren
l_string|&quot;LFE Playback Switch&quot;
comma
l_int|0x05
comma
l_int|2
comma
l_int|0x0
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
multiline_comment|/*HDA_CODEC_MUTE(&quot;Side Playback Switch&quot;, 0x04, 0x0, HDA_OUTPUT), */
"&t;"
multiline_comment|/* Input mixer control */
"&t;"
multiline_comment|/* HDA_CODEC_VOLUME(&quot;Input Playback Volume&quot;, 0x15, 0x0, HDA_OUTPUT),&n;&t;   HDA_CODEC_MUTE(&quot;Input Playback Switch&quot;, 0x15, 0x0, HDA_OUTPUT), */
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;CD Playback Volume&quot;
comma
l_int|0x15
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;CD Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Line Playback Volume&quot;
comma
l_int|0x15
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Line Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x02
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Mic Playback Volume&quot;
comma
l_int|0x15
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Mic Playback Switch&quot;
comma
l_int|0x15
comma
l_int|0x01
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Front Mic Playback Switch&quot;
comma
l_int|0x10
comma
l_int|0x01
comma
id|HDA_OUTPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Headphone Playback Switch&quot;
comma
l_int|0x1a
comma
l_int|0x03
comma
id|HDA_INPUT
)paren
comma
"&t;"
multiline_comment|/* Capture mixer control */
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Capture Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|1
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Channel Mode&quot;
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_ch_mode_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_ch_mode_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_ch_mode_put
comma
dot
id|private_value
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_threestack_modes
)paren
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
"&t;&t;&t;"
"&t;"
multiline_comment|/*&n; * generic initialization of ADC, input mixers and output mixers&n; */
r_struct
id|hda_verb
id|alc861_base_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0 and set the default input to mic-in&n;&t; */
"&t;"
multiline_comment|/* port-A for surround (rear panel) */
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* port-B for mic-in (rear panel) with vref */
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* port-C for line-in (rear panel) */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* port-D for Front */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* port-E for HP out (front panel) */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0xc0
)brace
comma
"&t;"
multiline_comment|/* route front PCM to HP */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
multiline_comment|/* port-F for mic-in (front panel) with vref */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* port-G for CLFE (rear panel) */
"&t;"
(brace
l_int|0x1f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x1f
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* port-H for side (rear panel) */
"&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* CD-in */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* route front mic to ADC1*/
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute DAC0~3 &amp; spdif out*/
"&t;"
(brace
l_int|0x03
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x06
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute Mixer 14 (mic) 1c (Line in)*/
"&t;"
(brace
l_int|0x014
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
(brace
l_int|0x014
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x01c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
(brace
l_int|0x01c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute Stereo Mixer 15 */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb00c
)brace
comma
singleline_comment|//Output 0~12 step
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
singleline_comment|// hp used DAC 3 (Front)
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|hda_verb
id|alc861_threestack_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0 and set the default input to mic-in&n;&t; */
"&t;"
multiline_comment|/* port-A for surround (rear panel) */
"&t;"
(brace
l_int|0x0e
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* port-B for mic-in (rear panel) with vref */
"&t;"
(brace
l_int|0x0d
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* port-C for line-in (rear panel) */
"&t;"
(brace
l_int|0x0c
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* port-D for Front */
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x40
)brace
comma
"&t;"
(brace
l_int|0x0b
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* port-E for HP out (front panel) */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0xc0
)brace
comma
"&t;"
multiline_comment|/* route front PCM to HP */
"&t;"
(brace
l_int|0x0f
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x01
)brace
comma
"&t;"
multiline_comment|/* port-F for mic-in (front panel) with vref */
"&t;"
(brace
l_int|0x10
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x24
)brace
comma
"&t;"
multiline_comment|/* port-G for CLFE (rear panel) */
"&t;"
(brace
l_int|0x1f
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* port-H for side (rear panel) */
"&t;"
(brace
l_int|0x20
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x00
)brace
comma
"&t;"
multiline_comment|/* CD-in */
"&t;"
(brace
l_int|0x11
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
l_int|0x20
)brace
comma
"&t;"
multiline_comment|/* route front mic to ADC1*/
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
multiline_comment|/* Unmute DAC0~3 &amp; spdif out*/
"&t;"
(brace
l_int|0x03
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x06
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute Mixer 14 (mic) 1c (Line in)*/
"&t;"
(brace
l_int|0x014
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
(brace
l_int|0x014
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x01c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
(brace
l_int|0x01c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute Stereo Mixer 15 */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb00c
)brace
comma
singleline_comment|//Output 0~12 step
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
singleline_comment|// hp used DAC 3 (Front)
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/*&n; * generic initialization of ADC, input mixers and output mixers&n; */
r_struct
id|hda_verb
id|alc861_auto_init_verbs
(braket
)braket
op_assign
(brace
"&t;"
multiline_comment|/*&n;&t; * Unmute ADC0 and set the default input to mic-in&n;&t; */
singleline_comment|//&t;{0x08, AC_VERB_SET_CONNECT_SEL, 0x00},
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute DAC0~3 &amp; spdif out*/
"&t;"
(brace
l_int|0x03
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x04
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x05
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x06
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_MUTE
)brace
comma
"&t;"
(brace
l_int|0x07
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute Mixer 14 (mic) 1c (Line in)*/
"&t;"
(brace
l_int|0x014
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x014
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x01c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x01c
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
"&t;"
multiline_comment|/* Unmute Stereo Mixer 15 */
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
(brace
l_int|0x15
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
l_int|0xb00c
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x16
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x17
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x18
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x19
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
"&t;"
(brace
l_int|0x1a
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;&t;"
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|0
)paren
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_MUTE
c_func
(paren
l_int|1
)paren
)brace
comma
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|2
)paren
)brace
comma
"&t;"
"&t;"
(brace
l_int|0x1b
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_IN_UNMUTE
c_func
(paren
l_int|3
)paren
)brace
comma
"&t;"
"&t;"
(brace
l_int|0x08
comma
id|AC_VERB_SET_CONNECT_SEL
comma
l_int|0x00
)brace
comma
"&t;"
singleline_comment|// set Mic 1
"&t;"
(brace
)brace
)brace
suffix:semicolon
multiline_comment|/* pcm configuration: identiacal with ALC880 */
macro_line|#define alc861_pcm_analog_playback&t;alc880_pcm_analog_playback
macro_line|#define alc861_pcm_analog_capture&t;alc880_pcm_analog_capture
macro_line|#define alc861_pcm_digital_playback&t;alc880_pcm_digital_playback
macro_line|#define alc861_pcm_digital_capture&t;alc880_pcm_digital_capture
macro_line|#define ALC861_DIGOUT_NID&t;0x07
r_struct
id|hda_channel_mode
id|alc861_8ch_modes
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
(brace
l_int|8
comma
l_int|NULL
)brace
)brace
suffix:semicolon
id|hda_nid_t
id|alc861_dac_nids
(braket
l_int|4
)braket
op_assign
(brace
"&t;"
multiline_comment|/* front, surround, clfe, side */
"&t;"
l_int|0x03
comma
l_int|0x06
comma
l_int|0x05
comma
l_int|0x04
)brace
suffix:semicolon
id|hda_nid_t
id|alc861_adc_nids
(braket
l_int|1
)braket
op_assign
(brace
"&t;"
multiline_comment|/* ADC0-2 */
"&t;"
l_int|0x08
comma
)brace
suffix:semicolon
r_struct
id|hda_input_mux
id|alc861_capture_source
op_assign
(brace
"&t;"
dot
id|num_items
op_assign
l_int|5
comma
"&t;"
dot
id|items
op_assign
(brace
"&t;&t;"
(brace
l_string|&quot;Mic&quot;
comma
l_int|0x0
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Front Mic&quot;
comma
l_int|0x3
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Line&quot;
comma
l_int|0x1
)brace
comma
"&t;&t;"
(brace
l_string|&quot;CD&quot;
comma
l_int|0x4
)brace
comma
"&t;&t;"
(brace
l_string|&quot;Mixer&quot;
comma
l_int|0x5
)brace
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* fill in the dac_nids table from the parsed pin configuration */
r_int
id|alc861_auto_fill_dac_nids
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
id|spec-&gt;multiout.dac_nids
op_assign
id|spec-&gt;private_dac_nids
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|nid
op_assign
id|cfg-&gt;line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|nid
)paren
(brace
"&t;&t;&t;"
r_if
c_cond
(paren
id|i
op_ge
id|ARRAY_SIZE
c_func
(paren
id|alc861_dac_nids
)paren
)paren
"&t;&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;&t;"
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
op_assign
id|alc861_dac_nids
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
id|spec-&gt;multiout.num_dacs
op_assign
id|cfg-&gt;line_outs
suffix:semicolon
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* add playback controls from the parsed DAC table */
r_int
id|alc861_auto_create_multi_out_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
"&t;&t;&t;&t;&t;"
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
r_char
id|name
(braket
l_int|32
)braket
suffix:semicolon
"&t;"
r_const
r_char
op_star
id|chname
(braket
l_int|4
)braket
op_assign
(brace
l_string|&quot;Front&quot;
comma
l_string|&quot;Surround&quot;
comma
l_int|NULL
multiline_comment|/*CLFE*/
comma
l_string|&quot;Side&quot;
)brace
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_int
id|i
comma
id|idx
comma
id|err
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|cfg-&gt;line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|nid
op_assign
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
op_logical_neg
id|nid
)paren
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|nid
op_eq
l_int|0x05
)paren
(brace
"&t;&t;&t;"
multiline_comment|/* Center/LFE */
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_MUTE
comma
l_string|&quot;Center Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|1
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_MUTE
comma
l_string|&quot;LFE Playback Switch&quot;
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|2
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
(brace
"&t;&t;&t;"
r_for
c_loop
(paren
id|idx
op_assign
l_int|0
suffix:semicolon
id|idx
OL
id|ARRAY_SIZE
c_func
(paren
id|alc861_dac_nids
)paren
l_int|1
suffix:semicolon
id|idx
op_increment
)paren
"&t;&t;&t;&t;"
r_if
c_cond
(paren
id|nid
op_eq
id|alc861_dac_nids
(braket
id|idx
)braket
)paren
"&t;&t;&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;&t;"
id|sprintf
c_func
(paren
id|name
comma
l_string|&quot;%s Playback Switch&quot;
comma
id|chname
(braket
id|idx
)braket
)paren
suffix:semicolon
"&t;&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_BIND_MUTE
comma
id|name
comma
"&t;&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_int
id|alc861_auto_create_hp_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
id|hda_nid_t
id|pin
)paren
(brace
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|hda_nid_t
id|nid
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|pin
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|pin
op_ge
l_int|0x0b
op_logical_and
id|pin
op_le
l_int|0x10
)paren
op_logical_or
id|pin
op_eq
l_int|0x1f
op_logical_or
id|pin
op_eq
l_int|0x20
)paren
(brace
"&t;&t;"
id|nid
op_assign
l_int|0x03
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|add_control
c_func
(paren
id|spec
comma
id|ALC_CTL_WIDGET_MUTE
comma
l_string|&quot;Headphone Playback Switch&quot;
comma
"&t;&t;&t;&t;"
id|HDA_COMPOSE_AMP_VAL
c_func
(paren
id|nid
comma
l_int|3
comma
l_int|0
comma
id|HDA_OUTPUT
)paren
)paren
)paren
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
id|spec-&gt;multiout.hp_nid
op_assign
id|nid
suffix:semicolon
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* create playback/capture controls for input pins */
r_int
id|alc861_auto_create_analog_input_ctls
c_func
(paren
r_struct
id|alc_spec
op_star
id|spec
comma
r_const
r_struct
id|auto_pin_cfg
op_star
id|cfg
)paren
(brace
"&t;"
r_struct
id|hda_input_mux
op_star
id|imux
op_assign
op_amp
id|spec-&gt;private_imux
suffix:semicolon
"&t;"
r_int
id|i
comma
id|err
comma
id|idx
comma
id|idx1
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|AUTO_PIN_LAST
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
r_switch
c_cond
(paren
id|cfg-&gt;input_pins
(braket
id|i
)braket
)paren
(brace
"&t;&t;"
r_case
l_int|0x0c
suffix:colon
"&t;&t;&t;"
id|idx1
op_assign
l_int|1
suffix:semicolon
"&t;&t;&t;"
id|idx
op_assign
l_int|2
suffix:semicolon
"&t;"
singleline_comment|// Line In
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x0f
suffix:colon
"&t;&t;&t;"
id|idx1
op_assign
l_int|2
suffix:semicolon
"&t;&t;&t;"
id|idx
op_assign
l_int|2
suffix:semicolon
"&t;"
singleline_comment|// Line In
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x0d
suffix:colon
"&t;&t;&t;"
id|idx1
op_assign
l_int|0
suffix:semicolon
"&t;&t;&t;"
id|idx
op_assign
l_int|1
suffix:semicolon
"&t;"
singleline_comment|// Mic In 
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x10
suffix:colon
"&t;"
"&t;&t;&t;"
id|idx1
op_assign
l_int|3
suffix:semicolon
"&t;&t;&t;"
id|idx
op_assign
l_int|1
suffix:semicolon
"&t;"
singleline_comment|// Mic In 
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_case
l_int|0x11
suffix:colon
"&t;&t;&t;"
id|idx1
op_assign
l_int|4
suffix:semicolon
"&t;&t;&t;"
id|idx
op_assign
l_int|0
suffix:semicolon
"&t;"
singleline_comment|// CD
"&t;&t;&t;"
r_break
suffix:semicolon
"&t;&t;"
r_default
suffix:colon
"&t;&t;&t;"
r_continue
suffix:semicolon
"&t;&t;"
)brace
"&t;&t;"
id|err
op_assign
id|new_analog_input
c_func
(paren
id|spec
comma
id|cfg-&gt;input_pins
(braket
id|i
)braket
comma
"&t;&t;&t;&t;"
id|auto_pin_cfg_labels
(braket
id|i
)braket
comma
id|idx
comma
l_int|0x15
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|label
op_assign
id|auto_pin_cfg_labels
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
id|imux-&gt;items
(braket
id|imux-&gt;num_items
)braket
dot
id|index
op_assign
id|idx1
suffix:semicolon
"&t;&t;"
id|imux-&gt;num_items
op_increment
suffix:semicolon
"&t;"
"&t;"
)brace
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
r_struct
id|snd_kcontrol_new
id|alc861_capture_mixer
(braket
)braket
op_assign
(brace
"&t;"
id|HDA_CODEC_VOLUME
c_func
(paren
l_string|&quot;Capture Volume&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
id|HDA_CODEC_MUTE
c_func
(paren
l_string|&quot;Capture Switch&quot;
comma
l_int|0x08
comma
l_int|0x0
comma
id|HDA_INPUT
)paren
comma
"&t;"
(brace
"&t;&t;"
dot
id|iface
op_assign
id|SNDRV_CTL_ELEM_IFACE_MIXER
comma
"&t;&t;"
multiline_comment|/* The multiple &quot;Capture Source&quot; controls confuse alsamixer&n;&t;&t; * So call somewhat different..&n;&t;&t; *FIXME: the controls appear in the &quot;playback&quot; view!&n;&t;&t; */
"&t;&t;"
multiline_comment|/* .name = &quot;Capture Source&quot;, */
"&t;&t;"
dot
id|name
op_assign
l_string|&quot;Input Source&quot;
comma
"&t;&t;"
dot
id|count
op_assign
l_int|1
comma
"&t;&t;"
dot
id|info
op_assign
id|alc_mux_enum_info
comma
"&t;&t;"
dot
id|get
op_assign
id|alc_mux_enum_get
comma
"&t;&t;"
dot
id|put
op_assign
id|alc_mux_enum_put
comma
"&t;"
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* end */
)brace
suffix:semicolon
r_void
id|alc861_auto_set_output_and_unmute
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
comma
id|hda_nid_t
id|nid
comma
"&t;&t;&t;&t;&t;"
r_int
id|pin_type
comma
r_int
id|dac_idx
)paren
(brace
"&t;"
multiline_comment|/* set as output */
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
id|pin_type
)paren
suffix:semicolon
"&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|dac_idx
comma
l_int|0
comma
id|AC_VERB_SET_AMP_GAIN_MUTE
comma
id|AMP_OUT_UNMUTE
)paren
suffix:semicolon
)brace
r_void
id|alc861_auto_init_multi_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|spec-&gt;autocfg.line_outs
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.line_out_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|nid
)paren
"&t;&t;&t;"
id|alc861_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|nid
comma
id|PIN_OUT
comma
id|spec-&gt;multiout.dac_nids
(braket
id|i
)braket
)paren
suffix:semicolon
"&t;"
)brace
)brace
r_void
id|alc861_auto_init_hp_out
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
id|hda_nid_t
id|pin
suffix:semicolon
"&t;"
id|pin
op_assign
id|spec-&gt;autocfg.hp_pin
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|pin
)paren
multiline_comment|/* connect to front */
"&t;&t;"
id|alc861_auto_set_output_and_unmute
c_func
(paren
id|codec
comma
id|pin
comma
id|PIN_HP
comma
id|spec-&gt;multiout.dac_nids
(braket
l_int|0
)braket
)paren
suffix:semicolon
)brace
r_void
id|alc861_auto_init_analog_input
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|i
suffix:semicolon
"&t;"
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|AUTO_PIN_LAST
suffix:semicolon
id|i
op_increment
)paren
(brace
"&t;&t;"
id|hda_nid_t
id|nid
op_assign
id|spec-&gt;autocfg.input_pins
(braket
id|i
)braket
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
(paren
id|nid
op_ge
l_int|0x0c
)paren
op_logical_and
(paren
id|nid
op_le
l_int|0x11
)paren
)paren
(brace
"&t;&t;&t;"
id|snd_hda_codec_write
c_func
(paren
id|codec
comma
id|nid
comma
l_int|0
comma
id|AC_VERB_SET_PIN_WIDGET_CONTROL
comma
"&t;&t;&t;&t;&t;"
id|i
op_le
id|AUTO_PIN_FRONT_MIC
ques
c_cond
id|PIN_VREF80
suffix:colon
id|PIN_IN
)paren
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
)brace
multiline_comment|/* parse the BIOS configuration and set up the alc_spec */
multiline_comment|/* return 1 if successful, 0 if the proper config is not found, or a negative error code */
r_int
id|alc861_parse_auto_config
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
op_assign
id|codec-&gt;spec
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|hda_nid_t
id|alc861_ignore
(braket
)braket
op_assign
(brace
l_int|0x1d
comma
l_int|0
)brace
suffix:semicolon
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|snd_hda_parse_pin_def_config
c_func
(paren
id|codec
comma
op_amp
id|spec-&gt;autocfg
comma
"&t;&t;&t;&t;&t;&t;"
id|alc861_ignore
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
r_if
c_cond
(paren
op_logical_neg
id|spec-&gt;autocfg.line_outs
)paren
"&t;&t;"
r_return
l_int|0
suffix:semicolon
multiline_comment|/* can&squot;t find valid BIOS pin config */
"&t;"
r_if
c_cond
(paren
(paren
id|err
op_assign
id|alc861_auto_fill_dac_nids
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc861_auto_create_multi_out_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc861_auto_create_hp_ctls
c_func
(paren
id|spec
comma
id|spec-&gt;autocfg.hp_pin
)paren
)paren
OL
l_int|0
op_logical_or
"&t;"
(paren
id|err
op_assign
id|alc861_auto_create_analog_input_ctls
c_func
(paren
id|spec
comma
op_amp
id|spec-&gt;autocfg
)paren
)paren
OL
l_int|0
)paren
"&t;&t;"
r_return
id|err
suffix:semicolon
"&t;"
id|spec-&gt;multiout.max_channels
op_assign
id|spec-&gt;multiout.num_dacs
op_star
l_int|2
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;autocfg.dig_out_pin
)paren
"&t;&t;"
id|spec-&gt;multiout.dig_out_nid
op_assign
id|ALC861_DIGOUT_NID
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec-&gt;kctl_alloc
)paren
"&t;&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
op_increment
)braket
op_assign
id|spec-&gt;kctl_alloc
suffix:semicolon
"&t;"
id|spec-&gt;init_verbs
(braket
id|spec-&gt;num_init_verbs
op_increment
)braket
op_assign
id|alc861_auto_init_verbs
suffix:semicolon
"&t;"
id|spec-&gt;input_mux
op_assign
op_amp
id|spec-&gt;private_imux
suffix:semicolon
"&t;"
id|spec-&gt;adc_nids
op_assign
id|alc861_adc_nids
suffix:semicolon
"&t;"
id|spec-&gt;num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_adc_nids
)paren
suffix:semicolon
"&t;"
id|spec-&gt;mixers
(braket
id|spec-&gt;num_mixers
)braket
op_assign
id|alc861_capture_mixer
suffix:semicolon
"&t;"
id|spec-&gt;num_mixers
op_increment
suffix:semicolon
"&t;"
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/* additional initialization for auto-configuration model */
r_void
id|alc861_auto_init
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
id|alc861_auto_init_multi_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc861_auto_init_hp_out
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;"
id|alc861_auto_init_analog_input
c_func
(paren
id|codec
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * configuration and preset&n; */
r_struct
id|hda_board_config
id|alc861_cfg_tbl
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;3stack&quot;
comma
dot
id|config
op_assign
id|ALC861_3ST
)brace
comma
"&t;"
(brace
dot
id|pci_subvendor
op_assign
l_int|0x8086
comma
dot
id|pci_subdevice
op_assign
l_int|0xd600
comma
dot
id|config
op_assign
id|ALC861_3ST
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;3stack-dig&quot;
comma
dot
id|config
op_assign
id|ALC861_3ST_DIG
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;6stack-dig&quot;
comma
dot
id|config
op_assign
id|ALC861_6ST_DIG
)brace
comma
"&t;"
(brace
dot
id|modelname
op_assign
l_string|&quot;auto&quot;
comma
dot
id|config
op_assign
id|ALC861_AUTO
)brace
comma
"&t;"
(brace
)brace
)brace
suffix:semicolon
r_struct
id|alc_config_preset
id|alc861_presets
(braket
)braket
op_assign
(brace
"&t;"
(braket
id|ALC861_3ST
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc861_3ST_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc861_threestack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc861_dac_nids
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_threestack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc861_threestack_modes
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc861_adc_nids
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc861_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC861_3ST_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc861_base_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc861_threestack_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc861_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC861_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_threestack_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc861_threestack_modes
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc861_adc_nids
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc861_capture_source
comma
"&t;"
)brace
comma
"&t;"
(braket
id|ALC861_6ST_DIG
)braket
op_assign
(brace
"&t;&t;"
dot
id|mixers
op_assign
(brace
id|alc861_base_mixer
)brace
comma
"&t;&t;"
dot
id|init_verbs
op_assign
(brace
id|alc861_base_init_verbs
)brace
comma
"&t;&t;"
dot
id|num_dacs
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_dac_nids
)paren
comma
"&t;&t;"
dot
id|dac_nids
op_assign
id|alc861_dac_nids
comma
"&t;&t;"
dot
id|dig_out_nid
op_assign
id|ALC861_DIGOUT_NID
comma
"&t;&t;"
dot
id|num_channel_mode
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_8ch_modes
)paren
comma
"&t;&t;"
dot
id|channel_mode
op_assign
id|alc861_8ch_modes
comma
"&t;&t;"
dot
id|num_adc_nids
op_assign
id|ARRAY_SIZE
c_func
(paren
id|alc861_adc_nids
)paren
comma
"&t;&t;"
dot
id|adc_nids
op_assign
id|alc861_adc_nids
comma
"&t;&t;"
dot
id|input_mux
op_assign
op_amp
id|alc861_capture_source
comma
"&t;"
)brace
comma
)brace
suffix:semicolon
"&t;"
r_int
id|patch_alc861
c_func
(paren
r_struct
id|hda_codec
op_star
id|codec
)paren
(brace
"&t;"
r_struct
id|alc_spec
op_star
id|spec
suffix:semicolon
"&t;"
r_int
id|board_config
suffix:semicolon
"&t;"
r_int
id|err
suffix:semicolon
"&t;"
id|spec
op_assign
id|kcalloc
c_func
(paren
l_int|1
comma
r_sizeof
(paren
op_star
id|spec
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|spec
op_eq
l_int|NULL
)paren
"&t;&t;"
r_return
id|ENOMEM
suffix:semicolon
"&t;"
id|codec-&gt;spec
op_assign
id|spec
suffix:semicolon
"&t;"
id|board_config
op_assign
id|snd_hda_check_board_config
c_func
(paren
id|codec
comma
id|alc861_cfg_tbl
)paren
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
OL
l_int|0
op_logical_or
id|board_config
op_ge
id|ALC861_MODEL_LAST
)paren
(brace
"&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Unknown model for ALC861, trying auto-probe from BIOS...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC861_AUTO
suffix:semicolon
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC861_AUTO
)paren
(brace
"&t;&t;"
multiline_comment|/* automatic parse from the BIOS config */
"&t;&t;"
id|err
op_assign
id|alc861_parse_auto_config
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;"
r_if
c_cond
(paren
id|err
OL
l_int|0
)paren
(brace
"&t;&t;&t;"
id|alc_free
c_func
(paren
id|codec
)paren
suffix:semicolon
"&t;&t;&t;"
r_return
id|err
suffix:semicolon
"&t;&t;"
)brace
r_else
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
"&t;&t;&t;"
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;hda_codec: Cannot set up configuration from BIOS.  Using base mode...&bslash;n&quot;
)paren
suffix:semicolon
"&t;&t;"
id|board_config
op_assign
id|ALC861_3ST_DIG
suffix:semicolon
"&t;&t;"
)brace
"&t;"
)brace
"&t;"
r_if
c_cond
(paren
id|board_config
op_ne
id|ALC861_AUTO
)paren
"&t;&t;"
id|setup_preset
c_func
(paren
id|spec
comma
op_amp
id|alc861_presets
(braket
id|board_config
)braket
)paren
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_analog
op_assign
l_string|&quot;ALC861 Analog&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_playback
op_assign
op_amp
id|alc861_pcm_analog_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_analog_capture
op_assign
op_amp
id|alc861_pcm_analog_capture
suffix:semicolon
"&t;"
id|spec-&gt;stream_name_digital
op_assign
l_string|&quot;ALC861 Digital&quot;
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_playback
op_assign
op_amp
id|alc861_pcm_digital_playback
suffix:semicolon
"&t;"
id|spec-&gt;stream_digital_capture
op_assign
op_amp
id|alc861_pcm_digital_capture
suffix:semicolon
"&t;"
id|codec-&gt;patch_ops
op_assign
id|alc_patch_ops
suffix:semicolon
"&t;"
r_if
c_cond
(paren
id|board_config
op_eq
id|ALC861_AUTO
)paren
"&t;&t;"
id|spec-&gt;init_hook
op_assign
id|alc861_auto_init
suffix:semicolon
"&t;&t;"
"&t;"
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * patch entries&n; */
r_struct
id|hda_codec_preset
id|snd_hda_preset_realtek
(braket
)braket
op_assign
(brace
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0260
comma
dot
id|name
op_assign
l_string|&quot;ALC260&quot;
comma
dot
id|patch
op_assign
id|patch_alc260
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0262
comma
dot
id|name
op_assign
l_string|&quot;ALC262&quot;
comma
dot
id|patch
op_assign
id|patch_alc262
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0880
comma
dot
id|name
op_assign
l_string|&quot;ALC880&quot;
comma
dot
id|patch
op_assign
id|patch_alc880
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0882
comma
dot
id|name
op_assign
l_string|&quot;ALC882&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0883
comma
dot
id|name
op_assign
l_string|&quot;ALC883&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0885
comma
dot
id|name
op_assign
l_string|&quot;ALC885&quot;
comma
dot
id|patch
op_assign
id|patch_alc882
)brace
comma
"&t;"
(brace
dot
id|id
op_assign
l_int|0x10ec0861
comma
dot
id|name
op_assign
l_string|&quot;ALC861&quot;
comma
dot
id|patch
op_assign
id|patch_alc861
)brace
comma
"&t;"
(brace
)brace
multiline_comment|/* terminator */
)brace
suffix:semicolon
eof
